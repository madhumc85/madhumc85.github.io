"use strict";/**
 *  UI-REFACTORED
 *    FROM --> ./legacy-web/src/main/js/apps/common/js/jquery/aacom/plugins/aaCountryLanSelect.js
 *    TO   --> ./webapps/shared-web/src/main/assets/js/legacy/plugins/aa-country-lan-select.js
 **//*
 * aaCountryLanSelect.js
 */jQuery.countryLanguageSelector=function(){var self=this;jQuery("#aa-country-selector").change(function(){jQuery("select#aa-language-selector").html("");// handcraft JSON because we have some pages that trigger IE9 quirks mode which breaks JSON.stringify()
var jsonData="{ \"locale\": \""+this.value+"\" }";jQuery.ajax({type:"POST",url:"/home/ajax/languageLookup",data:jsonData,contentType:"application/json; charset=UTF-8",async:true,cache:false,timeout:60000,dataType:"json",success:function success(ajaxResponse,textStatus,xhr){var values=ajaxResponse.data.languages;var options="";for(var i=0;i<values.length;i++){options+="<option value=\""+values[i].code+"\">"+values[i].name+"</option>"}jQuery("select#aa-language-selector").html(options);self.changeAlert()}})});jQuery("#aa-language-selector").change(function(){self.changeAlert()});jQuery("#splashForm").submit(function(){var url=jQuery("select#aa-language-selector",this).val();jQuery("#splashSelectedCountry",this).val(self.getParameter(url,"locale"));jQuery("#splashUrl",this).val(self.getParameter(url,"url"));jQuery("#splashGeoRedirect",this).val(self.getParameter(url,"georedirect"))});self.getParameter=function(url,name){return decodeURIComponent((RegExp(name+"="+"(.+?)(&|$)").exec(url)||[,""])[1])};self.changeAlert=function(){if(self.getParameter(jQuery("select#aa-language-selector").val(),"locale")!=jQuery("input#currentLocale").val()){jQuery("#locale-change-alert").slideDown()}else{jQuery("#locale-change-alert").hide("fast")}}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxlZ2FjeS9wbHVnaW5zL2FhLWNvdW50cnktbGFuLXNlbGVjdC5qcyJdLCJuYW1lcyI6WyJqUXVlcnkiLCJjb3VudHJ5TGFuZ3VhZ2VTZWxlY3RvciIsInNlbGYiLCJjaGFuZ2UiLCJodG1sIiwianNvbkRhdGEiLCJ2YWx1ZSIsImFqYXgiLCJ0eXBlIiwidXJsIiwiZGF0YSIsImNvbnRlbnRUeXBlIiwiYXN5bmMiLCJjYWNoZSIsInRpbWVvdXQiLCJkYXRhVHlwZSIsInN1Y2Nlc3MiLCJhamF4UmVzcG9uc2UiLCJ0ZXh0U3RhdHVzIiwieGhyIiwidmFsdWVzIiwibGFuZ3VhZ2VzIiwib3B0aW9ucyIsImkiLCJsZW5ndGgiLCJjb2RlIiwibmFtZSIsImNoYW5nZUFsZXJ0Iiwic3VibWl0IiwidmFsIiwiZ2V0UGFyYW1ldGVyIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiUmVnRXhwIiwiZXhlYyIsInNsaWRlRG93biIsImhpZGUiXSwibWFwcGluZ3MiOiJhQUFBOzs7O0lBTUE7O0dBR0FBLE9BQU9DLHVCQUFQLENBQWlDLFVBQVcsQ0FDeEMsR0FBSUMsTUFBTyxJQUFYLENBRUFGLE9BQU8sc0JBQVAsRUFBK0JHLE1BQS9CLENBQXNDLFVBQVcsQ0FDN0NILE9BQU8sNkJBQVAsRUFBc0NJLElBQXRDLENBQTJDLEVBQTNDLEVBQ0E7QUFDQSxHQUFJQyxVQUFXLG1CQUFrQixLQUFLQyxLQUF2QixDQUErQixNQUE5QyxDQUNBTixPQUFPTyxJQUFQLENBQVksQ0FDUkMsS0FBTSxNQURFLENBRVJDLElBQUssMkJBRkcsQ0FHUkMsS0FBTUwsUUFIRSxDQUlSTSxZQUFhLGlDQUpMLENBS1JDLE1BQU8sSUFMQyxDQU1SQyxNQUFPLEtBTkMsQ0FPUkMsUUFBUyxLQVBELENBUVJDLFNBQVUsTUFSRixDQVNSQyxRQUFTLGlCQUFTQyxZQUFULENBQXVCQyxVQUF2QixDQUFtQ0MsR0FBbkMsQ0FBd0MsQ0FDN0MsR0FBSUMsUUFBU0gsYUFBYVAsSUFBYixDQUFrQlcsU0FBL0IsQ0FDQSxHQUFJQyxTQUFVLEVBQWQsQ0FDQSxJQUFJLEdBQUlDLEdBQUksQ0FBWixDQUFlQSxFQUFJSCxPQUFPSSxNQUExQixDQUFrQ0QsR0FBbEMsQ0FBdUMsQ0FDbkNELFNBQVcsbUJBQW9CRixPQUFPRyxDQUFQLEVBQVVFLElBQTlCLENBQXFDLEtBQXJDLENBQTRDTCxPQUFPRyxDQUFQLEVBQVVHLElBQXRELENBQTZELFdBQzNFLENBQ0QxQixPQUFPLDZCQUFQLEVBQXNDSSxJQUF0QyxDQUEyQ2tCLE9BQTNDLEVBQ0FwQixLQUFLeUIsV0FBTCxFQUNILENBakJPLENBQVosQ0FtQkgsQ0F2QkQsRUF5QkEzQixPQUFPLHVCQUFQLEVBQWdDRyxNQUFoQyxDQUF1QyxVQUFXLENBQzlDRCxLQUFLeUIsV0FBTCxFQUNILENBRkQsRUFJQTNCLE9BQU8sYUFBUCxFQUFzQjRCLE1BQXRCLENBQTZCLFVBQVcsQ0FDcEMsR0FBSW5CLEtBQU1ULE9BQU8sNkJBQVAsQ0FBc0MsSUFBdEMsRUFBNEM2QixHQUE1QyxFQUFWLENBQ0E3QixPQUFPLHdCQUFQLENBQWlDLElBQWpDLEVBQXVDNkIsR0FBdkMsQ0FBMkMzQixLQUFLNEIsWUFBTCxDQUFrQnJCLEdBQWxCLENBQXVCLFFBQXZCLENBQTNDLEVBQ0FULE9BQU8sWUFBUCxDQUFxQixJQUFyQixFQUEyQjZCLEdBQTNCLENBQStCM0IsS0FBSzRCLFlBQUwsQ0FBa0JyQixHQUFsQixDQUF1QixLQUF2QixDQUEvQixFQUNBVCxPQUFPLG9CQUFQLENBQTZCLElBQTdCLEVBQW1DNkIsR0FBbkMsQ0FBdUMzQixLQUFLNEIsWUFBTCxDQUFrQnJCLEdBQWxCLENBQXVCLGFBQXZCLENBQXZDLENBQ0gsQ0FMRCxFQU9BUCxLQUFLNEIsWUFBTCxDQUFvQixTQUFTckIsR0FBVCxDQUFjaUIsSUFBZCxDQUFvQixDQUNwQyxNQUFPSyxvQkFBbUIsQ0FBQ0MsT0FBT04sS0FBTyxHQUFQLENBQWEsWUFBcEIsRUFBa0NPLElBQWxDLENBQXVDeEIsR0FBdkMsR0FBK0MsRUFBRyxFQUFILENBQWhELEVBQXdELENBQXhELENBQW5CLENBQ1YsQ0FGRCxDQUlBUCxLQUFLeUIsV0FBTCxDQUFtQixVQUFXLENBQzFCLEdBQUd6QixLQUFLNEIsWUFBTCxDQUFrQjlCLE9BQU8sNkJBQVAsRUFBc0M2QixHQUF0QyxFQUFsQixDQUErRCxRQUEvRCxHQUNDN0IsT0FBTyxxQkFBUCxFQUE4QjZCLEdBQTlCLEVBREosQ0FDeUMsQ0FDckM3QixPQUFPLHNCQUFQLEVBQStCa0MsU0FBL0IsRUFDSCxDQUhELElBR0ssQ0FDRGxDLE9BQU8sc0JBQVAsRUFBK0JtQyxJQUEvQixDQUFvQyxNQUFwQyxDQUNILENBQ0osQ0FDSixDQW5ERCIsImZpbGUiOiJsZWdhY3kvcGx1Z2lucy9hYS1jb3VudHJ5LWxhbi1zZWxlY3QuanMiLCJzb3VyY2VSb290IjoiL2Fzc2V0cy9qcy8iLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqICBVSS1SRUZBQ1RPUkVEXG4gKiAgICBGUk9NIC0tPiAuL2xlZ2FjeS13ZWIvc3JjL21haW4vanMvYXBwcy9jb21tb24vanMvanF1ZXJ5L2FhY29tL3BsdWdpbnMvYWFDb3VudHJ5TGFuU2VsZWN0LmpzXG4gKiAgICBUTyAgIC0tPiAuL3dlYmFwcHMvc2hhcmVkLXdlYi9zcmMvbWFpbi9hc3NldHMvanMvbGVnYWN5L3BsdWdpbnMvYWEtY291bnRyeS1sYW4tc2VsZWN0LmpzXG4gKiovXG5cbi8qXG4gKiBhYUNvdW50cnlMYW5TZWxlY3QuanNcbiAqL1xualF1ZXJ5LmNvdW50cnlMYW5ndWFnZVNlbGVjdG9yID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgalF1ZXJ5KCcjYWEtY291bnRyeS1zZWxlY3RvcicpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgICAgalF1ZXJ5KFwic2VsZWN0I2FhLWxhbmd1YWdlLXNlbGVjdG9yXCIpLmh0bWwoXCJcIik7XG4gICAgICAgIC8vIGhhbmRjcmFmdCBKU09OIGJlY2F1c2Ugd2UgaGF2ZSBzb21lIHBhZ2VzIHRoYXQgdHJpZ2dlciBJRTkgcXVpcmtzIG1vZGUgd2hpY2ggYnJlYWtzIEpTT04uc3RyaW5naWZ5KClcbiAgICAgICAgdmFyIGpzb25EYXRhID0gJ3sgXCJsb2NhbGVcIjogXCInICsgdGhpcy52YWx1ZSArICdcIiB9JztcbiAgICAgICAgalF1ZXJ5LmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICB1cmw6IFwiL2hvbWUvYWpheC9sYW5ndWFnZUxvb2t1cFwiLFxuICAgICAgICAgICAgZGF0YToganNvbkRhdGEsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9VVRGLTgnLFxuICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICBjYWNoZTogZmFsc2UsXG4gICAgICAgICAgICB0aW1lb3V0OiA2MDAwMCxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihhamF4UmVzcG9uc2UsIHRleHRTdGF0dXMsIHhocikge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBhamF4UmVzcG9uc2UuZGF0YS5sYW5ndWFnZXM7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyArPSAnPG9wdGlvbiB2YWx1ZT1cIicgKyB2YWx1ZXNbaV0uY29kZSArICdcIj4nICsgdmFsdWVzW2ldLm5hbWUgKyAnPC9vcHRpb24+JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgalF1ZXJ5KFwic2VsZWN0I2FhLWxhbmd1YWdlLXNlbGVjdG9yXCIpLmh0bWwob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgc2VsZi5jaGFuZ2VBbGVydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGpRdWVyeSgnI2FhLWxhbmd1YWdlLXNlbGVjdG9yJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmNoYW5nZUFsZXJ0KCk7XG4gICAgfSk7XG5cbiAgICBqUXVlcnkoJyNzcGxhc2hGb3JtJykuc3VibWl0KGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdXJsID0galF1ZXJ5KCdzZWxlY3QjYWEtbGFuZ3VhZ2Utc2VsZWN0b3InLCB0aGlzKS52YWwoKTtcbiAgICAgICAgalF1ZXJ5KFwiI3NwbGFzaFNlbGVjdGVkQ291bnRyeVwiLCB0aGlzKS52YWwoc2VsZi5nZXRQYXJhbWV0ZXIodXJsLCBcImxvY2FsZVwiKSk7XG4gICAgICAgIGpRdWVyeShcIiNzcGxhc2hVcmxcIiwgdGhpcykudmFsKHNlbGYuZ2V0UGFyYW1ldGVyKHVybCwgXCJ1cmxcIikpO1xuICAgICAgICBqUXVlcnkoXCIjc3BsYXNoR2VvUmVkaXJlY3RcIiwgdGhpcykudmFsKHNlbGYuZ2V0UGFyYW1ldGVyKHVybCwgXCJnZW9yZWRpcmVjdFwiKSk7XG4gICAgfSk7XG5cbiAgICBzZWxmLmdldFBhcmFtZXRlciA9IGZ1bmN0aW9uKHVybCwgbmFtZSkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KChSZWdFeHAobmFtZSArICc9JyArICcoLis/KSgmfCQpJykuZXhlYyh1cmwpIHx8IFssIFwiXCJdKVsxXSk7XG4gICAgfTtcblxuICAgIHNlbGYuY2hhbmdlQWxlcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYoc2VsZi5nZXRQYXJhbWV0ZXIoalF1ZXJ5KCdzZWxlY3QjYWEtbGFuZ3VhZ2Utc2VsZWN0b3InKS52YWwoKSwgXCJsb2NhbGVcIikgIT1cbiAgICAgICAgICAgIGpRdWVyeSgnaW5wdXQjY3VycmVudExvY2FsZScpLnZhbCgpKSB7XG4gICAgICAgICAgICBqUXVlcnkoJyNsb2NhbGUtY2hhbmdlLWFsZXJ0Jykuc2xpZGVEb3duKCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgalF1ZXJ5KCcjbG9jYWxlLWNoYW5nZS1hbGVydCcpLmhpZGUoJ2Zhc3QnKTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuIl19
//# sourceMappingURL=aa-country-lan-select.min.js.map
