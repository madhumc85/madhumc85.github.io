'use strict';/**
 *  UI-REFACTORED
 *    FROM --> ./legacy-web/src/main/js/js/aa/modules/utilities.js
 *    TO   --> ./webapps/shared-web/src/main/assets/js/modules/utilities.js
 **//* A module that houses several general js utilities */AAcom.modules.utilities=function(AAUI){/* common event bindings */AAUI.onClick=function(selector,callback){$j(document).on('click',selector,function(e){this.callback=callback;var result=this.callback(e)||false;return result})};AAUI.onChange=function(selector,callback){$j(document).on('change',selector,callback)};AAUI.onMouseEnter=function(selector,callback){$j(document).on('mouseenter',selector,callback)};AAUI.onMouseLeave=function(selector,callback){$j(document).on('mouseleave',selector,callback)};AAUI.onFocus=function(selector,callback){$j(document).on('focus',selector,callback)};AAUI.onBlur=function(selector,callback){$j(document).on('blur',selector,callback)};AAUI.onSubmit=function(selector,callback){$j(document).on('submit',selector,callback)};AAUI.onKeyup=function(selector,callback){$j(document).on('keyup',selector,callback)};AAUI.onKeyPress=function(selector,callback){$j(document).on('keypress',selector,callback)};AAUI.onKeyChange=function(selector,callback){AAUI.onChange(selector,callback);AAUI.onKeyup(selector,function(e){var tabKey=9,shiftKey=16;if(!(e.keyCode==tabKey||e.keyCode==shiftKey)){$j(this).trigger('change')}})};AAUI.onInput=function(selector,callback){$j(document).on('input',selector,callback);if($j('html').hasClass('lt-ie10')){// workaround for ie9 not recognizing del, backspace, cut as input triggers
$j(document).on('cut',selector,callback);$j(document).on('keyup',selector,function(e){var keyCode=e.keyCode||e.which;if(keyCode==8||keyCode==46){this.callback=callback;this.callback(e)}})}};AAUI.off=function(event,selector,callback){$j(document).off(event,selector,callback)};/* A utility to create generic "new window" popups (not to be confused with modal windows) */var genericPopupUtility={popup:function popup(windowUrl,windowName,windowSize,windowWidth,windowHeight){// declare vars used in function
var windowLeft=0,windowTop=0,windowFeatures='',windowObject=null;// set default values for passed arguments
windowUrl=windowUrl||'';windowName=windowName||'';windowSize=windowSize||'MEDIUM';windowWidth=windowWidth||this.defaultWidth;windowHeight=windowHeight||this.defaultHeight;// convert window size string to uppercase
windowSize=windowSize.toUpperCase();// use window width and height vars as integers
windowWidth=parseInt(windowWidth);windowHeight=parseInt(windowHeight);// determine the window size
switch(windowSize){case'SMALL':windowWidth=300;windowHeight=300;break;case'MEDIUM':windowWidth=this.defaultWidth;windowHeight=this.defaultHeight;break;case'LARGE':windowWidth=850;windowHeight=500;break;case'SCREEN':windowWidth=$j(window).width()-50;windowHeight=$j(window).height()-50;break;}// determine the coords to center the window
windowLeft=Math.floor(screen.availWidth/2)-Math.floor(windowWidth/2);windowTop=Math.floor(screen.availHeight/2)-Math.floor(windowHeight/2);// begin building window features
if(windowSize==='SCREEN'){windowFeatures='location=1, status=1, scrollbars=1, menubar=1, toolbar=1, resizable=1'}else{windowFeatures='location=0, status=0, scrollbars=1, menubar=0, toolbar=0, resizable=1'}// add the rest of the window features
windowFeatures=windowFeatures+',width='+windowWidth+',height='+windowHeight+',top='+windowTop+',left='+windowLeft;// ie9 and down don't support actually having anything in the window name argument
if($j('html').hasClass('lt-ie10')){windowName='popupWindow'}// open the window
windowObject=window.open(windowUrl,windowName,windowFeatures);// focus on the window
if(windowObject!==null){windowObject.focus();return windowObject}},defaultWidth:675,defaultHeight:500};AAUI.genericPopup=function(element){element.on('click',function(){// declare size var
var size='';// determine the size based on class or passed data attribute
if(!$j(this).attr('data-size')){switch(true){case $j(this).hasClass('aa-pop-win-sm'):size='SMALL';break;case $j(this).hasClass('aa-pop-win-med'):size='MEDIUM';break;case $j(this).hasClass('aa-pop-win-lrg'):size='LARGE';break;case $j(this).hasClass('aa-pop-win-new'):size='SCREEN';break;default:size='MEDIUM';}}else{size=$j(this).attr('data-size')}// generate popup
genericPopupUtility.popup($j(this).attr('href'),$j(this).attr('title'),size,$j(this).attr('data-width'),$j(this).attr('data-height'));// prevent link default
return false})};AAUI.genericManualPopup=function(windowUrl,windowName,windowSize){genericPopupUtility.popup(windowUrl,windowName,windowSize,0,0)};AAUI.getQueryStringParameterByName=function(name){name=name.replace(/[\[]/,'\\[').replace(/[\]]/,'\\]');var regex=new RegExp('[\\?&]'+name+'=([^&#]*)');var results=regex.exec(location.search);return results===null?'':decodeURIComponent(results[1].replace(/\+/g,' '))};AAUI.populateFormFromJSON=function(data){$j.each(data,function(name,val){var $el=$j('[name="'+name+'"]'),type=$el.attr('type');switch(type){case'checkbox':// assumption that 'unchecked' checkbox data returned won't match value but 'checked' will
$el.removeAttr('checked');// reset the checkbox first
$el.filter('[value="'+val+'"]').attr('checked','checked');break;case'radio':$el.filter('[value="'+val+'"]').attr('checked','checked');break;default:$el.val(val).trigger('change');}})};AAUI.populateFormErrorsFromJSON=function(formID,data){$j.each(data,function(name,message){var globalErrorStartsWith='ERRCODE';if(name.substring(0,globalErrorStartsWith.length)===globalErrorStartsWith){// Global errors
$errorContainer=$j(formID+'Errors');// display error message
$errorContainer.append(message).addClass('message-inline-error').removeClass('is-hidden')}else{// Form field errors
var $el=$j('[name="'+name+'"]:visible'),errorsID=name+'Errors',errorsID=errorsID.replace(/[\[]/,'\\[').replace(/[\]]/,'\\]').replace(/\./g,'\\.'),proxyLabelID=$el.attr('data-proxy-label'),// ID of something other than label tag used as label
$errorContainer=$j('#'+errorsID);// set error class on input's label or proxy-label
$j('label[for=\''+$el.attr('id')+'\']').addClass('is-error');$j('#'+proxyLabelID).addClass('is-error');// display error message
$errorContainer.append(message).addClass('is-error -message');// handle composite errors
if($errorContainer.data('composite_error')){$errorContainer.parent().find('.js-compositeFieldError').append(message);// Add error msg to composite form fields
}// Display Error Summary Links
AAUI.errorSummary.showLink(name)}})};AAUI.clearFormErrors=function(container){var $container=$j(container);$container.find('.is-error.-message').empty();$container.find('.is-error').removeClass('is-error').removeClass('-message');$container.find('.message-inline-error').removeClass('message-inline-error');var errorMessageContainers=$container.find('[id$="Errors"],[id$=".errors"]');$j.each(errorMessageContainers,function(){$j(this).empty().removeClass('message-inline-error');$j(this).parent().find('.js-compositeFieldError').empty();// Remove composite form field errors
})};AAUI.clearInputValueAndErrors=function(whichInputID){var thisInput=$j(whichInputID),thisInputErrors=$j(whichInputID+'Errors');thisInput.val('').removeClass('is-error');thisInputErrors.html('').removeClass('is-error').removeClass('-message');$j('label[for=\''+thisInput.attr('id')+'\']').removeClass('is-error')};AAUI.resetFormFields=function(container){$j(container).find(':input').each(function(){var $el=$j(this),type=$el.attr('type');switch(type){case'checkbox':$el.removeAttr('checked').trigger('change');break;case'radio':if(!$el.hasClass('js-pillbox')){$el.removeAttr('checked')}break;case'text':$el.val('').trigger('change');break;default:// handle select boxes
$el.prop('selectedIndex',0).trigger('change');}})};AAUI.setDialogTitle=function(whichDialogID,titleString){$j(whichDialogID).dialog('option','title',titleString)};AAUI.ignoreChangesDialog=function(){var self={};self.init=function(){var buttons=[{name:AAUI.getProperty('btn.yes'),cssClass:'btn',callback:self.reload,closeDialog:false},{name:AAUI.getProperty('btn.no'),cssClass:'btn'}];AAUI.util.aaDialog('ignoreChanges',{width:'small',buttons:buttons,toggleScroll:true});AAUI.onClick('.js-ignoreChanges',self.open)};self.open=function(){self.href=$j(this).attr('data-href');AAUI.util.aaDialog('ignoreChanges').openDialog()};self.reload=function(){window.location.href=self.href;return false};return self}();AAUI.tier1=function(){var self={};self.setFocus=function(selector){selector=selector||'.message-error,.message-warning,.message-info';var $tier1Heading=$j(selector).filter(':visible:first').find('.header');AAUI.setFocusOn($tier1Heading)};return self}();AAUI.errorSummary=function(){var self={},_errorSummary='.js-errorSummary';self.init=function(pageLoad){AAUI.onClick(_errorSummary+' a',self.clickLink)};self.setFocus=function(){AAUI.tier1.setFocus('.message-error')};self.clickLink=function(){var target=$j(this).attr('href').replace(/\./g,'\\.').replace(/[\[]/,'\\[').replace(/[\]]/,'\\]');AAUI.setFocusOn(target)};self.hideLinks=function(container){$j(container).find(_errorSummary+' li').addClass('is-hidden')};self.showLink=function(name){$j(_errorSummary+' a[id="'+name+'.link"]').parents('li').removeClass('is-hidden')};return self}();AAUI.setFocusOn=function(target){var $target=$j(target).filter(':first:visible');if($target.length>0){if($target.filter(':input,a').length===0&&$target.attr('tabindex')===undefined){$target.attr('tabindex','-1')}if($target.parents('.ui-dialog:first').length===0){var topPosition=$target.parent().offset().top-50;$j('html,body').animate({scrollTop:topPosition})}$target.focus()}};AAUI.sessionTimeOutDialog=function(){var self={},renewTimer,aaUtilities,$sessionTimeoutDialog,$title,$body,$continueButton,$homeButton,$isDisplayVirtualPNRModal,$isFinalDisplayModal,$bookingPathStateId,_dialogID='#sessionTimeOutDialog',$appStartOverButton,sessionTimer;self.init=function(){$j(document).ready(function(){if($j(_dialogID).filter('.js-spring').length>0){aaUtilities=new aa_Utilities;var buttons=[{name:AAUI.getProperty('session.warning.button'),cssClass:'btn no-margin',callback:self.continueSession,closeDialog:false},{name:AAUI.getProperty('session.expired.button'),cssClass:'btn no-margin is-hidden',callback:self.home,closeDialog:false},{name:AAUI.getProperty('session.expired.app.button'),cssClass:'btn no-margin is-hidden',callback:self.appStartOver,closeDialog:false}];aaUtilities.aaDialog('sessionTimeOut',{width:'small',buttons:buttons,toggleScroll:true,showClose:false,closeOnEscape:false,showFullScreen:true,hideCloseInApp:true,zIndex:99999});self.sessionDialogElements();self.startSessionTimer()}})};self.sessionDialogElements=function(){$sessionTimeoutDialog=jQuery(_dialogID).parents('.ui-dialog:first');$title=$sessionTimeoutDialog.find('.ui-dialog-title');$body=$sessionTimeoutDialog.find('.js-dialogBody');$continueButton=$sessionTimeoutDialog.find(_dialogID+'Button0');$homeButton=$sessionTimeoutDialog.find(_dialogID+'Button1');$appStartOverButton=$sessionTimeoutDialog.find(_dialogID+'Button2');$isDisplayVirtualPNRModal=AAUI.getProperty('isDisplayVirtualPNRModal');$isFinalDisplayModal=AAUI.getProperty('isFinalDisplay');$bookingPathStateId=AAUI.getProperty('bookingPathStateId')};self.open=function(){aaUtilities.aaDialog('sessionTimeOut').openDialog();self.startSessionRenewTimer()};self.startSessionTimer=function(){var sessionTimeoutBuffer=5000;var sessionExpiresWarningInterval=AAUI.getProperty('sessionExpiresWarningInterval');var sessionMaxInactiveTime=AAUI.getProperty('sessionTimeOut')*1000;var sessionWarningCountDown=0;if(self.finalDisplay()){renewTimer=setTimeout(function(){self.sessionExpiredDialog()},sessionMaxInactiveTime-sessionTimeoutBuffer);sessionTimer=null}else{var sessionWarningCountDown=sessionMaxInactiveTime-sessionExpiresWarningInterval-sessionTimeoutBuffer;sessionTimer=setTimeout(function(){self.open()},sessionWarningCountDown)}};self.startSessionRenewTimer=function(){var sessionExpiresWarningInterval=AAUI.getProperty('sessionExpiresWarningInterval');renewTimer=setTimeout(function(){self.sessionExpiredDialog()},sessionExpiresWarningInterval)};self.sessionExpiredDialog=function(){$title.html(AAUI.getProperty('session.expired.title'));$body.html(AAUI.getProperty('session.expired.message'));if(typeof $device!=='undefined'&&typeof $device.mobileApp!=='undefined'&&$device.mobileApp===true){$continueButton.addClass('is-hidden');$homeButton.addClass('is-hidden');$appStartOverButton.removeClass('is-hidden')}else{$continueButton.addClass('is-hidden');$homeButton.removeClass('is-hidden')}// Close and reopen dialog so that screen readers will read it
aaUtilities.aaDialog('sessionTimeOut').closeDialog();aaUtilities.aaDialog('sessionTimeOut').openDialog();if(self.virtualPNRExists()){deleteVirtualPNR()}};self.continueSession=function(){self.stopTimers();var params=self.createVirtualPnrParams();AAUI.ajaxRequest({url:'/shared/session/renew/'+params,type:'POST',dataType:'json',busyContainer:$j('#sessionTimeOut').parent(),busyMessage:'',timeout:50000,onSuccess:function onSuccess(jsonResponse){if(self.virtualPNRExists()){self.handleUpdateVirtualPnrResponse(jsonResponse)}else{self.resetTimersToContinue()}},onError:function onError(xhr,statusText){self.stopTimers();self.open();self.sessionExpiredDialog()}});aaUtilities.aaDialog('sessionTimeOut').closeDialog();return false};self.createVirtualPnrParams=function(){if(self.virtualPNRExists()){return'?virtualPnr=true&bookingPathStateId='+$bookingPathStateId}return''};self.stopTimers=function(){clearTimeout(renewTimer);renewTimer=null;clearTimeout(sessionTimer);sessionTimer=null};self.resetTimersToContinue=function(){self.stopTimers();self.startSessionTimer()};self.virtualPNRExists=function(){var returnValue=false;if($isDisplayVirtualPNRModal=='true'||$isDisplayVirtualPNRModal==true){returnValue=true}return returnValue};self.finalDisplay=function(){var returnValue=false;if($isFinalDisplayModal=='true'||$isFinalDisplayModal==true){returnValue=true}return returnValue};self.handleUpdateVirtualPnrResponse=function(response){$isFinalDisplayModal=response.finalVirtualPNRModal;self.resetTimersToContinue()};self.home=function(){AAUI.ajaxRequest({url:'/shared/session/expired/',type:'POST',dataType:'text',busyContainer:$j('#sessionTimeOut').parent(),busyMessage:'',timeout:50000,onSuccess:function onSuccess(jsonResponse){window.location.href=jsonResponse},onError:function onError(){window.location.href='/homePage.do'}})};self.appStartOver=function(){//Send message to the app for session expiration.
$j(document).trigger('bridge.aacomToNativeApp',{name:'sessionExpired'})};return self}();AAUI.characterCount=function(){self.init=function(){AAUI.onInput('.js-commentsArea',self.calculate);AAUI.onInput('.js-assistanceTypeCommentsArea',self.assistanceTypeCalculate)};self.calculate=function(){var $textField=$j(this),maxLength=$textField.attr('maxlength'),usedLength=$textField.val().length;$j('.js-characterCounter').html(maxLength-usedLength)};self.assistanceTypeCalculate=function(){var $textField=$j(this),maxLength=$textField.attr('maxlength'),usedLength=$textField.val().length;$j('.js-assistanceTypeCharacterCounter').html(maxLength-usedLength)};return self}();AAUI.toPascalCase=function(content){var formattedContent=AAUI.pascalCaseContent(content);formattedContent=formattedContent.replace('-A-','-a-');formattedContent=formattedContent.replace('(u.s.)','(U.S.)');formattedContent=formattedContent.replace('(british)','(British)');return formattedContent.trim()};AAUI.pascalCaseContent=function(content){var splitter=' ';var formattedWord='';var formattedContent='';var wordArray=content.split(splitter);var lastWordIndex=wordArray.length-1;for(var i=0;i<wordArray.length;i++){formattedWord=AAUI.pascalCaseWord(wordArray[i]);formattedWord=AAUI.pascalCaseContentWithSplitter('-',formattedWord);formattedWord=AAUI.pascalCaseContentWithSplitter('/',formattedWord);//attach formatted word to content
formattedContent+=formattedWord;//if not last word then add splitter
if(i!=lastWordIndex){formattedContent+=splitter}}return formattedContent.trim()};AAUI.pascalCaseContentWithSplitter=function(splitter,content){if(content.indexOf(splitter)==-1){return content}var formattedWord;var formattedContent='';var wordArray=content.split(splitter);var lastWordIndex=wordArray.length-1;for(var x=0;x<wordArray.length;x++){formattedWord=AAUI.pascalCaseWord(wordArray[x]);//attach formated word to content
formattedContent+=formattedWord;//if not last word then add splitter
if(x!=lastWordIndex){formattedContent+=splitter}}return formattedContent.trim()};AAUI.pascalCaseWord=function(word){return word.charAt(0).toUpperCase()+word.substring(1).toLowerCase()};//immediately execute what is needed on every page
AAUI.genericPopup($j('.aa-pop-win-med'));AAUI.genericPopup($j('.aa-pop-win-lrg'));AAUI.errorSummary.init();AAUI.sessionTimeOutDialog.init()};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvdXRpbGl0aWVzLmpzIl0sIm5hbWVzIjpbIkFBY29tIiwibW9kdWxlcyIsInV0aWxpdGllcyIsIkFBVUkiLCJvbkNsaWNrIiwic2VsZWN0b3IiLCJjYWxsYmFjayIsIiRqIiwiZG9jdW1lbnQiLCJvbiIsImUiLCJyZXN1bHQiLCJvbkNoYW5nZSIsIm9uTW91c2VFbnRlciIsIm9uTW91c2VMZWF2ZSIsIm9uRm9jdXMiLCJvbkJsdXIiLCJvblN1Ym1pdCIsIm9uS2V5dXAiLCJvbktleVByZXNzIiwib25LZXlDaGFuZ2UiLCJ0YWJLZXkiLCJzaGlmdEtleSIsImtleUNvZGUiLCJ0cmlnZ2VyIiwib25JbnB1dCIsImhhc0NsYXNzIiwid2hpY2giLCJvZmYiLCJldmVudCIsImdlbmVyaWNQb3B1cFV0aWxpdHkiLCJwb3B1cCIsIndpbmRvd1VybCIsIndpbmRvd05hbWUiLCJ3aW5kb3dTaXplIiwid2luZG93V2lkdGgiLCJ3aW5kb3dIZWlnaHQiLCJ3aW5kb3dMZWZ0Iiwid2luZG93VG9wIiwid2luZG93RmVhdHVyZXMiLCJ3aW5kb3dPYmplY3QiLCJkZWZhdWx0V2lkdGgiLCJkZWZhdWx0SGVpZ2h0IiwidG9VcHBlckNhc2UiLCJwYXJzZUludCIsIndpbmRvdyIsIndpZHRoIiwiaGVpZ2h0IiwiTWF0aCIsImZsb29yIiwic2NyZWVuIiwiYXZhaWxXaWR0aCIsImF2YWlsSGVpZ2h0Iiwib3BlbiIsImZvY3VzIiwiZ2VuZXJpY1BvcHVwIiwiZWxlbWVudCIsInNpemUiLCJhdHRyIiwiZ2VuZXJpY01hbnVhbFBvcHVwIiwiZ2V0UXVlcnlTdHJpbmdQYXJhbWV0ZXJCeU5hbWUiLCJuYW1lIiwicmVwbGFjZSIsInJlZ2V4IiwiUmVnRXhwIiwicmVzdWx0cyIsImV4ZWMiLCJsb2NhdGlvbiIsInNlYXJjaCIsImRlY29kZVVSSUNvbXBvbmVudCIsInBvcHVsYXRlRm9ybUZyb21KU09OIiwiZGF0YSIsImVhY2giLCJ2YWwiLCIkZWwiLCJ0eXBlIiwicmVtb3ZlQXR0ciIsImZpbHRlciIsInBvcHVsYXRlRm9ybUVycm9yc0Zyb21KU09OIiwiZm9ybUlEIiwibWVzc2FnZSIsImdsb2JhbEVycm9yU3RhcnRzV2l0aCIsInN1YnN0cmluZyIsImxlbmd0aCIsIiRlcnJvckNvbnRhaW5lciIsImFwcGVuZCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJlcnJvcnNJRCIsInByb3h5TGFiZWxJRCIsInBhcmVudCIsImZpbmQiLCJlcnJvclN1bW1hcnkiLCJzaG93TGluayIsImNsZWFyRm9ybUVycm9ycyIsImNvbnRhaW5lciIsIiRjb250YWluZXIiLCJlbXB0eSIsImVycm9yTWVzc2FnZUNvbnRhaW5lcnMiLCJjbGVhcklucHV0VmFsdWVBbmRFcnJvcnMiLCJ3aGljaElucHV0SUQiLCJ0aGlzSW5wdXQiLCJ0aGlzSW5wdXRFcnJvcnMiLCJodG1sIiwicmVzZXRGb3JtRmllbGRzIiwicHJvcCIsInNldERpYWxvZ1RpdGxlIiwid2hpY2hEaWFsb2dJRCIsInRpdGxlU3RyaW5nIiwiZGlhbG9nIiwiaWdub3JlQ2hhbmdlc0RpYWxvZyIsInNlbGYiLCJpbml0IiwiYnV0dG9ucyIsImdldFByb3BlcnR5IiwiY3NzQ2xhc3MiLCJyZWxvYWQiLCJjbG9zZURpYWxvZyIsInV0aWwiLCJhYURpYWxvZyIsInRvZ2dsZVNjcm9sbCIsImhyZWYiLCJvcGVuRGlhbG9nIiwidGllcjEiLCJzZXRGb2N1cyIsIiR0aWVyMUhlYWRpbmciLCJzZXRGb2N1c09uIiwiX2Vycm9yU3VtbWFyeSIsInBhZ2VMb2FkIiwiY2xpY2tMaW5rIiwidGFyZ2V0IiwiaGlkZUxpbmtzIiwicGFyZW50cyIsIiR0YXJnZXQiLCJ1bmRlZmluZWQiLCJ0b3BQb3NpdGlvbiIsIm9mZnNldCIsInRvcCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJzZXNzaW9uVGltZU91dERpYWxvZyIsInJlbmV3VGltZXIiLCJhYVV0aWxpdGllcyIsIiRzZXNzaW9uVGltZW91dERpYWxvZyIsIiR0aXRsZSIsIiRib2R5IiwiJGNvbnRpbnVlQnV0dG9uIiwiJGhvbWVCdXR0b24iLCIkaXNEaXNwbGF5VmlydHVhbFBOUk1vZGFsIiwiJGlzRmluYWxEaXNwbGF5TW9kYWwiLCIkYm9va2luZ1BhdGhTdGF0ZUlkIiwiX2RpYWxvZ0lEIiwiJGFwcFN0YXJ0T3ZlckJ1dHRvbiIsInNlc3Npb25UaW1lciIsInJlYWR5IiwiYWFfVXRpbGl0aWVzIiwiY29udGludWVTZXNzaW9uIiwiaG9tZSIsImFwcFN0YXJ0T3ZlciIsInNob3dDbG9zZSIsImNsb3NlT25Fc2NhcGUiLCJzaG93RnVsbFNjcmVlbiIsImhpZGVDbG9zZUluQXBwIiwiekluZGV4Iiwic2Vzc2lvbkRpYWxvZ0VsZW1lbnRzIiwic3RhcnRTZXNzaW9uVGltZXIiLCJqUXVlcnkiLCJzdGFydFNlc3Npb25SZW5ld1RpbWVyIiwic2Vzc2lvblRpbWVvdXRCdWZmZXIiLCJzZXNzaW9uRXhwaXJlc1dhcm5pbmdJbnRlcnZhbCIsInNlc3Npb25NYXhJbmFjdGl2ZVRpbWUiLCJzZXNzaW9uV2FybmluZ0NvdW50RG93biIsImZpbmFsRGlzcGxheSIsInNldFRpbWVvdXQiLCJzZXNzaW9uRXhwaXJlZERpYWxvZyIsIiRkZXZpY2UiLCJtb2JpbGVBcHAiLCJ2aXJ0dWFsUE5SRXhpc3RzIiwiZGVsZXRlVmlydHVhbFBOUiIsInN0b3BUaW1lcnMiLCJwYXJhbXMiLCJjcmVhdGVWaXJ0dWFsUG5yUGFyYW1zIiwiYWpheFJlcXVlc3QiLCJ1cmwiLCJkYXRhVHlwZSIsImJ1c3lDb250YWluZXIiLCJidXN5TWVzc2FnZSIsInRpbWVvdXQiLCJvblN1Y2Nlc3MiLCJqc29uUmVzcG9uc2UiLCJoYW5kbGVVcGRhdGVWaXJ0dWFsUG5yUmVzcG9uc2UiLCJyZXNldFRpbWVyc1RvQ29udGludWUiLCJvbkVycm9yIiwieGhyIiwic3RhdHVzVGV4dCIsImNsZWFyVGltZW91dCIsInJldHVyblZhbHVlIiwicmVzcG9uc2UiLCJmaW5hbFZpcnR1YWxQTlJNb2RhbCIsImNoYXJhY3RlckNvdW50IiwiY2FsY3VsYXRlIiwiYXNzaXN0YW5jZVR5cGVDYWxjdWxhdGUiLCIkdGV4dEZpZWxkIiwibWF4TGVuZ3RoIiwidXNlZExlbmd0aCIsInRvUGFzY2FsQ2FzZSIsImNvbnRlbnQiLCJmb3JtYXR0ZWRDb250ZW50IiwicGFzY2FsQ2FzZUNvbnRlbnQiLCJ0cmltIiwic3BsaXR0ZXIiLCJmb3JtYXR0ZWRXb3JkIiwid29yZEFycmF5Iiwic3BsaXQiLCJsYXN0V29yZEluZGV4IiwiaSIsInBhc2NhbENhc2VXb3JkIiwicGFzY2FsQ2FzZUNvbnRlbnRXaXRoU3BsaXR0ZXIiLCJpbmRleE9mIiwieCIsIndvcmQiLCJjaGFyQXQiLCJ0b0xvd2VyQ2FzZSJdLCJtYXBwaW5ncyI6ImFBQUE7Ozs7SUFNQSx1REFFQUEsTUFBTUMsT0FBTixDQUFjQyxTQUFkLENBQTBCLFNBQVNDLElBQVQsQ0FBZSxDQUVyQywyQkFDQUEsS0FBS0MsT0FBTCxDQUFlLFNBQVNDLFFBQVQsQ0FBbUJDLFFBQW5CLENBQTZCLENBQ3hDQyxHQUFHQyxRQUFILEVBQWFDLEVBQWIsQ0FBZ0IsT0FBaEIsQ0FBeUJKLFFBQXpCLENBQW1DLFNBQVNLLENBQVQsQ0FBWSxDQUMzQyxLQUFLSixRQUFMLENBQWdCQSxRQUFoQixDQUNBLEdBQUlLLFFBQVMsS0FBS0wsUUFBTCxDQUFjSSxDQUFkLEdBQW9CLEtBQWpDLENBRUEsTUFBT0MsT0FDVixDQUxELENBTUgsQ0FQRCxDQVFBUixLQUFLUyxRQUFMLENBQWdCLFNBQVNQLFFBQVQsQ0FBbUJDLFFBQW5CLENBQTZCLENBQ3pDQyxHQUFHQyxRQUFILEVBQWFDLEVBQWIsQ0FBZ0IsUUFBaEIsQ0FBMEJKLFFBQTFCLENBQW9DQyxRQUFwQyxDQUNILENBRkQsQ0FHQUgsS0FBS1UsWUFBTCxDQUFvQixTQUFTUixRQUFULENBQW1CQyxRQUFuQixDQUE2QixDQUM3Q0MsR0FBR0MsUUFBSCxFQUFhQyxFQUFiLENBQWdCLFlBQWhCLENBQThCSixRQUE5QixDQUF3Q0MsUUFBeEMsQ0FDSCxDQUZELENBR0FILEtBQUtXLFlBQUwsQ0FBb0Is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Z0JSLFFBQWhCLEdBQTZCLENBQUMsQ0FBakMsQ0FBb0MsQ0FDaEMsTUFBT0osUUFDVixDQUVELEdBQUlLLGNBQUosQ0FDQSxHQUFJSixrQkFBbUIsRUFBdkIsQ0FFQSxHQUFJSyxXQUFZTixRQUFRTyxLQUFSLENBQWNILFFBQWQsQ0FBaEIsQ0FDQSxHQUFJSSxlQUFnQkYsVUFBVWpJLE1BQVYsQ0FBbUIsQ0FBdkMsQ0FFQSxJQUFJLEdBQUl3SSxHQUFJLENBQVosQ0FBZUEsRUFBSVAsVUFBVWpJLE1BQTdCLENBQXFDd0ksR0FBckMsQ0FBMEMsQ0FFdENSLGNBQWdCaE4sS0FBS3FOLGNBQUwsQ0FBb0JKLFVBQVVPLENBQVYsQ0FBcEIsQ0FBaEIsQ0FFQTtBQUNBWixrQkFBb0JJLGFBQXBCLENBRUE7QUFDQSxHQUFHUSxHQUFLTCxhQUFSLENBQXVCLENBQ25CUCxrQkFBb0JHLFFBQ3ZCLENBQ0osQ0FFRCxNQUFPSCxrQkFBaUJFLElBQWpCLEVBQ1YsQ0ExQkQsQ0E0QkE5TSxLQUFLcU4sY0FBTCxDQUFzQixTQUFTSSxJQUFULENBQWUsQ0FDakMsTUFBT0EsTUFBS0MsTUFBTCxDQUFZLENBQVosRUFBZWxMLFdBQWYsR0FBK0JpTCxLQUFLMUksU0FBTCxDQUFlLENBQWYsRUFBa0I0SSxXQUFsQixFQUN6QyxDQUZELENBSUE7QUFDQTNOLEtBQUtvRCxZQUFMLENBQWtCaEQsR0FBRyxpQkFBSCxDQUFsQixFQUNBSixLQUFLb0QsWUFBTCxDQUFrQmhELEdBQUcsaUJBQUgsQ0FBbEIsRUFDQUosS0FBS3lGLFlBQUwsQ0FBa0JvQixJQUFsQixHQUNBN0csS0FBS3lJLG9CQUFMLENBQTBCNUIsSUFBMUIsRUFDSCxDQS9xQkQiLCJmaWxlIjoibW9kdWxlcy91dGlsaXRpZXMuanMiLCJzb3VyY2VSb290IjoiL2Fzc2V0cy9qcy8iLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqICBVSS1SRUZBQ1RPUkVEXG4gKiAgICBGUk9NIC0tPiAuL2xlZ2FjeS13ZWIvc3JjL21haW4vanMvanMvYWEvbW9kdWxlcy91dGlsaXRpZXMuanNcbiAqICAgIFRPICAgLS0+IC4vd2ViYXBwcy9zaGFyZWQtd2ViL3NyYy9tYWluL2Fzc2V0cy9qcy9tb2R1bGVzL3V0aWxpdGllcy5qc1xuICoqL1xuXG4vKiBBIG1vZHVsZSB0aGF0IGhvdXNlcyBzZXZlcmFsIGdlbmVyYWwganMgdXRpbGl0aWVzICovXG5cbkFBY29tLm1vZHVsZXMudXRpbGl0aWVzID0gZnVuY3Rpb24oQUFVSSkge1xuXG4gICAgLyogY29tbW9uIGV2ZW50IGJpbmRpbmdzICovXG4gICAgQUFVSS5vbkNsaWNrID0gZnVuY3Rpb24oc2VsZWN0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgICRqKGRvY3VtZW50KS5vbignY2xpY2snLCBzZWxlY3RvciwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMuY2FsbGJhY2soZSkgfHwgZmFsc2U7XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQUFVSS5vbkNoYW5nZSA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjYWxsYmFjaykge1xuICAgICAgICAkaihkb2N1bWVudCkub24oJ2NoYW5nZScsIHNlbGVjdG9yLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBBQVVJLm9uTW91c2VFbnRlciA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjYWxsYmFjaykge1xuICAgICAgICAkaihkb2N1bWVudCkub24oJ21vdXNlZW50ZXInLCBzZWxlY3RvciwgY2FsbGJhY2spO1xuICAgIH07XG4gICAgQUFVSS5vbk1vdXNlTGVhdmUgPSBmdW5jdGlvbihzZWxlY3RvciwgY2FsbGJhY2spIHtcbiAgICAgICAgJGooZG9jdW1lbnQpLm9uKCdtb3VzZWxlYXZlJywgc2VsZWN0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIEFBVUkub25Gb2N1cyA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjYWxsYmFjaykge1xuICAgICAgICAkaihkb2N1bWVudCkub24oJ2ZvY3VzJywgc2VsZWN0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIEFBVUkub25CbHVyID0gZnVuY3Rpb24oc2VsZWN0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgICRqKGRvY3VtZW50KS5vbignYmx1cicsIHNlbGVjdG9yLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBBQVVJLm9uU3VibWl0ID0gZnVuY3Rpb24oc2VsZWN0b3IsIGNhbGxiYWNrKSB7XG4gICAgICAgICRqKGRvY3VtZW50KS5vbignc3VibWl0Jywgc2VsZWN0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIEFBVUkub25LZXl1cCA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjYWxsYmFjaykge1xuICAgICAgICAkaihkb2N1bWVudCkub24oJ2tleXVwJywgc2VsZWN0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIEFBVUkub25LZXlQcmVzcyA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjYWxsYmFjaykge1xuICAgICAgICAkaihkb2N1bWVudCkub24oJ2tleXByZXNzJywgc2VsZWN0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIEFBVUkub25LZXlDaGFuZ2UgPSBmdW5jdGlvbihzZWxlY3RvciwgY2FsbGJhY2spIHtcbiAgICAgICAgQUFVSS5vbkNoYW5nZShzZWxlY3RvciwgY2FsbGJhY2spO1xuICAgICAgICBBQVVJLm9uS2V5dXAoc2VsZWN0b3IsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciB0YWJLZXkgPSA5LCBzaGlmdEtleSA9IDE2O1xuICAgICAgICAgICAgaWYoIShlLmtleUNvZGUgPT0gdGFiS2V5IHx8IGUua2V5Q29kZSA9PSBzaGlmdEtleSkpIHtcbiAgICAgICAgICAgICAgICAkaih0aGlzKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBBQVVJLm9uSW5wdXQgPSBmdW5jdGlvbihzZWxlY3RvciwgY2FsbGJhY2spIHtcbiAgICAgICAgJGooZG9jdW1lbnQpLm9uKCdpbnB1dCcsIHNlbGVjdG9yLCBjYWxsYmFjayk7XG4gICAgICAgIGlmKCRqKCdodG1sJykuaGFzQ2xhc3MoJ2x0LWllMTAnKSkge1xuICAgICAgICAgICAgLy8gd29ya2Fyb3VuZCBmb3IgaWU5IG5vdCByZWNvZ25pemluZyBkZWwsIGJhY2tzcGFjZSwgY3V0IGFzIGlucHV0IHRyaWdnZXJzXG4gICAgICAgICAgICAkaihkb2N1bWVudCkub24oJ2N1dCcsIHNlbGVjdG9yLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAkaihkb2N1bWVudCkub24oJ2tleXVwJywgc2VsZWN0b3IsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5Q29kZSA9IGUua2V5Q29kZSB8fCBlLndoaWNoO1xuICAgICAgICAgICAgICAgIGlmKGtleUNvZGUgPT0gOCB8fCBrZXlDb2RlID09IDQ2KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayhlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBBQVVJLm9mZiA9IGZ1bmN0aW9uKGV2ZW50LCBzZWxlY3RvciwgY2FsbGJhY2spIHtcbiAgICAgICAgJGooZG9jdW1lbnQpLm9mZihldmVudCwgc2VsZWN0b3IsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIC8qIEEgdXRpbGl0eSB0byBjcmVhdGUgZ2VuZXJpYyBcIm5ldyB3aW5kb3dcIiBwb3B1cHMgKG5vdCB0byBiZSBjb25mdXNlZCB3aXRoIG1vZGFsIHdpbmRvd3MpICovXG4gICAgdmFyIGdlbmVyaWNQb3B1cFV0aWxpdHkgPSB7XG4gICAgICAgIHBvcHVwOiBmdW5jdGlvbih3aW5kb3dVcmwsIHdpbmRvd05hbWUsIHdpbmRvd1NpemUsIHdpbmRvd1dpZHRoLCB3aW5kb3dIZWlnaHQpIHtcbiAgICAgICAgICAgIC8vIGRlY2xhcmUgdmFycyB1c2VkIGluIGZ1bmN0aW9uXG4gICAgICAgICAgICB2YXIgd2luZG93TGVmdCA9IDAsXG4gICAgICAgICAgICAgICAgd2luZG93VG9wID0gMCxcbiAgICAgICAgICAgICAgICB3aW5kb3dGZWF0dXJlcyA9ICcnLFxuICAgICAgICAgICAgICAgIHdpbmRvd09iamVjdCA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIHNldCBkZWZhdWx0IHZhbHVlcyBmb3IgcGFzc2VkIGFyZ3VtZW50c1xuICAgICAgICAgICAgd2luZG93VXJsID0gd2luZG93VXJsIHx8ICcnO1xuICAgICAgICAgICAgd2luZG93TmFtZSA9IHdpbmRvd05hbWUgfHwgJyc7XG4gICAgICAgICAgICB3aW5kb3dTaXplID0gd2luZG93U2l6ZSB8fCAnTUVESVVNJztcbiAgICAgICAgICAgIHdpbmRvd1dpZHRoID0gd2luZG93V2lkdGggfHwgdGhpcy5kZWZhdWx0V2lkdGg7XG4gICAgICAgICAgICB3aW5kb3dIZWlnaHQgPSB3aW5kb3dIZWlnaHQgfHwgdGhpcy5kZWZhdWx0SGVpZ2h0O1xuXG4gICAgICAgICAgICAvLyBjb252ZXJ0IHdpbmRvdyBzaXplIHN0cmluZyB0byB1cHBlcmNhc2VcbiAgICAgICAgICAgIHdpbmRvd1NpemUgPSB3aW5kb3dTaXplLnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIC8vIHVzZSB3aW5kb3cgd2lkdGggYW5kIGhlaWdodCB2YXJzIGFzIGludGVnZXJzXG4gICAgICAgICAgICB3aW5kb3dXaWR0aCA9IHBhcnNlSW50KHdpbmRvd1dpZHRoKTtcbiAgICAgICAgICAgIHdpbmRvd0hlaWdodCA9IHBhcnNlSW50KHdpbmRvd0hlaWdodCk7XG5cbiAgICAgICAgICAgIC8vIGRldGVybWluZSB0aGUgd2luZG93IHNpemVcbiAgICAgICAgICAgIHN3aXRjaCh3aW5kb3dTaXplKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnU01BTEwnOlxuICAgICAgICAgICAgICAgICAgICB3aW5kb3dXaWR0aCA9IDMwMDtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93SGVpZ2h0ID0gMzAwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgJ01FRElVTSc6XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd1dpZHRoID0gdGhpcy5kZWZhdWx0V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd0hlaWdodCA9IHRoaXMuZGVmYXVsdEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdMQVJHRSc6XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd1dpZHRoID0gODUwO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3dIZWlnaHQgPSA1MDA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSAnU0NSRUVOJzpcbiAgICAgICAgICAgICAgICAgICAgd2luZG93V2lkdGggPSAkaih3aW5kb3cpLndpZHRoKCkgLSA1MDtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93SGVpZ2h0ID0gJGood2luZG93KS5oZWlnaHQoKSAtIDUwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBjb29yZHMgdG8gY2VudGVyIHRoZSB3aW5kb3dcbiAgICAgICAgICAgIHdpbmRvd0xlZnQgPSBNYXRoLmZsb29yKHNjcmVlbi5hdmFpbFdpZHRoIC8gMikgLSBNYXRoLmZsb29yKHdpbmRvd1dpZHRoIC8gMik7XG4gICAgICAgICAgICB3aW5kb3dUb3AgPSBNYXRoLmZsb29yKHNjcmVlbi5hdmFpbEhlaWdodCAvIDIpIC0gTWF0aC5mbG9vcih3aW5kb3dIZWlnaHQgLyAyKTtcblxuICAgICAgICAgICAgLy8gYmVnaW4gYnVpbGRpbmcgd2luZG93IGZlYXR1cmVzXG4gICAgICAgICAgICBpZih3aW5kb3dTaXplID09PSAnU0NSRUVOJykge1xuICAgICAgICAgICAgICAgIHdpbmRvd0ZlYXR1cmVzID0gJ2xvY2F0aW9uPTEsIHN0YXR1cz0xLCBzY3JvbGxiYXJzPTEsIG1lbnViYXI9MSwgdG9vbGJhcj0xLCByZXNpemFibGU9MSc7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB3aW5kb3dGZWF0dXJlcyA9ICdsb2NhdGlvbj0wLCBzdGF0dXM9MCwgc2Nyb2xsYmFycz0xLCBtZW51YmFyPTAsIHRvb2xiYXI9MCwgcmVzaXphYmxlPTEnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhZGQgdGhlIHJlc3Qgb2YgdGhlIHdpbmRvdyBmZWF0dXJlc1xuICAgICAgICAgICAgd2luZG93RmVhdHVyZXMgPVxuICAgICAgICAgICAgICAgIHdpbmRvd0ZlYXR1cmVzICtcbiAgICAgICAgICAgICAgICAnLHdpZHRoPScgKyB3aW5kb3dXaWR0aCArXG4gICAgICAgICAgICAgICAgJyxoZWlnaHQ9JyArIHdpbmRvd0hlaWdodCArXG4gICAgICAgICAgICAgICAgJyx0b3A9JyArIHdpbmRvd1RvcCArXG4gICAgICAgICAgICAgICAgJyxsZWZ0PScgKyB3aW5kb3dMZWZ0O1xuXG4gICAgICAgICAgICAvLyBpZTkgYW5kIGRvd24gZG9uJ3Qgc3VwcG9ydCBhY3R1YWxseSBoYXZpbmcgYW55dGhpbmcgaW4gdGhlIHdpbmRvdyBuYW1lIGFyZ3VtZW50XG4gICAgICAgICAgICBpZigkaignaHRtbCcpLmhhc0NsYXNzKCdsdC1pZTEwJykpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3dOYW1lID0gJ3BvcHVwV2luZG93JztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gb3BlbiB0aGUgd2luZG93XG4gICAgICAgICAgICB3aW5kb3dPYmplY3QgPSB3aW5kb3cub3BlbihcbiAgICAgICAgICAgICAgICB3aW5kb3dVcmwsXG4gICAgICAgICAgICAgICAgd2luZG93TmFtZSxcbiAgICAgICAgICAgICAgICB3aW5kb3dGZWF0dXJlc1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gZm9jdXMgb24gdGhlIHdpbmRvd1xuICAgICAgICAgICAgaWYod2luZG93T2JqZWN0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgd2luZG93T2JqZWN0LmZvY3VzKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93T2JqZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0V2lkdGg6IDY3NSxcbiAgICAgICAgZGVmYXVsdEhlaWdodDogNTAwXG4gICAgfTtcblxuICAgIEFBVUkuZ2VuZXJpY1BvcHVwID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICBlbGVtZW50Lm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAvLyBkZWNsYXJlIHNpemUgdmFyXG4gICAgICAgICAgICB2YXIgc2l6ZSA9ICcnO1xuXG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgdGhlIHNpemUgYmFzZWQgb24gY2xhc3Mgb3IgcGFzc2VkIGRhdGEgYXR0cmlidXRlXG4gICAgICAgICAgICBpZighJGoodGhpcykuYXR0cignZGF0YS1zaXplJykpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2godHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICRqKHRoaXMpLmhhc0NsYXNzKCdhYS1wb3Atd2luLXNtJyk6XG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gJ1NNQUxMJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICRqKHRoaXMpLmhhc0NsYXNzKCdhYS1wb3Atd2luLW1lZCcpOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9ICdNRURJVU0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJGoodGhpcykuaGFzQ2xhc3MoJ2FhLXBvcC13aW4tbHJnJyk6XG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gJ0xBUkdFJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICRqKHRoaXMpLmhhc0NsYXNzKCdhYS1wb3Atd2luLW5ldycpOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9ICdTQ1JFRU4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplID0gJ01FRElVTSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBzaXplID0gJGoodGhpcykuYXR0cignZGF0YS1zaXplJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGdlbmVyYXRlIHBvcHVwXG4gICAgICAgICAgICBnZW5lcmljUG9wdXBVdGlsaXR5LnBvcHVwKCRqKHRoaXMpLmF0dHIoJ2hyZWYnKSwgJGoodGhpcykuYXR0cigndGl0bGUnKSwgc2l6ZSwgJGoodGhpcykuYXR0cignZGF0YS13aWR0aCcpLFxuICAgICAgICAgICAgICAgICRqKHRoaXMpLmF0dHIoJ2RhdGEtaGVpZ2h0JykpO1xuXG4gICAgICAgICAgICAvLyBwcmV2ZW50IGxpbmsgZGVmYXVsdFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgQUFVSS5nZW5lcmljTWFudWFsUG9wdXAgPSBmdW5jdGlvbih3aW5kb3dVcmwsIHdpbmRvd05hbWUsIHdpbmRvd1NpemUpIHtcbiAgICAgICAgZ2VuZXJpY1BvcHVwVXRpbGl0eS5wb3B1cCh3aW5kb3dVcmwsIHdpbmRvd05hbWUsIHdpbmRvd1NpemUsIDAsIDApO1xuICAgIH07XG5cbiAgICBBQVVJLmdldFF1ZXJ5U3RyaW5nUGFyYW1ldGVyQnlOYW1lID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKC9bXFxbXS8sICdcXFxcWycpLnJlcGxhY2UoL1tcXF1dLywgJ1xcXFxdJyk7XG4gICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoJ1tcXFxcPyZdJyArIG5hbWUgKyAnPShbXiYjXSopJyk7XG4gICAgICAgIHZhciByZXN1bHRzID0gcmVnZXguZXhlYyhsb2NhdGlvbi5zZWFyY2gpO1xuXG4gICAgICAgIHJldHVybiByZXN1bHRzID09PSBudWxsID8gJycgOiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1sxXS5yZXBsYWNlKC9cXCsvZywgJyAnKSk7XG4gICAgfTtcblxuICAgIEFBVUkucG9wdWxhdGVGb3JtRnJvbUpTT04gPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICRqLmVhY2goZGF0YSwgZnVuY3Rpb24obmFtZSwgdmFsKSB7XG4gICAgICAgICAgICB2YXIgJGVsID0gJGooJ1tuYW1lPVwiJyArIG5hbWUgKyAnXCJdJyksXG4gICAgICAgICAgICAgICAgdHlwZSA9ICRlbC5hdHRyKCd0eXBlJyk7XG5cbiAgICAgICAgICAgIHN3aXRjaCh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgICAgICAgICAgICAvLyBhc3N1bXB0aW9uIHRoYXQgJ3VuY2hlY2tlZCcgY2hlY2tib3ggZGF0YSByZXR1cm5lZCB3b24ndCBtYXRjaCB2YWx1ZSBidXQgJ2NoZWNrZWQnIHdpbGxcbiAgICAgICAgICAgICAgICAgICAgJGVsLnJlbW92ZUF0dHIoJ2NoZWNrZWQnKTsvLyByZXNldCB0aGUgY2hlY2tib3ggZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgJGVsLmZpbHRlcignW3ZhbHVlPVwiJyArIHZhbCArICdcIl0nKS5hdHRyKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncmFkaW8nOlxuICAgICAgICAgICAgICAgICAgICAkZWwuZmlsdGVyKCdbdmFsdWU9XCInICsgdmFsICsgJ1wiXScpLmF0dHIoJ2NoZWNrZWQnLCAnY2hlY2tlZCcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAkZWwudmFsKHZhbCkudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBBQVVJLnBvcHVsYXRlRm9ybUVycm9yc0Zyb21KU09OID0gZnVuY3Rpb24oZm9ybUlELCBkYXRhKSB7XG4gICAgICAgICRqLmVhY2goZGF0YSwgZnVuY3Rpb24obmFtZSwgbWVzc2FnZSkge1xuICAgICAgICAgICAgdmFyIGdsb2JhbEVycm9yU3RhcnRzV2l0aCA9ICdFUlJDT0RFJztcblxuICAgICAgICAgICAgaWYobmFtZS5zdWJzdHJpbmcoMCwgZ2xvYmFsRXJyb3JTdGFydHNXaXRoLmxlbmd0aCkgPT09IGdsb2JhbEVycm9yU3RhcnRzV2l0aCkge1xuICAgICAgICAgICAgICAgIC8vIEdsb2JhbCBlcnJvcnNcbiAgICAgICAgICAgICAgICAkZXJyb3JDb250YWluZXIgPSAkaihmb3JtSUQgKyAnRXJyb3JzJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBkaXNwbGF5IGVycm9yIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAkZXJyb3JDb250YWluZXIuYXBwZW5kKG1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdtZXNzYWdlLWlubGluZS1lcnJvcicpXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCdpcy1oaWRkZW4nKTtcbiAgICAgICAgICAgIH1lbHNle1xuXG4gICAgICAgICAgICAgICAgLy8gRm9ybSBmaWVsZCBlcnJvcnNcbiAgICAgICAgICAgICAgICB2YXIgJGVsID0gJGooJ1tuYW1lPVwiJyArIG5hbWUgKyAnXCJdOnZpc2libGUnKSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzSUQgPSBuYW1lICsgJ0Vycm9ycycsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yc0lEID0gZXJyb3JzSUQucmVwbGFjZSgvW1xcW10vLCBcIlxcXFxbXCIpLnJlcGxhY2UoL1tcXF1dLywgXCJcXFxcXVwiKS5yZXBsYWNlKC9cXC4vZywgJ1xcXFwuJyksXG4gICAgICAgICAgICAgICAgICAgIHByb3h5TGFiZWxJRCA9ICRlbC5hdHRyKCdkYXRhLXByb3h5LWxhYmVsJyksIC8vIElEIG9mIHNvbWV0aGluZyBvdGhlciB0aGFuIGxhYmVsIHRhZyB1c2VkIGFzIGxhYmVsXG4gICAgICAgICAgICAgICAgICAgICRlcnJvckNvbnRhaW5lciA9ICRqKCcjJyArIGVycm9yc0lEKTtcblxuICAgICAgICAgICAgICAgIC8vIHNldCBlcnJvciBjbGFzcyBvbiBpbnB1dCdzIGxhYmVsIG9yIHByb3h5LWxhYmVsXG4gICAgICAgICAgICAgICAgJGooJ2xhYmVsW2Zvcj1cXCcnICsgJGVsLmF0dHIoJ2lkJykgKyAnXFwnXScpLmFkZENsYXNzKCdpcy1lcnJvcicpO1xuICAgICAgICAgICAgICAgICRqKCcjJyArIHByb3h5TGFiZWxJRCkuYWRkQ2xhc3MoJ2lzLWVycm9yJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBkaXNwbGF5IGVycm9yIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAkZXJyb3JDb250YWluZXIuYXBwZW5kKG1lc3NhZ2UpLmFkZENsYXNzKCdpcy1lcnJvciAtbWVzc2FnZScpO1xuXG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIGNvbXBvc2l0ZSBlcnJvcnNcbiAgICAgICAgICAgICAgICBpZigkZXJyb3JDb250YWluZXIuZGF0YSgnY29tcG9zaXRlX2Vycm9yJykpIHtcbiAgICAgICAgICAgICAgICAgICAgJGVycm9yQ29udGFpbmVyLnBhcmVudCgpLmZpbmQoJy5qcy1jb21wb3NpdGVGaWVsZEVycm9yJykuYXBwZW5kKG1lc3NhZ2UpOyAgLy8gQWRkIGVycm9yIG1zZyB0byBjb21wb3NpdGUgZm9ybSBmaWVsZHNcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBEaXNwbGF5IEVycm9yIFN1bW1hcnkgTGlua3NcbiAgICAgICAgICAgICAgICBBQVVJLmVycm9yU3VtbWFyeS5zaG93TGluayhuYW1lKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgQUFVSS5jbGVhckZvcm1FcnJvcnMgPSBmdW5jdGlvbihjb250YWluZXIpIHtcbiAgICAgICAgdmFyICRjb250YWluZXIgPSAkaihjb250YWluZXIpO1xuICAgICAgICAkY29udGFpbmVyLmZpbmQoJy5pcy1lcnJvci4tbWVzc2FnZScpLmVtcHR5KCk7XG4gICAgICAgICRjb250YWluZXIuZmluZCgnLmlzLWVycm9yJykucmVtb3ZlQ2xhc3MoJ2lzLWVycm9yJykucmVtb3ZlQ2xhc3MoJy1tZXNzYWdlJyk7XG4gICAgICAgICRjb250YWluZXIuZmluZCgnLm1lc3NhZ2UtaW5saW5lLWVycm9yJykucmVtb3ZlQ2xhc3MoJ21lc3NhZ2UtaW5saW5lLWVycm9yJyk7XG4gICAgICAgIHZhciBlcnJvck1lc3NhZ2VDb250YWluZXJzID0gJGNvbnRhaW5lci5maW5kKCdbaWQkPVwiRXJyb3JzXCJdLFtpZCQ9XCIuZXJyb3JzXCJdJyk7XG4gICAgICAgICRqLmVhY2goZXJyb3JNZXNzYWdlQ29udGFpbmVycywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkaih0aGlzKS5lbXB0eSgpLnJlbW92ZUNsYXNzKCdtZXNzYWdlLWlubGluZS1lcnJvcicpO1xuICAgICAgICAgICAgJGoodGhpcykucGFyZW50KCkuZmluZCgnLmpzLWNvbXBvc2l0ZUZpZWxkRXJyb3InKS5lbXB0eSgpOyAvLyBSZW1vdmUgY29tcG9zaXRlIGZvcm0gZmllbGQgZXJyb3JzXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBBQVVJLmNsZWFySW5wdXRWYWx1ZUFuZEVycm9ycyA9IGZ1bmN0aW9uKHdoaWNoSW5wdXRJRCkge1xuICAgICAgICB2YXIgdGhpc0lucHV0ID0gJGood2hpY2hJbnB1dElEKSxcbiAgICAgICAgICAgIHRoaXNJbnB1dEVycm9ycyA9ICRqKHdoaWNoSW5wdXRJRCArICdFcnJvcnMnKTtcblxuICAgICAgICB0aGlzSW5wdXQudmFsKCcnKS5yZW1vdmVDbGFzcygnaXMtZXJyb3InKTtcbiAgICAgICAgdGhpc0lucHV0RXJyb3JzLmh0bWwoJycpLnJlbW92ZUNsYXNzKCdpcy1lcnJvcicpLnJlbW92ZUNsYXNzKCctbWVzc2FnZScpO1xuICAgICAgICAkaignbGFiZWxbZm9yPVxcJycgKyB0aGlzSW5wdXQuYXR0cignaWQnKSArICdcXCddJykucmVtb3ZlQ2xhc3MoJ2lzLWVycm9yJyk7XG4gICAgfTtcblxuICAgIEFBVUkucmVzZXRGb3JtRmllbGRzID0gZnVuY3Rpb24oY29udGFpbmVyKSB7XG4gICAgICAgICRqKGNvbnRhaW5lcikuZmluZCgnOmlucHV0JykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkZWwgPSAkaih0aGlzKSxcbiAgICAgICAgICAgICAgICB0eXBlID0gJGVsLmF0dHIoJ3R5cGUnKTtcbiAgICAgICAgICAgIHN3aXRjaCh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgICAgICAgICAgICAkZWwucmVtb3ZlQXR0cignY2hlY2tlZCcpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgICAgICAgICAgICAgIGlmKCEkZWwuaGFzQ2xhc3MoJ2pzLXBpbGxib3gnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJGVsLnJlbW92ZUF0dHIoJ2NoZWNrZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgICAgICAgICAgJGVsLnZhbCgnJykudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBzZWxlY3QgYm94ZXNcbiAgICAgICAgICAgICAgICAgICAgJGVsLnByb3AoJ3NlbGVjdGVkSW5kZXgnLCAwKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIEFBVUkuc2V0RGlhbG9nVGl0bGUgPSBmdW5jdGlvbih3aGljaERpYWxvZ0lELCB0aXRsZVN0cmluZykge1xuICAgICAgICAkaih3aGljaERpYWxvZ0lEKS5kaWFsb2coJ29wdGlvbicsICd0aXRsZScsIHRpdGxlU3RyaW5nKTtcbiAgICB9O1xuXG4gICAgQUFVSS5pZ25vcmVDaGFuZ2VzRGlhbG9nID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0ge307XG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGJ1dHRvbnMgPSBbXG4gICAgICAgICAgICAgICAge25hbWU6IEFBVUkuZ2V0UHJvcGVydHkoJ2J0bi55ZXMnKSwgY3NzQ2xhc3M6ICdidG4nLCBjYWxsYmFjazogc2VsZi5yZWxvYWQsIGNsb3NlRGlhbG9nOiBmYWxzZX0sXG4gICAgICAgICAgICAgICAge25hbWU6IEFBVUkuZ2V0UHJvcGVydHkoJ2J0bi5ubycpLCBjc3NDbGFzczogJ2J0bid9XG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgQUFVSS51dGlsLmFhRGlhbG9nKCdpZ25vcmVDaGFuZ2VzJywge1xuICAgICAgICAgICAgICAgIHdpZHRoOiAnc21hbGwnLFxuICAgICAgICAgICAgICAgIGJ1dHRvbnM6IGJ1dHRvbnMsXG4gICAgICAgICAgICAgICAgdG9nZ2xlU2Nyb2xsOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIEFBVUkub25DbGljaygnLmpzLWlnbm9yZUNoYW5nZXMnLCBzZWxmLm9wZW4pO1xuICAgICAgICB9O1xuICAgICAgICBzZWxmLm9wZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuaHJlZiA9ICRqKHRoaXMpLmF0dHIoJ2RhdGEtaHJlZicpO1xuICAgICAgICAgICAgQUFVSS51dGlsLmFhRGlhbG9nKCdpZ25vcmVDaGFuZ2VzJykub3BlbkRpYWxvZygpO1xuICAgICAgICB9O1xuICAgICAgICBzZWxmLnJlbG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBzZWxmLmhyZWY7XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9KCk7XG5cbiAgICBBQVVJLnRpZXIxID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0ge307XG4gICAgICAgIHNlbGYuc2V0Rm9jdXMgPSBmdW5jdGlvbihzZWxlY3Rvcikge1xuICAgICAgICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciB8fCAnLm1lc3NhZ2UtZXJyb3IsLm1lc3NhZ2Utd2FybmluZywubWVzc2FnZS1pbmZvJztcbiAgICAgICAgICAgIHZhciAkdGllcjFIZWFkaW5nID0gJGooc2VsZWN0b3IpLmZpbHRlcignOnZpc2libGU6Zmlyc3QnKS5maW5kKCcuaGVhZGVyJyk7XG4gICAgICAgICAgICBBQVVJLnNldEZvY3VzT24oJHRpZXIxSGVhZGluZyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSgpO1xuXG4gICAgQUFVSS5lcnJvclN1bW1hcnkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB7fSxcbiAgICAgICAgICAgIF9lcnJvclN1bW1hcnkgPSAnLmpzLWVycm9yU3VtbWFyeSc7XG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKHBhZ2VMb2FkKSB7XG4gICAgICAgICAgICBBQVVJLm9uQ2xpY2soX2Vycm9yU3VtbWFyeSArICcgYScsIHNlbGYuY2xpY2tMaW5rKTtcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5zZXRGb2N1cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgQUFVSS50aWVyMS5zZXRGb2N1cygnLm1lc3NhZ2UtZXJyb3InKTtcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5jbGlja0xpbmsgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSAkaih0aGlzKS5hdHRyKCdocmVmJykucmVwbGFjZSgvXFwuL2csICdcXFxcLicpLnJlcGxhY2UoL1tcXFtdLywgJ1xcXFxbJykucmVwbGFjZSgvW1xcXV0vLCAnXFxcXF0nKTtcbiAgICAgICAgICAgIEFBVUkuc2V0Rm9jdXNPbih0YXJnZXQpO1xuICAgICAgICB9O1xuICAgICAgICBzZWxmLmhpZGVMaW5rcyA9IGZ1bmN0aW9uKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgJGooY29udGFpbmVyKS5maW5kKF9lcnJvclN1bW1hcnkgKyAnIGxpJykuYWRkQ2xhc3MoJ2lzLWhpZGRlbicpO1xuICAgICAgICB9O1xuICAgICAgICBzZWxmLnNob3dMaW5rID0gZnVuY3Rpb24obmFtZSkge1xuICAgICAgICAgICAgJGooX2Vycm9yU3VtbWFyeSArICcgYVtpZD1cIicgKyBuYW1lICsgJy5saW5rXCJdJykucGFyZW50cygnbGknKS5yZW1vdmVDbGFzcygnaXMtaGlkZGVuJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSgpO1xuXG4gICAgQUFVSS5zZXRGb2N1c09uID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgIHZhciAkdGFyZ2V0ID0gJGoodGFyZ2V0KS5maWx0ZXIoJzpmaXJzdDp2aXNpYmxlJyk7XG4gICAgICAgIGlmKCR0YXJnZXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYoJHRhcmdldC5maWx0ZXIoJzppbnB1dCxhJykubGVuZ3RoID09PSAwICYmICR0YXJnZXQuYXR0cigndGFiaW5kZXgnKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgJHRhcmdldC5hdHRyKCd0YWJpbmRleCcsICctMScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoJHRhcmdldC5wYXJlbnRzKCcudWktZGlhbG9nOmZpcnN0JykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvcFBvc2l0aW9uID0gJHRhcmdldC5wYXJlbnQoKS5vZmZzZXQoKS50b3AgLSA1MDtcbiAgICAgICAgICAgICAgICAkaignaHRtbCxib2R5JykuYW5pbWF0ZSh7c2Nyb2xsVG9wOiB0b3BQb3NpdGlvbn0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHRhcmdldC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIEFBVUkuc2Vzc2lvblRpbWVPdXREaWFsb2cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB7fSxcbiAgICAgICAgICAgIHJlbmV3VGltZXIsXG4gICAgICAgICAgICBhYVV0aWxpdGllcyxcbiAgICAgICAgICAgICRzZXNzaW9uVGltZW91dERpYWxvZyxcbiAgICAgICAgICAgICR0aXRsZSxcbiAgICAgICAgICAgICRib2R5LFxuICAgICAgICAgICAgJGNvbnRpbnVlQnV0dG9uLFxuICAgICAgICAgICAgJGhvbWVCdXR0b24sXG4gICAgICAgICAgICAkaXNEaXNwbGF5VmlydHVhbFBOUk1vZGFsLFxuICAgICAgICAgICAgJGlzRmluYWxEaXNwbGF5TW9kYWwsXG4gICAgICAgICAgICAkYm9va2luZ1BhdGhTdGF0ZUlkLFxuICAgICAgICAgICAgX2RpYWxvZ0lEID0gJyNzZXNzaW9uVGltZU91dERpYWxvZycsXG4gICAgICAgICAgICAkYXBwU3RhcnRPdmVyQnV0dG9uLFxuICAgICAgICAgICAgc2Vzc2lvblRpbWVyO1xuXG4gICAgICAgIHNlbGYuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJGooZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmKCRqKF9kaWFsb2dJRCkuZmlsdGVyKCcuanMtc3ByaW5nJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhYVV0aWxpdGllcyA9IG5ldyBhYV9VdGlsaXRpZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1dHRvbnMgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogQUFVSS5nZXRQcm9wZXJ0eSgnc2Vzc2lvbi53YXJuaW5nLmJ1dHRvbicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiBcImJ0biBuby1tYXJnaW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogc2VsZi5jb250aW51ZVNlc3Npb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VEaWFsb2c6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IEFBVUkuZ2V0UHJvcGVydHkoJ3Nlc3Npb24uZXhwaXJlZC5idXR0b24nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzczogXCJidG4gbm8tbWFyZ2luIGlzLWhpZGRlblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBzZWxmLmhvbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VEaWFsb2c6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IEFBVUkuZ2V0UHJvcGVydHkoXCJzZXNzaW9uLmV4cGlyZWQuYXBwLmJ1dHRvblwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NDbGFzczogXCJidG4gbm8tbWFyZ2luIGlzLWhpZGRlblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBzZWxmLmFwcFN0YXJ0T3ZlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZURpYWxvZzogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgYWFVdGlsaXRpZXMuYWFEaWFsb2coJ3Nlc3Npb25UaW1lT3V0Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICdzbWFsbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOiBidXR0b25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlU2Nyb2xsOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Nsb3NlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlT25Fc2NhcGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0Z1bGxTY3JlZW46IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlQ2xvc2VJbkFwcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogOTk5OTlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc2Vzc2lvbkRpYWxvZ0VsZW1lbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhcnRTZXNzaW9uVGltZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5zZXNzaW9uRGlhbG9nRWxlbWVudHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzZXNzaW9uVGltZW91dERpYWxvZyA9IGpRdWVyeShfZGlhbG9nSUQpLnBhcmVudHMoXCIudWktZGlhbG9nOmZpcnN0XCIpO1xuICAgICAgICAgICAgJHRpdGxlID0gJHNlc3Npb25UaW1lb3V0RGlhbG9nLmZpbmQoXCIudWktZGlhbG9nLXRpdGxlXCIpO1xuICAgICAgICAgICAgJGJvZHkgPSAkc2Vzc2lvblRpbWVvdXREaWFsb2cuZmluZChcIi5qcy1kaWFsb2dCb2R5XCIpO1xuICAgICAgICAgICAgJGNvbnRpbnVlQnV0dG9uID0gJHNlc3Npb25UaW1lb3V0RGlhbG9nLmZpbmQoX2RpYWxvZ0lEICsgJ0J1dHRvbjAnKTtcbiAgICAgICAgICAgICRob21lQnV0dG9uID0gJHNlc3Npb25UaW1lb3V0RGlhbG9nLmZpbmQoX2RpYWxvZ0lEICsgJ0J1dHRvbjEnKTtcbiAgICAgICAgICAgICRhcHBTdGFydE92ZXJCdXR0b24gPSAkc2Vzc2lvblRpbWVvdXREaWFsb2cuZmluZChfZGlhbG9nSUQgKyAnQnV0dG9uMicpO1xuICAgICAgICAgICAgJGlzRGlzcGxheVZpcnR1YWxQTlJNb2RhbCA9IEFBVUkuZ2V0UHJvcGVydHkoJ2lzRGlzcGxheVZpcnR1YWxQTlJNb2RhbCcpO1xuICAgICAgICAgICAgJGlzRmluYWxEaXNwbGF5TW9kYWwgPSBBQVVJLmdldFByb3BlcnR5KCdpc0ZpbmFsRGlzcGxheScpO1xuICAgICAgICAgICAgJGJvb2tpbmdQYXRoU3RhdGVJZCA9IEFBVUkuZ2V0UHJvcGVydHkoJ2Jvb2tpbmdQYXRoU3RhdGVJZCcpO1xuICAgICAgICB9O1xuICAgICAgICBzZWxmLm9wZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFhVXRpbGl0aWVzLmFhRGlhbG9nKCdzZXNzaW9uVGltZU91dCcpLm9wZW5EaWFsb2coKTtcbiAgICAgICAgICAgIHNlbGYuc3RhcnRTZXNzaW9uUmVuZXdUaW1lcigpO1xuICAgICAgICB9O1xuICAgICAgICBzZWxmLnN0YXJ0U2Vzc2lvblRpbWVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2Vzc2lvblRpbWVvdXRCdWZmZXIgPSA1MDAwO1xuICAgICAgICAgICAgdmFyIHNlc3Npb25FeHBpcmVzV2FybmluZ0ludGVydmFsID0gQUFVSS5nZXRQcm9wZXJ0eSgnc2Vzc2lvbkV4cGlyZXNXYXJuaW5nSW50ZXJ2YWwnKTtcbiAgICAgICAgICAgIHZhciBzZXNzaW9uTWF4SW5hY3RpdmVUaW1lID0gQUFVSS5nZXRQcm9wZXJ0eSgnc2Vzc2lvblRpbWVPdXQnKSAqIDEwMDA7XG4gICAgICAgICAgICB2YXIgc2Vzc2lvbldhcm5pbmdDb3VudERvd24gPSAwO1xuICAgICAgICAgICAgaWYoc2VsZi5maW5hbERpc3BsYXkoKSkge1xuICAgICAgICAgICAgICAgIHJlbmV3VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBzZWxmLnNlc3Npb25FeHBpcmVkRGlhbG9nKCk7IH0sIHNlc3Npb25NYXhJbmFjdGl2ZVRpbWUgLVxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uVGltZW91dEJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgc2Vzc2lvblRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHZhciBzZXNzaW9uV2FybmluZ0NvdW50RG93biA9IHNlc3Npb25NYXhJbmFjdGl2ZVRpbWUgLSBzZXNzaW9uRXhwaXJlc1dhcm5pbmdJbnRlcnZhbCAtXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25UaW1lb3V0QnVmZmVyO1xuICAgICAgICAgICAgICAgIHNlc3Npb25UaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IHNlbGYub3BlbigpOyB9LCBzZXNzaW9uV2FybmluZ0NvdW50RG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNlbGYuc3RhcnRTZXNzaW9uUmVuZXdUaW1lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlc3Npb25FeHBpcmVzV2FybmluZ0ludGVydmFsID0gQUFVSS5nZXRQcm9wZXJ0eSgnc2Vzc2lvbkV4cGlyZXNXYXJuaW5nSW50ZXJ2YWwnKTtcbiAgICAgICAgICAgIHJlbmV3VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBzZWxmLnNlc3Npb25FeHBpcmVkRGlhbG9nKCk7IH0sIHNlc3Npb25FeHBpcmVzV2FybmluZ0ludGVydmFsKTtcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5zZXNzaW9uRXhwaXJlZERpYWxvZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJHRpdGxlLmh0bWwoQUFVSS5nZXRQcm9wZXJ0eSgnc2Vzc2lvbi5leHBpcmVkLnRpdGxlJykpO1xuICAgICAgICAgICAgJGJvZHkuaHRtbChBQVVJLmdldFByb3BlcnR5KCdzZXNzaW9uLmV4cGlyZWQubWVzc2FnZScpKTtcbiAgICAgICAgICAgIGlmKHR5cGVvZiAkZGV2aWNlICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiAkZGV2aWNlLm1vYmlsZUFwcCAhPT0gXCJ1bmRlZmluZWRcIiAmJiAkZGV2aWNlLm1vYmlsZUFwcCA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICAgICAgJGNvbnRpbnVlQnV0dG9uLmFkZENsYXNzKFwiaXMtaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICRob21lQnV0dG9uLmFkZENsYXNzKFwiaXMtaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgICRhcHBTdGFydE92ZXJCdXR0b24ucmVtb3ZlQ2xhc3MoXCJpcy1oaWRkZW5cIik7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAkY29udGludWVCdXR0b24uYWRkQ2xhc3MoXCJpcy1oaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgJGhvbWVCdXR0b24ucmVtb3ZlQ2xhc3MoXCJpcy1oaWRkZW5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENsb3NlIGFuZCByZW9wZW4gZGlhbG9nIHNvIHRoYXQgc2NyZWVuIHJlYWRlcnMgd2lsbCByZWFkIGl0XG4gICAgICAgICAgICBhYVV0aWxpdGllcy5hYURpYWxvZygnc2Vzc2lvblRpbWVPdXQnKS5jbG9zZURpYWxvZygpO1xuICAgICAgICAgICAgYWFVdGlsaXRpZXMuYWFEaWFsb2coJ3Nlc3Npb25UaW1lT3V0Jykub3BlbkRpYWxvZygpO1xuICAgICAgICAgICAgaWYoc2VsZi52aXJ0dWFsUE5SRXhpc3RzKCkpIHtcbiAgICAgICAgICAgICAgICBkZWxldGVWaXJ0dWFsUE5SKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNlbGYuY29udGludWVTZXNzaW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnN0b3BUaW1lcnMoKTtcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSBzZWxmLmNyZWF0ZVZpcnR1YWxQbnJQYXJhbXMoKTtcbiAgICAgICAgICAgIEFBVUkuYWpheFJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIHVybDogJy9zaGFyZWQvc2Vzc2lvbi9yZW5ldy8nICsgcGFyYW1zLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgIGJ1c3lDb250YWluZXI6ICRqKCcjc2Vzc2lvblRpbWVPdXQnKS5wYXJlbnQoKSxcbiAgICAgICAgICAgICAgICBidXN5TWVzc2FnZTogJycsXG4gICAgICAgICAgICAgICAgdGltZW91dDogNTAwMDAsXG4gICAgICAgICAgICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbihqc29uUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoc2VsZi52aXJ0dWFsUE5SRXhpc3RzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGFuZGxlVXBkYXRlVmlydHVhbFBuclJlc3BvbnNlKGpzb25SZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXNldFRpbWVyc1RvQ29udGludWUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXNUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RvcFRpbWVycygpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLm9wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXNzaW9uRXhwaXJlZERpYWxvZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhYVV0aWxpdGllcy5hYURpYWxvZygnc2Vzc2lvblRpbWVPdXQnKS5jbG9zZURpYWxvZygpO1xuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5jcmVhdGVWaXJ0dWFsUG5yUGFyYW1zID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZihzZWxmLnZpcnR1YWxQTlJFeGlzdHMoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnP3ZpcnR1YWxQbnI9dHJ1ZSZib29raW5nUGF0aFN0YXRlSWQ9JyArICRib29raW5nUGF0aFN0YXRlSWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLnN0b3BUaW1lcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChyZW5ld1RpbWVyKTtcbiAgICAgICAgICAgIHJlbmV3VGltZXIgPSBudWxsO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHNlc3Npb25UaW1lcik7XG4gICAgICAgICAgICBzZXNzaW9uVGltZXIgPSBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNlbGYucmVzZXRUaW1lcnNUb0NvbnRpbnVlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnN0b3BUaW1lcnMoKTtcbiAgICAgICAgICAgIHNlbGYuc3RhcnRTZXNzaW9uVGltZXIoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLnZpcnR1YWxQTlJFeGlzdHMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYoJGlzRGlzcGxheVZpcnR1YWxQTlJNb2RhbCA9PSAndHJ1ZScgfHwgJGlzRGlzcGxheVZpcnR1YWxQTlJNb2RhbCA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5maW5hbERpc3BsYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYoJGlzRmluYWxEaXNwbGF5TW9kYWwgPT0gJ3RydWUnIHx8ICRpc0ZpbmFsRGlzcGxheU1vZGFsID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLmhhbmRsZVVwZGF0ZVZpcnR1YWxQbnJSZXNwb25zZSA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAkaXNGaW5hbERpc3BsYXlNb2RhbCA9IHJlc3BvbnNlLmZpbmFsVmlydHVhbFBOUk1vZGFsO1xuICAgICAgICAgICAgc2VsZi5yZXNldFRpbWVyc1RvQ29udGludWUoKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZWxmLmhvbWUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgQUFVSS5hamF4UmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgdXJsOiAnL3NoYXJlZC9zZXNzaW9uL2V4cGlyZWQvJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICBidXN5Q29udGFpbmVyOiAkaignI3Nlc3Npb25UaW1lT3V0JykucGFyZW50KCksXG4gICAgICAgICAgICAgICAgYnVzeU1lc3NhZ2U6ICcnLFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDUwMDAwLFxuICAgICAgICAgICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24oanNvblJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0ganNvblJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25FcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9ob21lUGFnZS5kbyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2VsZi5hcHBTdGFydE92ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vU2VuZCBtZXNzYWdlIHRvIHRoZSBhcHAgZm9yIHNlc3Npb24gZXhwaXJhdGlvbi5cbiAgICAgICAgICAgICRqKGRvY3VtZW50KS50cmlnZ2VyKFwiYnJpZGdlLmFhY29tVG9OYXRpdmVBcHBcIiwge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2Vzc2lvbkV4cGlyZWRcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSgpO1xuXG4gICAgQUFVSS5jaGFyYWN0ZXJDb3VudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEFBVUkub25JbnB1dCgnLmpzLWNvbW1lbnRzQXJlYScsIHNlbGYuY2FsY3VsYXRlKTtcbiAgICAgICAgICAgIEFBVUkub25JbnB1dCgnLmpzLWFzc2lzdGFuY2VUeXBlQ29tbWVudHNBcmVhJywgc2VsZi5hc3Npc3RhbmNlVHlwZUNhbGN1bGF0ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHNlbGYuY2FsY3VsYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJHRleHRGaWVsZCA9ICRqKHRoaXMpLFxuICAgICAgICAgICAgICAgIG1heExlbmd0aCA9ICR0ZXh0RmllbGQuYXR0cihcIm1heGxlbmd0aFwiKSxcbiAgICAgICAgICAgICAgICB1c2VkTGVuZ3RoID0gJHRleHRGaWVsZC52YWwoKS5sZW5ndGg7XG4gICAgICAgICAgICAkaignLmpzLWNoYXJhY3RlckNvdW50ZXInKS5odG1sKG1heExlbmd0aCAtIHVzZWRMZW5ndGgpO1xuICAgICAgICB9O1xuICAgICAgICBzZWxmLmFzc2lzdGFuY2VUeXBlQ2FsY3VsYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJHRleHRGaWVsZCA9ICRqKHRoaXMpLFxuICAgICAgICAgICAgICAgIG1heExlbmd0aCA9ICR0ZXh0RmllbGQuYXR0cihcIm1heGxlbmd0aFwiKSxcbiAgICAgICAgICAgICAgICB1c2VkTGVuZ3RoID0gJHRleHRGaWVsZC52YWwoKS5sZW5ndGg7XG4gICAgICAgICAgICAkaignLmpzLWFzc2lzdGFuY2VUeXBlQ2hhcmFjdGVyQ291bnRlcicpLmh0bWwobWF4TGVuZ3RoIC0gdXNlZExlbmd0aCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfSgpO1xuXG4gICAgQUFVSS50b1Bhc2NhbENhc2UgPSBmdW5jdGlvbihjb250ZW50KSB7XG5cbiAgICAgICAgdmFyIGZvcm1hdHRlZENvbnRlbnQgPSBBQVVJLnBhc2NhbENhc2VDb250ZW50KGNvbnRlbnQpO1xuXG4gICAgICAgIGZvcm1hdHRlZENvbnRlbnQgPSBmb3JtYXR0ZWRDb250ZW50LnJlcGxhY2UoXCItQS1cIiwgXCItYS1cIik7XG4gICAgICAgIGZvcm1hdHRlZENvbnRlbnQgPSBmb3JtYXR0ZWRDb250ZW50LnJlcGxhY2UoXCIodS5zLilcIiwgXCIoVS5TLilcIik7XG4gICAgICAgIGZvcm1hdHRlZENvbnRlbnQgPSBmb3JtYXR0ZWRDb250ZW50LnJlcGxhY2UoXCIoYnJpdGlzaClcIiwgXCIoQnJpdGlzaClcIik7XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZENvbnRlbnQudHJpbSgpO1xuICAgIH07XG5cbiAgICBBQVVJLnBhc2NhbENhc2VDb250ZW50ID0gZnVuY3Rpb24oY29udGVudCkge1xuXG4gICAgICAgIHZhciBzcGxpdHRlciA9IFwiIFwiO1xuICAgICAgICB2YXIgZm9ybWF0dGVkV29yZCA9IFwiXCI7XG4gICAgICAgIHZhciBmb3JtYXR0ZWRDb250ZW50ID0gXCJcIjtcblxuICAgICAgICB2YXIgd29yZEFycmF5ID0gY29udGVudC5zcGxpdChzcGxpdHRlcik7XG5cbiAgICAgICAgdmFyIGxhc3RXb3JkSW5kZXggPSB3b3JkQXJyYXkubGVuZ3RoIC0gMTtcblxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgd29yZEFycmF5Lmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgIGZvcm1hdHRlZFdvcmQgPSBBQVVJLnBhc2NhbENhc2VXb3JkKHdvcmRBcnJheVtpXSk7XG4gICAgICAgICAgICBmb3JtYXR0ZWRXb3JkID0gQUFVSS5wYXNjYWxDYXNlQ29udGVudFdpdGhTcGxpdHRlcihcIi1cIiwgZm9ybWF0dGVkV29yZCk7XG4gICAgICAgICAgICBmb3JtYXR0ZWRXb3JkID0gQUFVSS5wYXNjYWxDYXNlQ29udGVudFdpdGhTcGxpdHRlcihcIi9cIiwgZm9ybWF0dGVkV29yZCk7XG5cbiAgICAgICAgICAgIC8vYXR0YWNoIGZvcm1hdHRlZCB3b3JkIHRvIGNvbnRlbnRcbiAgICAgICAgICAgIGZvcm1hdHRlZENvbnRlbnQgKz0gZm9ybWF0dGVkV29yZDtcblxuICAgICAgICAgICAgLy9pZiBub3QgbGFzdCB3b3JkIHRoZW4gYWRkIHNwbGl0dGVyXG4gICAgICAgICAgICBpZihpICE9IGxhc3RXb3JkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRDb250ZW50ICs9IHNwbGl0dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZENvbnRlbnQudHJpbSgpO1xuICAgIH07XG4gICAgQUFVSS5wYXNjYWxDYXNlQ29udGVudFdpdGhTcGxpdHRlciA9IGZ1bmN0aW9uKHNwbGl0dGVyLCBjb250ZW50KSB7XG5cbiAgICAgICAgaWYoY29udGVudC5pbmRleE9mKHNwbGl0dGVyKSA9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZm9ybWF0dGVkV29yZDtcbiAgICAgICAgdmFyIGZvcm1hdHRlZENvbnRlbnQgPSBcIlwiO1xuXG4gICAgICAgIHZhciB3b3JkQXJyYXkgPSBjb250ZW50LnNwbGl0KHNwbGl0dGVyKTtcbiAgICAgICAgdmFyIGxhc3RXb3JkSW5kZXggPSB3b3JkQXJyYXkubGVuZ3RoIC0gMTtcblxuICAgICAgICBmb3IodmFyIHggPSAwOyB4IDwgd29yZEFycmF5Lmxlbmd0aDsgeCsrKSB7XG5cbiAgICAgICAgICAgIGZvcm1hdHRlZFdvcmQgPSBBQVVJLnBhc2NhbENhc2VXb3JkKHdvcmRBcnJheVt4XSk7XG5cbiAgICAgICAgICAgIC8vYXR0YWNoIGZvcm1hdGVkIHdvcmQgdG8gY29udGVudFxuICAgICAgICAgICAgZm9ybWF0dGVkQ29udGVudCArPSBmb3JtYXR0ZWRXb3JkO1xuXG4gICAgICAgICAgICAvL2lmIG5vdCBsYXN0IHdvcmQgdGhlbiBhZGQgc3BsaXR0ZXJcbiAgICAgICAgICAgIGlmKHggIT0gbGFzdFdvcmRJbmRleCkge1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlZENvbnRlbnQgKz0gc3BsaXR0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkQ29udGVudC50cmltKCk7XG4gICAgfTtcblxuICAgIEFBVUkucGFzY2FsQ2FzZVdvcmQgPSBmdW5jdGlvbih3b3JkKSB7XG4gICAgICAgIHJldHVybiB3b3JkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgd29yZC5zdWJzdHJpbmcoMSkudG9Mb3dlckNhc2UoKTtcbiAgICB9O1xuXG4gICAgLy9pbW1lZGlhdGVseSBleGVjdXRlIHdoYXQgaXMgbmVlZGVkIG9uIGV2ZXJ5IHBhZ2VcbiAgICBBQVVJLmdlbmVyaWNQb3B1cCgkaignLmFhLXBvcC13aW4tbWVkJykpO1xuICAgIEFBVUkuZ2VuZXJpY1BvcHVwKCRqKCcuYWEtcG9wLXdpbi1scmcnKSk7XG4gICAgQUFVSS5lcnJvclN1bW1hcnkuaW5pdCgpO1xuICAgIEFBVUkuc2Vzc2lvblRpbWVPdXREaWFsb2cuaW5pdCgpO1xufTtcbiJdfQ==
//# sourceMappingURL=utilities.min.js.map
