'use strict';/**
*  UI-REFACTORED
*    FROM --> ./legacy-web/src/main/js/js/aa/modules/ajax.js
*    TO   --> ./webapps/shared-web/src/main/assets/js/modules/ajax.js
**//* A module that houses several ajax js utilities */AAcom.modules.ajax=function(AAUI){AAUI.ajaxInProgress=false;AAUI.ajaxRequest=function(options){var defaults={url:'',type:'GET',data:'',dataType:'html',async:true,cache:false,timeout:30000,form:'',showBusy:true,updateContainer:'',busyContainer:undefined,busyMessage:'',parallelCall:false,onBeforeSend:function onBeforeSend(){},onError:undefined,onSuccess:function onSuccess(){},onComplete:function onComplete(){}},form=_getFormDetails(options),settings=$j.extend({},defaults,form,options);if((!AAUI.ajaxInProgress||settings.parallelCall)&&settings.url!==''){if(settings.dataType==='json'){settings.contentType='application/json';if(typeof settings.data!=='string'){settings.data=JSON.stringify(settings.data)}}settings=$j.extend(settings,{beforeSend:function beforeSend(){AAUI.ajaxInProgress=true;if(settings.showBusy){settings.busyContainer=settings.busyContainer||settings.updateContainer;$j(settings.busyContainer).aaBusy({message:settings.busyMessage}).start()}settings.onBeforeSend()},success:function success(response,statusText,xhr){AAUI.sessionTimeOutDialog.resetTimersToContinue();if(!_errorHandler(xhr,statusText,settings)){if(settings.dataType==='html'){$j(settings.updateContainer).empty().html(xhr.responseText)}settings.onSuccess(response,statusText,xhr)}},error:function error(xhr,statusText){AAUI.sessionTimeOutDialog.resetTimersToContinue();_errorHandler(xhr,statusText,settings)},complete:function complete(xhr,statusText){if(settings.showBusy){$j(settings.busyContainer).aaBusy().stop()}AAUI.ajaxInProgress=false;settings.onComplete(xhr,statusText)}});$j.ajax(settings)}};var _getFormDetails=function _getFormDetails(options){var $form=$j(options.form),details;if($form.length>0){details={url:$form.attr('action'),type:$form.attr('method'),data:options.dataType==='json'?$form.serializeObject():$form.serialize()}}return details};var _errorHandler=function _errorHandler(xhr,statusText,settings){if(statusText!=='success'){if(settings.onError!==undefined){settings.onError(xhr,statusText)}else{var $htmlResponse=$j(xhr.responseText);if(statusText==='timeout'||xhr.responseText==='invalidState'||$htmlResponse.find('.js-invalidState').length>0){top.location.href='/error/invalid-state';return true}else if(statusText==='error'||xhr.responseText==='systemError'||$htmlResponse.find('.js-systemError').length>0){top.location.href='/error/system-trouble';return true}}}return false}};/*--------------------------------*\
    Format Form elements as JSON
\*--------------------------------*/if(!$j.isFunction($j.fn.serializeObject)){$j.fn.serializeObject=function(){var o={};var a=this.serializeArray();$j.each(a,function(){if(o[this.name]){if(!o[this.name].push){o[this.name]=[o[this.name]]}o[this.name].push(this.value||'')}else{o[this.name]=this.value||''}});return o}}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvYWpheC5qcyJdLCJuYW1lcyI6WyJBQWNvbSIsIm1vZHVsZXMiLCJhamF4IiwiQUFVSSIsImFqYXhJblByb2dyZXNzIiwiYWpheFJlcXVlc3QiLCJvcHRpb25zIiwiZGVmYXVsdHMiLCJ1cmwiLCJ0eXBlIiwiZGF0YSIsImRhdGFUeXBlIiwiYXN5bmMiLCJjYWNoZSIsInRpbWVvdXQiLCJmb3JtIiwic2hvd0J1c3kiLCJ1cGRhdGVDb250YWluZXIiLCJidXN5Q29udGFpbmVyIiwidW5kZWZpbmVkIiwiYnVzeU1lc3NhZ2UiLCJwYXJhbGxlbENhbGwiLCJvbkJlZm9yZVNlbmQiLCJvbkVycm9yIiwib25TdWNjZXNzIiwib25Db21wbGV0ZSIsIl9nZXRGb3JtRGV0YWlscyIsInNldHRpbmdzIiwiJGoiLCJleHRlbmQiLCJjb250ZW50VHlwZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJiZWZvcmVTZW5kIiwiYWFCdXN5IiwibWVzc2FnZSIsInN0YXJ0Iiwic3VjY2VzcyIsInJlc3BvbnNlIiwic3RhdHVzVGV4dCIsInhociIsInNlc3Npb25UaW1lT3V0RGlhbG9nIiwicmVzZXRUaW1lcnNUb0NvbnRpbnVlIiwiX2Vycm9ySGFuZGxlciIsImVtcHR5IiwiaHRtbCIsInJlc3BvbnNlVGV4dCIsImVycm9yIiwiY29tcGxldGUiLCJzdG9wIiwiJGZvcm0iLCJkZXRhaWxzIiwibGVuZ3RoIiwiYXR0ciIsInNlcmlhbGl6ZU9iamVjdCIsInNlcmlhbGl6ZSIsIiRodG1sUmVzcG9uc2UiLCJmaW5kIiwidG9wIiwibG9jYXRpb24iLCJocmVmIiwiaXNGdW5jdGlvbiIsImZuIiwibyIsImEiLCJzZXJpYWxpemVBcnJheSIsImVhY2giLCJuYW1lIiwicHVzaCIsInZhbHVlIl0sIm1hcHBpbmdzIjoiYUFBQTs7OztHQU1BLG9EQUVBQSxNQUFNQyxPQUFOLENBQWNDLElBQWQsQ0FBcUIsU0FBU0MsSUFBVCxDQUFlLENBRWhDQSxLQUFLQyxjQUFMLENBQXNCLEtBQXRC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LENBQ3pITSxJQUFJQyxRQUFKLENBQWFDLElBQWIsQ0FBb0IsdUJBQXBCLENBQ0EsTUFBTyxLQUNWLENBQ0osQ0FDSixDQUNELE1BQU8sTUFDVixDQUNKLENBOUZELENBZ0dBOztvQ0FHQSxHQUFJLENBQUNoQyxHQUFHaUMsVUFBSCxDQUFjakMsR0FBR2tDLEVBQUgsQ0FBTVIsZUFBcEIsQ0FBTCxDQUEyQyxDQUN2QzFCLEdBQUdrQyxFQUFILENBQU1SLGVBQU4sQ0FBd0IsVUFBVyxDQUMvQixHQUFJUyxHQUFJLEVBQVIsQ0FDQSxHQUFJQyxHQUFJLEtBQUtDLGNBQUwsRUFBUixDQUNBckMsR0FBR3NDLElBQUgsQ0FBUUYsQ0FBUixDQUFXLFVBQVcsQ0FDbEIsR0FBSUQsRUFBRSxLQUFLSSxJQUFQLENBQUosQ0FBa0IsQ0FDZCxHQUFJLENBQUNKLEVBQUUsS0FBS0ksSUFBUCxFQUFhQyxJQUFsQixDQUF3QixDQUNwQkwsRUFBRSxLQUFLSSxJQUFQLEVBQWUsQ0FBQ0osRUFBRSxLQUFLSSxJQUFQLENBQUQsQ0FDbEIsQ0FDREosRUFBRSxLQUFLSSxJQUFQLEVBQWFDLElBQWIsQ0FBa0IsS0FBS0MsS0FBTCxFQUFjLEVBQWhDLENBQ0gsQ0FMRCxJQUtPLENBQ0hOLEVBQUUsS0FBS0ksSUFBUCxFQUFlLEtBQUtFLEtBQUwsRUFBYyxFQUNoQyxDQUNKLENBVEQsRUFVQSxNQUFPTixFQUNWLENBQ0oiLCJmaWxlIjoibW9kdWxlcy9hamF4LmpzIiwic291cmNlUm9vdCI6Ii9hc3NldHMvanMvIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qICBVSS1SRUZBQ1RPUkVEXG4qICAgIEZST00gLS0+IC4vbGVnYWN5LXdlYi9zcmMvbWFpbi9qcy9qcy9hYS9tb2R1bGVzL2FqYXguanNcbiogICAgVE8gICAtLT4gLi93ZWJhcHBzL3NoYXJlZC13ZWIvc3JjL21haW4vYXNzZXRzL2pzL21vZHVsZXMvYWpheC5qc1xuKiovXG5cbi8qIEEgbW9kdWxlIHRoYXQgaG91c2VzIHNldmVyYWwgYWpheCBqcyB1dGlsaXRpZXMgKi9cblxuQUFjb20ubW9kdWxlcy5hamF4ID0gZnVuY3Rpb24oQUFVSSkge1xuICAgIFxuICAgIEFBVUkuYWpheEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICBBQVVJLmFqYXhSZXF1ZXN0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiAnJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBkYXRhOiAnJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLFxuICAgICAgICAgICAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiAzMDAwMCxcbiAgICAgICAgICAgICAgICBmb3JtOiAnJyxcbiAgICAgICAgICAgICAgICBzaG93QnVzeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB1cGRhdGVDb250YWluZXI6ICcnLFxuICAgICAgICAgICAgICAgIGJ1c3lDb250YWluZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBidXN5TWVzc2FnZTogJycsXG4gICAgICAgICAgICAgICAgcGFyYWxsZWxDYWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvbkJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge30sXG4gICAgICAgICAgICAgICAgb25FcnJvcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHt9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9ybSA9IF9nZXRGb3JtRGV0YWlscyhvcHRpb25zKSxcbiAgICAgICAgICAgIHNldHRpbmdzID0gJGouZXh0ZW5kKHt9LCBkZWZhdWx0cywgZm9ybSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBcbiAgICAgICAgaWYgKCghQUFVSS5hamF4SW5Qcm9ncmVzcyB8fCBzZXR0aW5ncy5wYXJhbGxlbENhbGwpICYmIHNldHRpbmdzLnVybCAhPT0gJycpIHtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5kYXRhVHlwZSA9PT0gJ2pzb24nKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuY29udGVudFR5cGUgPSBcImFwcGxpY2F0aW9uL2pzb25cIjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHNldHRpbmdzLmRhdGEpICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmRhdGEgPSBKU09OLnN0cmluZ2lmeShzZXR0aW5ncy5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXR0aW5ncyA9ICRqLmV4dGVuZChzZXR0aW5ncywge1xuICAgICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBBQVVJLmFqYXhJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnNob3dCdXN5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5idXN5Q29udGFpbmVyID0gc2V0dGluZ3MuYnVzeUNvbnRhaW5lciB8fCBzZXR0aW5ncy51cGRhdGVDb250YWluZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaihzZXR0aW5ncy5idXN5Q29udGFpbmVyKS5hYUJ1c3koe21lc3NhZ2U6c2V0dGluZ3MuYnVzeU1lc3NhZ2V9KS5zdGFydCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uQmVmb3JlU2VuZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UsIHN0YXR1c1RleHQsIHhocikge1xuICAgICAgICAgICAgICAgIFx0QUFVSS5zZXNzaW9uVGltZU91dERpYWxvZy5yZXNldFRpbWVyc1RvQ29udGludWUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfZXJyb3JIYW5kbGVyKHhociwgc3RhdHVzVGV4dCwgc2V0dGluZ3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MuZGF0YVR5cGUgPT09ICdodG1sJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRqKHNldHRpbmdzLnVwZGF0ZUNvbnRhaW5lcikuZW1wdHkoKS5odG1sKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25TdWNjZXNzKHJlc3BvbnNlLCBzdGF0dXNUZXh0LCB4aHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXNUZXh0KSB7XG4gICAgICAgICAgICAgICAgXHRBQVVJLnNlc3Npb25UaW1lT3V0RGlhbG9nLnJlc2V0VGltZXJzVG9Db250aW51ZSgpO1xuICAgICAgICAgICAgICAgIFx0X2Vycm9ySGFuZGxlcih4aHIsIHN0YXR1c1RleHQsIHNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbih4aHIsc3RhdHVzVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3Muc2hvd0J1c3kpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRqKHNldHRpbmdzLmJ1c3lDb250YWluZXIpLmFhQnVzeSgpLnN0b3AoKTtcbiAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgQUFVSS5hamF4SW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5vbkNvbXBsZXRlKHhocixzdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICRqLmFqYXgoc2V0dGluZ3MpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgX2dldEZvcm1EZXRhaWxzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgJGZvcm0gPSAkaihvcHRpb25zLmZvcm0pLCBkZXRhaWxzO1xuICAgICAgICBpZiAoJGZvcm0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZGV0YWlscyA9IHtcbiAgICAgICAgICAgICAgICB1cmw6ICRmb3JtLmF0dHIoJ2FjdGlvbicpLFxuICAgICAgICAgICAgICAgIHR5cGU6ICRmb3JtLmF0dHIoJ21ldGhvZCcpLFxuICAgICAgICAgICAgICAgIGRhdGE6IChvcHRpb25zLmRhdGFUeXBlID09PSAnanNvbicpID8gJGZvcm0uc2VyaWFsaXplT2JqZWN0KCkgOiAkZm9ybS5zZXJpYWxpemUoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGV0YWlscztcbiAgICB9O1xuICAgIHZhciBfZXJyb3JIYW5kbGVyID0gZnVuY3Rpb24oeGhyLCBzdGF0dXNUZXh0LCBzZXR0aW5ncykge1xuICAgICAgICBpZiAoc3RhdHVzVGV4dCAhPT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3Mub25FcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3Mub25FcnJvcih4aHIsIHN0YXR1c1RleHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgJGh0bWxSZXNwb25zZSA9ICRqKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNUZXh0ID09PSAndGltZW91dCcgfHwgeGhyLnJlc3BvbnNlVGV4dCA9PT0gJ2ludmFsaWRTdGF0ZScgfHwgJGh0bWxSZXNwb25zZS5maW5kKCcuanMtaW52YWxpZFN0YXRlJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0b3AubG9jYXRpb24uaHJlZiA9IFwiL2Vycm9yL2ludmFsaWQtc3RhdGVcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXNUZXh0ID09PSAnZXJyb3InIHx8IHhoci5yZXNwb25zZVRleHQgPT09ICdzeXN0ZW1FcnJvcicgfHwgJGh0bWxSZXNwb25zZS5maW5kKCcuanMtc3lzdGVtRXJyb3InKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcC5sb2NhdGlvbi5ocmVmID0gXCIvZXJyb3Ivc3lzdGVtLXRyb3VibGVcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xufTtcblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSpcXFxuICAgIEZvcm1hdCBGb3JtIGVsZW1lbnRzIGFzIEpTT05cblxcKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmlmICghJGouaXNGdW5jdGlvbigkai5mbi5zZXJpYWxpemVPYmplY3QpKSB7XG4gICAgJGouZm4uc2VyaWFsaXplT2JqZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBvID0ge307XG4gICAgICAgIHZhciBhID0gdGhpcy5zZXJpYWxpemVBcnJheSgpO1xuICAgICAgICAkai5lYWNoKGEsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKG9bdGhpcy5uYW1lXSkge1xuICAgICAgICAgICAgICAgIGlmICghb1t0aGlzLm5hbWVdLnB1c2gpIHtcbiAgICAgICAgICAgICAgICAgICAgb1t0aGlzLm5hbWVdID0gW29bdGhpcy5uYW1lXV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9bdGhpcy5uYW1lXS5wdXNoKHRoaXMudmFsdWUgfHwgJycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvW3RoaXMubmFtZV0gPSB0aGlzLnZhbHVlIHx8ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG87XG4gICAgfTtcbn1cbiJdfQ==
//# sourceMappingURL=ajax.min.js.map
