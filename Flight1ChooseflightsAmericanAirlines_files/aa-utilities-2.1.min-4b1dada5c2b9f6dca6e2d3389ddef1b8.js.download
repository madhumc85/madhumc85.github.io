'use strict';var _typeof=typeof Symbol==='function'&&typeof Symbol.iterator==='symbol'?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==='function'&&obj.constructor===Symbol&&obj!==Symbol.prototype?'symbol':typeof obj};/**
*  UI-REFACTORED
*    FROM --> ./legacy-web/src/main/js/apps/common/js/jquery/aacom/utilities/aaUtilities-2.1.js
*    TO   --> ./webapps/shared-web/src/main/assets/js/legacy/utilities/aa-utilities-2.1.js
**//* global closePageSlide:true *//**********************************************************************
? METADATA:
    Filename: aaUtilities-2.1.js
    Location: /content/js/jquery/misc/
    License: Copyright 2013, AA.com
    Created on: 06/01/13
    Version: 2.1.0
    UX: David Perez, Oscar Perez. (To be modified only by UX)
    Description: Creation of one baseline file with utility functions.
    Version Features:
        + Updated Quickflip functionality
        + Added on open/close callbacks
        + Added position option
        + Added margin/padding support for rebrand dialogs
        + Added busy state for ajax
        + Added adaptive support
**********************************************************************/var activeDialog='';var dialogArray={};var dialogLinkObj;function aa_Utilities(){this.aaDialog=function(name,attributes){return new aa_Utilities_Dialog(name,attributes)};this.aaFormat=new aa_Utilities_Format}function aa_Utilities_Dialog(dialog,props){var self=this;//find Dialog
var dialogObj='',dialogName='';if(dialog!==undefined){if((typeof dialog==='undefined'?'undefined':_typeof(dialog))=='object'){if(dialog.attr('id')!==undefined){dialogObj='#'+dialog.attr('id');dialogName=dialog.attr('id')}}else if(typeof dialog=='string'){if(dialog.indexOf('#')===0){dialogObj=dialog;dialogName=dialog.replace(/#/,'')}else{dialogObj='#'+dialog+'Dialog';dialogName=dialog}}}var dialogObjTitle='#'+dialogName+'Title';var dialogLink='.aa-dialog-'+dialogName;var wrapperClass='aa-dialog-content-wrapper';var hideCloseInApp=false;self.version=2.1;self.jQueryUIVersion=jQuery.map(jQuery.fn.jquery.split('.'),function(i){return('0'+i).slice(-2)}).join('.');//Init Dialog (Public)
self.initDialog=function(){//Dialog Properties
props=props!==undefined?props:{};props.hide=props.hide!==undefined?props.hide:null;props.width=props.width!==undefined?props.width:882;props.width=props.width=='small'?582:props.width=='medium'?840:props.width=='large'?926:props.width;props.height=props.height!==undefined?props.height:'auto';props.maxHeight=props.maxHeight!==undefined?props.maxHeight:600;props.minHeight=props.minHeight!==undefined?props.minHeight:150;props.modal=props.modal!==undefined?props.modal:true;props.overlay=props.overlay!==undefined?props.overlay:true;props.cssClass=props.cssClass!==undefined?props.cssClass:'';if(props.showClose!==undefined){props.showClose=props.showClose}else{if(isMobileApp()){props.showClose=false}else{props.showClose=true}}props.showTitle=props.showTitle!==undefined?props.showTitle:true;props.showBusy=props.showBusy!==undefined?props.showBusy:false;props.quickflip=props.quickflip!==undefined?props.quickflip:false;props.buttons=props.buttons!==undefined?props.buttons:[];props.toggleScroll=props.toggleScroll!==undefined?props.toggleScroll:false;props.zIndex=props.zIndex!==undefined?props.zIndex:1000;props.closeOnEscape=props.closeOnEscape!==undefined?props.closeOnEscape:true;props.submitOnEnter=props.submitOnEnter!==undefined?props.submitOnEnter:false;props.title=props.title!==undefined?props.title:jQuery(dialogObjTitle).prop('value')||jQuery(dialogObjTitle).html();props.position=props.position!==undefined?props.position:'center';props.adaptive=props.adaptive!==undefined?props.adaptive:true;props.onOpen=props.onOpen!==undefined?props.onOpen:function(){};props.onClose=props.onClose!==undefined?props.onClose:function(){};props.onBeforeOpen=props.onBeforeOpen!==undefined?props.onBeforeOpen:function(){};props.onBeforeClose=props.onBeforeClose!==undefined?props.onBeforeClose:function(){};props.btnPaneContent=props.btnPaneContent!==undefined?props.btnPaneContent:jQuery(dialogObj).find('#'+dialogName+'BtnPaneContent').html();props.titlePaneContent=props.titlePaneContent!==undefined?props.titlePaneContent:jQuery(dialogObj).find('#'+dialogName+'TitlePaneContent').html();props.resizable=props.resizable!==undefined?props.resizable:true;props.aaPosition=jQuery.extend({vertical:null,horizontal:null,of:null},props.aaPosition);props.showFullScreen=props.showFullScreen!==undefined?props.showFullScreen&&is_phone()||props.showFullScreen&&isMobileApp():false;//In aacom mobile app X will be shown on the nav bar when dialogs are opened. For some dialogs like session timeout
//We don't want that X so we need to send this flag to the component to stop sending message to the app for showing the X.
hideCloseInApp=props.hideCloseInApp!==undefined?props.hideCloseInApp:false;//Overrides dialog values if showFullScreen has been set
if(props.showFullScreen){var $mainSection=jQuery('#main');props.minHeight=jQuery(window).height();props.cssClass='full-screen-dialog';props.height='auto';props.onOpen=function(){$mainSection.hide()};props.onBeforeOpen=function(){if(jQuery('#navigation').hasClass('pageslide')){closePageSlide()}};props.onBeforeClose=function(){$mainSection.show()}}// Position of dialog
dialogArray[dialogObj]=props;//add Dialog
//Local Variables
var resizable=false;var draggable=props.modal?false:true;jQuery(dialogObj).addClass('aa-dialog-content-pad');if(jQuery(dialogObj).find('.'+wrapperClass).length===0){jQuery(dialogObj).html('<div class="'+wrapperClass+'">'+jQuery(dialogObj).html()+'</div>')}// Set quickflip before dialog. Very important
if(props.quickflip){jQuery(dialogObj+' .quickFlip-wrapper').css({'width':props.width-60,'height':'auto'});//quickflip settings if there are flip pannels
jQuery(dialogObj+' .quickFlip-wrapper').quickFlip({noResize:true});jQuery('.ui-dialog .quickFlip-firstPanel').on('click',function(){//quickflipper overides the quickFlipCta automatic onclick event ( options, panel #)
setFlipPanel(0,true);return false});jQuery('.ui-dialog .quickFlip-secondPanel').on('click',function(){setFlipPanel(1,true);return false});jQuery('.ui-dialog .quickFlip-thirdPanel').on('click',function(){setFlipPanel(2,true);return false})}//Jquery Dialog
jQuery(dialogObj).dialog({autoOpen:false,modal:props.modal,draggable:draggable,resizable:resizable,bgiframe:true,title:props.title,width:props.width,height:props.height,minHeight:props.minHeight,zIndex:props.zIndex,closeOnEscape:props.closeOnEscape,open:props.onOpen,close:props.onClose,closeText:'',beforeClose:props.onBeforeClose});//add buttons if they exist
if(props.buttons.length>0){var btnsArray=[];for(var i=0;i<props.buttons.length;i++){var btn=props.buttons[i];btn.name=btn.name!==undefined?btn.name:'OK';btn.callback=btn.callback!==undefined?btn.callback:function(){};btn.cssClass=btn.cssClass!==undefined?btn.cssClass:'aa-btn-primary';btn.closeDialog=btn.closeDialog!==undefined?btn.closeDialog:true;btn.hideOnpanel=btn.hideOnpanel!==undefined?','+btn.hideOnpanel+',':'';btn.id=btn.id!==undefined?btn.id:dialogName+'DialogButton'+i;if(btn.closeDialog){btn.callback=function(){var cached_function=btn.callback;return function(){var result=cached_function.apply(this,arguments);jQuery(this).dialog('close');return result}}()}btnsArray[i]={text:btn.name,'class':'aa-btn '+btn.cssClass,'id':btn.id,click:btn.callback}}jQuery(dialogObj).dialog('option','buttons',btnsArray);if(props.btnPaneContent!==undefined&&props.btnPaneContent.length){jQuery(dialogObj).parents('.ui-dialog').find('.ui-dialog-buttonpane').prepend(props.btnPaneContent)}}self.initTitleBar(dialogObj,props);if(props.toggleScroll){jQuery(dialogObj).bind('dialogclose',function(){jQuery('body').css('overflow','auto')})}jQuery(dialogObj).bind('dialogclose',_closeDialog);jQuery(dialogObj).bind('dialogopen',_openDialog);// Mobile App will trigger this event to tell aacom to close the dialog
jQuery(document).bind('bridge.web.closeDialog',self.closeDialog);if(props.submitOnEnter){jQuery(dialogObj+' form input').on('keydown',function(e){var keyCode=e.keyCode||e.which;if(keyCode==13){//enter key
jQuery(this).parents('form:first').submit()}})}//Open Event
jQuery(document).on('click',dialogLink,function(){self.openDialog(this);return false})};self.initTitleBar=function(dialogObj,props){var $titleBar=jQuery(dialogObj).parents('.ui-dialog:first').find('.ui-dialog-titlebar');var $dialogTitle=$titleBar.find('.ui-dialog-title');$dialogTitle.appendTo($dialogTitle.parent());$dialogTitle.replaceWith('<h2 tabindex="0" id="'+$dialogTitle.attr('id')+'" class="'+$dialogTitle.attr('class')+'">'+$dialogTitle.html()+'</h2>');$dialogTitle.css('margin','2px');self.initCloseIcon($titleBar);if(props.showTitle&&props.titlePaneContent!==undefined&&props.titlePaneContent.length>0){$titleBar.append(props.titlePaneContent)}};self.initCloseIcon=function($titleBar){var closeText=typeof AAcom!=='undefined'?AAcom.prototype.getProperty('dialog.closeText'):'Close window';var $closeTag=$titleBar.find('.ui-dialog-titlebar-close');var $closeIconHiddenText=$closeTag.find('.ui-button-text');var $closeIconTag=$closeTag.find('.ui-icon');$closeIconHiddenText.text(closeText);$closeIconTag.text('');if($closeIconHiddenText.length===0){$closeTag.append('<span class="ui-button-text hidden-accessible">'+closeText+'</span>')}$closeTag.attr('id',dialogName+'DialogClose')};//Open Dialog (Public)
self.openDialog=function(clickObj){if(dialogObj.length<=0)return false;//Display only one dialog per page.
if(activeDialog!==''&&activeDialog!=dialogObj){if(jQuery(activeDialog).dialog('isOpen')){jQuery(activeDialog).dialog('close')}}//Open Dialog
activeDialog=dialogObj;if(jQuery(dialogObj).dialog('isOpen')){jQuery(dialogObj).dialog('close')}dialogLinkObj=clickObj;var _position=props.adaptive&&is_phone()?'absolute':'fixed';jQuery(dialogObj).parent('.ui-dialog:first').addClass(props.cssClass);jQuery(dialogObj).parent().css('position',_position);jQuery(dialogObj).css('position','relative');jQuery(dialogObj).dialog('option','position',props.position);props.onBeforeOpen(clickObj);jQuery(dialogObj).dialog('open');self.resizeDialog();var $wrapper=jQuery(activeDialog+' .'+wrapperClass);if($wrapper.find(':input,a,[tabindex=0]').filter(':visible').length===0){$wrapper.attr('tabindex','0')}if(props.quickflip&&clickObj!==undefined){if(jQuery(clickObj).hasClass('quickFlip-secondPanel')){setFlipPanel(1,false)}else if(jQuery(clickObj).hasClass('quickFlip-thirdPanel')){setFlipPanel(2,false)}else{setFlipPanel(0,false);//set the first panel by default
}}if(!props.overlay){jQuery('.ui-widget-overlay').css('background','none')}if(props.adaptive&&is_phone()){jQuery(dialogObj).parent('.ui-dialog:first').css('top',getPositionTop())}if(props.showClose!==null&&!props.showClose){jQuery(dialogObj).parents('.ui-dialog:first').find('.ui-dialog-titlebar-close').remove()}if(props.showTitle!==null&&!props.showTitle){jQuery(dialogObj).parents('.ui-dialog:first').find('.ui-dialog-titlebar').remove()}if(props.showBusy!==null&&props.showBusy){self.busyStart('Loading...')}jQuery(window).on('resize.aaDialog',self.resizeDialog);// Scroll top to window, document, or dialog obj
// Default is dialog, other use the option element
var elemObj=props.aaPosition.of?props.aaPosition.of:dialogObj;jQuery(elemObj).scrollTop(0);self.setFocus()};// Set focus (Public)
self.setFocus=function(){var $dialog=jQuery(activeDialog).parents('.ui-dialog:first'),$dialogTitle=$dialog.find('.ui-dialog-title');if($dialogTitle){$dialogTitle.focus()}else{$dialog.focus()}};//Close Dialog (Public)
self.closeDialog=function(){if(dialogObj.length<=0)return false;if(jQuery(dialogObj).dialog('isOpen')){jQuery(dialogObj).dialog('close')}};//Close Dialog (Private)
var _closeDialog=function _closeDialog(ev){activeDialog='';if(self.jQueryUIVersion<'01.10'&&jQuery(dialogLinkObj).length>0){setTimeout(function(){jQuery(dialogLinkObj).focus();dialogLinkObj=undefined},200)}ev.stopPropagation();ev.stopImmediatePropagation();if(!hideCloseInApp){jQuery(document).trigger('bridge.aacomToNativeApp',{name:'dialogClosed'})}return false};//Open Dialog (Private)
var _openDialog=function _openDialog(){if(!hideCloseInApp){jQuery(document).trigger('bridge.aacomToNativeApp',{name:'dialogOpened'})}};self.busyStart=function(busyMsg){if(activeDialog.length<=0)return false;var uiParent=jQuery(activeDialog).parents('.ui-dialog:first');var uiBusy=uiParent.find('> .aa-busy-module');uiParent.addClass('aa-busy');if(busyMsg===undefined)busyMsg='';if(uiBusy.length===0){uiParent.append('<div class="aa-busy-module"><div class="aa-busy-bg"></div><div class="aa-busy-img"><i class="spinner"></i><span class="text"></span></div></div>');uiBusy=uiParent.find('> .aa-busy-module')}if(uiBusy.length==1){uiBusy.find('span').html(busyMsg);//uiBusy.show();
}};self.busyStop=function(){if(activeDialog.length<=0)return false;var uiParent=jQuery(activeDialog).parents('.ui-dialog:first');var uiBusy=uiParent.find('> .aa-busy-module');if(uiBusy.length==1){uiBusy.animate({opacity:'hide'},500,function(){uiBusy.remove();uiParent.removeClass('aa-busy')});jQuery(window).resize()}};//Resize dialog (Public)
self.resizeDialog=function(options){if(activeDialog.length<=0||!isResizeEnable())return false;//jQuery("#DialogDebug").append("<br><br>ActiveDialog: "+activeDialog+"<br>ObjDialog: "+dialogObj);
var activeDialProps=dialogArray[activeDialog];var settings=jQuery.extend({width:activeDialProps.width,height:activeDialProps.height,maxHeight:activeDialProps.adaptive&&is_phone()?'':activeDialProps.maxHeight},options);var newHeight=settings.height;var newWidth=settings.width;var maxHeight=settings.maxHeight;var paddingTop=parseInt(jQuery(activeDialog).parent().css('padding-top'));var paddingBottom=parseInt(jQuery(activeDialog).parent().css('padding-bottom'));var paddingLeft=parseInt(jQuery(activeDialog).css('padding-left'));var paddingRight=parseInt(jQuery(activeDialog).css('padding-right'));var marginLeft=parseInt(jQuery(activeDialog).css('margin-left'));var marginRight=parseInt(jQuery(activeDialog).css('margin-right'));var titleBar=jQuery(activeDialog).parents('.ui-dialog:first').find('.ui-dialog-titlebar:visible');var buttonBar=jQuery(activeDialog).parents('.ui-dialog:first').find('.ui-dialog-buttonpane:visible');if(newHeight!='auto'){if(titleBar.length>0)newHeight-=titleBar.outerHeight();//titlebar
if(buttonBar.length>0)newHeight-=buttonBar.outerHeight();//buttons
newHeight-=paddingTop+paddingBottom;//padding
}jQuery(activeDialog).css('height',newHeight);jQuery(activeDialog).css('max-height',maxHeight);if(jQuery(window).height()<=jQuery(activeDialog).parent().outerHeight()){if(!(activeDialProps.adaptive&&is_phone())){//set height for non-adaptive designs
var totalHeight=jQuery(window).height();if(titleBar.length>0)totalHeight-=titleBar.outerHeight();//titlebar
if(buttonBar.length>0)totalHeight-=buttonBar.outerHeight();//buttons
totalHeight-=paddingTop+paddingBottom;jQuery(activeDialog).css('height',totalHeight*0.8);jQuery(activeDialog).css('max-height',totalHeight*0.8)}}if(activeDialProps.toggleScroll){var _overflow=activeDialProps.adaptive&&is_phone()?'auto':'hidden';jQuery('body').css('overflow',_overflow)}jQuery(activeDialog).css('width','auto');jQuery(activeDialog).css('max-width',activeDialProps.width);jQuery(activeDialog+' .'+wrapperClass).css({'padding-right':0,'position':'relative','margin':'2px'});jQuery(activeDialog).parent().css('width',activeDialProps.width);jQuery(activeDialog).parent().css('max-width',activeDialProps.width);if(jQuery(window).width()<=jQuery(activeDialog).parent().outerWidth()){var scrollbarWidth=20;newWidth-=paddingLeft+paddingRight+marginLeft+marginRight+scrollbarWidth;jQuery(activeDialog+' .'+wrapperClass).css({'width':newWidth,'padding-right':paddingRight,'position':'relative'});jQuery(activeDialog).parent().css('width',jQuery(window).width()*0.95);jQuery(activeDialog).parent().css('max-width',jQuery(window).width()*0.95)}else{jQuery(activeDialog+' .'+wrapperClass).css({'width':''})}jQuery(activeDialog).dialog('option','position',activeDialProps.position);if(activeDialProps.adaptive&&is_phone()){jQuery(activeDialog).parent('.ui-dialog:first').css('top',jQuery(window).scrollTop()+10)}};//Set FlipPanel (Private)
var setFlipPanel=function setFlipPanel(index,animation){if(activeDialog.length<=0)return false;var activeDialProps=dialogArray[activeDialog];var panelHeight=activeDialProps.height;if(index===0)panelHeight=jQuery(activeDialog).height()-jQuery(activeDialog+' .quickFlip-wrapper .first-flipPanel').height();else if(index==1)panelHeight=jQuery(activeDialog).height()-jQuery(activeDialog+' .quickFlip-wrapper .second-flipPanel').height();else if(index==2)panelHeight=jQuery(activeDialog).height()-jQuery(activeDialog+' .quickFlip-wrapper .third-flipPanel').height();var flipSpeed=animation?200:0;var flipWidth=panelHeight>0?activeDialProps.width-60:activeDialProps.width-77;jQuery(activeDialog+' .quickFlip-wrapper').css('width',flipWidth).css('height','auto');jQuery(activeDialog+' .quickFlip-wrapper').quickFlipper({noResize:true,closeSpeed:flipSpeed,openSpeed:flipSpeed,refresh:true,panelWidth:flipWidth},index);jQuery(activeDialog+' .quickFlip-wrapper .first-flipPanel').css({'height':'auto','padding-bottom':'30px'});jQuery(activeDialog+' .quickFlip-wrapper .second-flipPanel').css({'height':'auto','padding-bottom':'30px'});jQuery(activeDialog+' .quickFlip-wrapper .third-flipPanel').css({'height':'auto','padding-bottom':'30px'});jQuery(activeDialog).scrollTop(0);if(activeDialProps.buttons.length>0){//Hide or show the button(s) if it was passed in the buttons array
for(var i=0;i<activeDialProps.buttons.length;i++){jQuery(activeDialog).parents('.ui-dialog').find('.ui-dialog-buttonpane button').eq(i).show();if(activeDialProps.buttons[i].hideOnpanel.indexOf(','+index+',')>=0){jQuery(activeDialog).parents('.ui-dialog').find('.ui-dialog-buttonpane button').eq(i).hide()}}}};// Mobile Device (Public)
var is_phone=function is_phone(){//Adaptive phone verification
var result=jQuery('html').hasClass('is-mobile');return result};//Check Mobile app
var isMobileApp=function isMobileApp(){if(typeof $device!=='undefined'&&typeof $device.mobileApp!=='undefined'&&$device.mobileApp===true){return true}return false};// Disable dialog resize on browser window resize (Private)
var isResizeEnable=function isResizeEnable(){if(props&&typeof props.resizable==='boolean'){return props.resizable}return true};// Get top coordinate for displaying dialog (Private)
var getPositionTop=function getPositionTop(){if(props&&props.aaPosition){switch(props.aaPosition.vertical){case'top':return 0;case'middle':return jQuery(document).height()/2;case'bottom':return jQuery(document).height();}}return jQuery(window).scrollTop()+10};//Safe Exit
if(dialogObj.length<=0)return false;if(jQuery(dialogObj).length<=0)return false;//Setup Dialog Properties
if(dialogArray[dialogObj]!==undefined&&props===undefined){props=dialogArray[dialogObj]}else{self.initDialog()}}function aa_Utilities_Format(){var self=this;/**
     * FUNCTION: formatNumber()
     * Formats number with specific decimals and symbols
     * @param {int} [n]
     * @param {int} [decimals]            Decimal digits         Default('2')
     * @param {string} [decimal_sep]      Thousands separator    Default(',')
     * @param {string} [thousands_sep]    Decimal separator      Default('.')
     */self.formatNumber=function(n,decimals,decimal_sep,thousands_sep){var c=isNaN(decimals)?2:Math.abs(decimals),d=decimal_sep||'.',t=typeof thousands_sep==='undefined'?',':thousands_sep,sign=n<0?'-':'',i=parseInt(n=Math.abs(n).toFixed(c))+'',j=(j=i.length)>3?j%3:0;return sign+(j?i.substr(0,j)+t:'')+i.substr(j).replace(/(\d{3})(?=\d)/g,'$1'+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):'')};/**
     * FUNCTION: formatFare()
     * Converts number into money format
     * @param {int} [number]
     * @param {object} [options]
     *     + currency                    Currency Code (3).    Default('USD')
     *     + locale                      Locale code (2 or 5). Default('en' or 'en_US')
     *     + decimals                    Number of decimals    Default('2')
     *     + displayCode                 Display Format        Default('false')
     *     + displaySymbol               Display Format        Default('true')
     *     + displayCurrencyStandard     AA.com Standard       Default('false')
     *     + displayRoundUpNumber        Display whole number  Default('false')

     */self.formatFare=function(number,options){//Options:
options=options!==undefined?options:{};options.currency=options.currency!==undefined?options.currency.toUpperCase():null;options.locale=options.locale!==undefined?options.locale:null;options.decimals=options.decimals!==undefined?!isNaN(options.decimals)?Math.abs(options.decimals):null:null;options.displayCode=options.displayCode!==undefined?options.displayCode:false;options.displaySymbol=options.displaySymbol!==undefined?options.displaySymbol:true;options.displayCurrencyStandard=options.displayCurrencyStandard!==undefined?options.displayCurrencyStandard:false;options.displayRoundUpNumber=options.displayRoundUpNumber!==undefined?options.displayRoundUpNumber:false;//Variables:
var formatLike={'US':{ds:'.',ts:','},'BR':{ds:',',ts:'.'},'FR':{ds:',',ts:' '},'CH':{ds:'.',ts:'\''}};var localeLike={'US':['ae','au','ca','cn','eg','gb','hk','il','in','jp','sk','th','tw','us'],'BR':['at','br','de','dk','es','gr','it','nl','pt','tr','vn'],'FR':['cz','fi','fr','ru','se','pl'],'CH':['ch']};var currencies={'USD':{code:'USD',sym:'$',fmt:formatLike.US,dec:2},'CAD':{code:'CAD',sym:'$',fmt:formatLike.US,dec:2},'MXN':{code:'MXN',sym:'$',fmt:formatLike.US,dec:2},'GBP':{code:'',sym:'&pound;',fmt:formatLike.US,dec:2},'JPY':{code:'JPY',sym:'&yen;',fmt:formatLike.US,dec:2},'COP':{code:'COP',sym:'$',fmt:formatLike.BR,dec:2},'VEF':{code:'VEF',sym:'Bs.',fmt:formatLike.BR,dec:2},'BRL':{code:'BRL',sym:'R$',fmt:formatLike.BR,dec:2},'EUR':{code:'EUR',sym:'&euro;',fmt:formatLike.BR,dec:2},'CLP':{code:'CLP',sym:'$',fmt:formatLike.BR,dec:0},'NA':{code:'',sym:'$',fmt:formatLike.US,dec:2}};if(options.locale!==null){var localeKey='';for(var key in localeLike){var obj=localeLike[key];if(localeKey!=='')break;if(!localeLike.hasOwnProperty(key))continue;if((typeof obj==='undefined'?'undefined':_typeof(obj))!='object'&&typeof obj.length!='number')continue;for(var z=0;z<obj.length;z++){if(options.locale.toLowerCase()===obj[z]){localeKey=key;currencies.NA.fmt=formatLike[localeKey];break}}}}var isGBPCurrency=options.currency==='GBP';var isUSDCurrency=options.currency==='USD';if(options.displayCurrencyStandard===true){var isCountryUS=options.locale===null||options.locale.substring(3,5).toUpperCase()==='US';options.displaySymbol=isUSDCurrency&&isCountryUS||isGBPCurrency;options.displayCode=!options.displaySymbol}//Select Currency
var curr;if(options.currency!==null)curr=currencies[options.currency];else if(options.locale!==null)curr=currencies.NA;if(curr===undefined)curr=currencies.USD;if(options.decimals!==null)curr.dec=options.decimals;if(options.displayCode!==true)curr.code='';if(options.displaySymbol!==true)curr.sym='';var currencySymbol=curr.sym;if(options.displayCurrencyStandard===true&&isGBPCurrency){currencySymbol+=' '}var numberWithRounding=options.displayRoundUpNumber===true?Math.ceil(number):number;//Output
var result='%s%n %c';result=result.replace(/%s/g,currencySymbol);result=result.replace(/%c/g,curr.code);result=result.replace(/%n/g,self.formatNumber(numberWithRounding,curr.dec,curr.fmt.ds,curr.fmt.ts));result=result.replace(/^\s+|\s+$/g,'');// Trim
return result}}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxlZ2FjeS91dGlsaXRpZXMvYWEtdXRpbGl0aWVzLTIuMS5qcyJdLCJuYW1lcyI6WyJhY3RpdmVEaWFsb2ciLCJkaWFsb2dBcnJheSIsImRpYWxvZ0xpbmtPYmoiLCJhYV9VdGlsaXRpZXMiLCJhYURpYWxvZyIsIm5hbWUiLCJhdHRyaWJ1dGVzIiwiYWFfVXRpbGl0aWVzX0RpYWxvZyIsImFhRm9ybWF0IiwiYWFfVXRpbGl0aWVzX0Zvcm1hdCIsImRpYWxvZyIsInByb3BzIiwic2VsZiIsImRpYWxvZ09iaiIsImRpYWxvZ05hbWUiLCJ1bmRlZmluZWQiLCJhdHRyIiwiaW5kZXhPZiIsInJlcGxhY2UiLCJkaWFsb2dPYmpUaXRsZSIsImRpYWxvZ0xpbmsiLCJ3cmFwcGVyQ2xhc3MiLCJoaWRlQ2xvc2VJbkFwcCIsInZlcnNpb24iLCJqUXVlcnlVSVZlcnNpb24iLCJqUXVlcnkiLCJtYXAiLCJmbiIsImpxdWVyeSIsInNwbGl0IiwiaSIsInNsaWNlIiwiam9pbiIsImluaXREaWFsb2ciLCJoaWRlIiwid2lkdGgiLCJoZWlnaHQiLCJtYXhIZWlnaHQiLCJtaW5IZWlnaHQiLCJtb2RhbCIsIm92ZXJsYXkiLCJjc3NDbGFzcyIsInNob3dDbG9zZSIsImlzTW9iaWxlQXBwIiwic2hvd1RpdGxlIiwic2hvd0J1c3kiLCJxdWlja2ZsaXAiLCJidXR0b25zIiwidG9nZ2xlU2Nyb2xsIiwiekluZGV4IiwiY2xvc2VPbkVzY2FwZSIsInN1Ym1pdE9uRW50ZXIiLCJ0aXRsZSIsInByb3AiLCJodG1sIiwicG9zaXRpb24iLCJhZGFwdGl2ZSIsIm9uT3BlbiIsIm9uQ2xvc2UiLCJvbkJlZm9yZU9wZW4iLCJvbkJlZm9yZUNsb3NlIiwiYnRuUGFuZUNvbnRlbnQiLCJmaW5kIiwidGl0bGVQYW5lQ29udGVudCIsInJlc2l6YWJsZSIsImFhUG9zaXRpb24iLCJleHRlbmQiLCJ2ZXJ0aWNhbCIsImhvcml6b250YWwiLCJvZiIsInNob3dGdWxsU2NyZWVuIiwiaXNfcGhvbmUiLCIkbWFpblNlY3Rpb24iLCJ3aW5kb3ciLCJoYXNDbGFzcyIsImNsb3NlUGFnZVNsaWRlIiwic2hvdyIsImRyYWdnYWJsZSIsImFkZENsYXNzIiwibGVuZ3RoIiwiY3NzIiwicXVpY2tGbGlwIiwibm9SZXNpemUiLCJvbiIsInNldEZsaXBQYW5lbCIsImF1dG9PcGVuIiwiYmdpZnJhbWUiLCJvcGVuIiwiY2xvc2UiLCJjbG9zZVRleHQiLCJiZWZvcmVDbG9zZSIsImJ0bnNBcnJheSIsImJ0biIsImNhbGxiYWNrIiwiY2xvc2VEaWFsb2ciLCJoaWRlT25wYW5lbCIsImlkIiwiY2FjaGVkX2Z1bmN0aW9uIiwicmVzdWx0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJ0ZXh0IiwiY2xpY2siLCJwYXJlbnRzIiwicHJlcGVuZCIsImluaXRUaXRsZUJhciIsImJpbmQiLCJfY2xvc2VEaWFsb2ciLCJfb3BlbkRpYWxvZyIsImRvY3VtZW50IiwiZSIsImtleUNvZGUiLCJ3aGljaCIsInN1Ym1pdCIsIm9wZW5EaWFsb2ciLCIkdGl0bGVCYXIiLCIkZGlhbG9nVGl0bGUiLCJhcHBlbmRUbyIsInBhcmVudCIsInJlcGxhY2VXaXRoIiwiaW5pdENsb3NlSWNvbiIsImFwcGVuZCIsIkFBY29tIiwicHJvdG90eXBlIiwiZ2V0UHJvcGVydHkiLCIkY2xvc2VUYWciLCIkY2xvc2VJY29uSGlkZGVuVGV4dCIsIiRjbG9zZUljb25UYWciLCJjbGlja09iaiIsIl9wb3NpdGlvbiIsInJlc2l6ZURpYWxvZyIsIiR3cmFwcGVyIiwiZmlsdGVyIiwiZ2V0UG9zaXRpb25Ub3AiLCJyZW1vdmUiLCJidXN5U3RhcnQiLCJlbGVtT2JqIiwic2Nyb2xsVG9wIiwic2V0Rm9jdXMiLCIkZGlhbG9nIiwiZm9jdXMiLCJldiIsInNldFRpbWVvdXQiLCJzdG9wUHJvcGFnYXRpb24iLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJ0cmlnZ2VyIiwiYnVzeU1zZyIsInVpUGFyZW50IiwidWlCdXN5IiwiYnVzeVN0b3AiLCJhbmltYXRlIiwib3BhY2l0eSIsInJlbW92ZUNsYXNzIiwicmVzaXplIiwib3B0aW9ucyIsImlzUmVzaXplRW5hYmxlIiwiYWN0aXZlRGlhbFByb3BzIiwic2V0dGluZ3MiLCJuZXdIZWlnaHQiLCJuZXdXaWR0aCIsInBhZGRpbmdUb3AiLCJwYXJzZUludCIsInBhZGRpbmdCb3R0b20iLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsInRpdGxlQmFyIiwiYnV0dG9uQmFyIiwib3V0ZXJIZWlnaHQiLCJ0b3RhbEhlaWdodCIsIl9vdmVyZmxvdyIsIm91dGVyV2lkdGgiLCJzY3JvbGxiYXJXaWR0aCIsImluZGV4IiwiYW5pbWF0aW9uIiwicGFuZWxIZWlnaHQiLCJmbGlwU3BlZWQiLCJmbGlwV2lkdGgiLCJxdWlja0ZsaXBwZXIiLCJjbG9zZVNwZWVkIiwib3BlblNwZWVkIiwicmVmcmVzaCIsInBhbmVsV2lkdGgiLCJlcSIsIiRkZXZpY2UiLCJtb2JpbGVBcHAiLCJmb3JtYXROdW1iZXIiLCJuIiwiZGVjaW1hbHMiLCJkZWNpbWFsX3NlcCIsInRob3VzYW5kc19zZXAiLCJjIiwiaXNOYU4iLCJNYXRoIiwiYWJzIiwiZCIsInQiLCJzaWduIiwidG9GaXhlZCIsImoiLCJzdWJzdHIiLCJmb3JtYXRGYXJlIiwibnVtYmVyIiwiY3VycmVuY3kiLCJ0b1VwcGVyQ2FzZSIsImxvY2FsZSIsImRpc3BsYXlDb2RlIiwiZGlzcGxheVN5bWJvbCIsImRpc3BsYXlDdXJyZW5jeVN0YW5kYXJkIiwiZGlzcGxheVJvdW5kVXBOdW1iZXIiLCJmb3JtYXRMaWtlIiwiZHMiLCJ0cyIsImxvY2FsZUxpa2UiLCJjdXJyZW5jaWVzIiwiY29kZSIsInN5bSIsImZtdCIsIlVTIiwiZGVjIiwiQlIiLCJsb2NhbGVLZXkiLCJrZXkiLCJvYmoiLCJoYXNPd25Qcm9wZXJ0eSIsInoiLCJ0b0xvd2VyQ2FzZSIsIk5BIiwiaXNHQlBDdXJyZW5jeSIsImlzVVNEQ3VycmVuY3kiLCJpc0NvdW50cnlVUyIsInN1YnN0cmluZyIsImN1cnIiLCJVU0QiLCJjdXJyZW5jeVN5bWJvbCIsIm51bWJlcldpdGhSb3VuZGluZyIsImNlaWwiXSwibWFwcGluZ3MiOiJvUEFBQTs7OztHQU1BLGdDQUVBOzs7Ozs7Ozs7Ozs7Ozs7O3VFQWlCQSxHQUFJQSxjQUFlLEVBQW5CLENBQ0EsR0FBSUMsYUFBYyxFQUFsQixDQUNBLEdBQUlDLGNBQUosQ0FFQSxRQUFTQyxhQUFULEVBQXlCLENBQ3JCLEtBQUtDLFFBQUwsQ0FBZ0IsU0FBU0MsSUFBVCxDQUFjQyxVQUFkLENBQTBCLENBQ3RDLE1BQU8sSUFBSUMsb0JBQUosQ0FBd0JGLElBQXhCLENBQTZCQyxVQUE3QixDQUNWLENBRkQsQ0FHQSxLQUFLRSxRQUFMLENBQWdCLEdBQUlDLG9CQUN2QixDQUVELFFBQVNGLG9CQUFULENBQTZCRyxNQUE3QixDQUFxQ0MsS0FBckMsQ0FBNEMsQ0FDeEMsR0FBSUMsTUFBTyxJQUFYLENBRUE7QUFDQSxHQUFJQyxXQUFZLEVBQWhCLENBQ0lDLFdBQWEsRUFEakIsQ0FFQSxHQUFJSixTQUFXSyxTQUFmLENBQTBCLENBQ3RCLEdBQUksT0FBT0wsT0FBUCxtQ0FBT0EsTUFBUCxJQUFrQixRQUF0QixDQUFnQyxDQUM1QixHQUFJQSxPQUFPTSxJQUFQLENBQVksSUFBWixJQUFzQkQsU0FBMUIsQ0FBcUMsQ0FDakNGLFVBQVksSUFBTUgsT0FBT00sSUFBUCxDQUFZLElBQVosQ0FBbEIsQ0FDQUYsV0FBWUosT0FBT00sSUFBUCxDQUFZLElBQVosQ0FDZixDQUNKLENBTEQsSUFLTyxJQUFJLE1BQU9OLE9BQVAsRUFBa0IsUUFBdEIsQ0FBZ0MsQ0FDbkMsR0FBSUEsT0FBT08sT0FBUCxDQUFlLEdBQWYsSUFBd0IsQ0FBNUIsQ0FBK0IsQ0FDM0JKLFVBQVlILE1BQVosQ0FDQUksV0FBWUosT0FBT1EsT0FBUCxDQUFlLEdBQWYsQ0FBbUIsRUFBbkIsQ0FDZixDQUhELElBR08sQ0FDSEwsVUFBWSxJQUFNSCxNQUFOLENBQWUsUUFBM0IsQ0FDQUksV0FBWUosTUFDZixD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QixDQUN4QyxHQUFJaEYsUUFBUW1DLFFBQVIsR0FBcUIsSUFBekIsQ0FBc0M0QyxLQUFLYixHQUFMLENBQVdsRSxRQUFRbUMsUUFBbkIsQ0FDdEMsR0FBSW5DLFFBQVFxRCxXQUFSLEdBQXdCLElBQTVCLENBQXFDMEIsS0FBS2pCLElBQUwsQ0FBWSxFQUFaLENBQ3JDLEdBQUk5RCxRQUFRc0QsYUFBUixHQUEwQixJQUE5QixDQUF1Q3lCLEtBQUtoQixHQUFMLENBQVcsRUFBWCxDQUV2QyxHQUFJa0IsZ0JBQWlCRixLQUFLaEIsR0FBMUIsQ0FDQSxHQUFJL0QsUUFBUXVELHVCQUFSLEdBQW9DLElBQXBDLEVBQTRDb0IsYUFBaEQsQ0FBK0QsQ0FDOURNLGdCQUFrQixHQUNsQixDQUVELEdBQUlDLG9CQUFzQmxGLFFBQVF3RCxvQkFBUixHQUFpQyxJQUFsQyxDQUEwQ2hCLEtBQUsyQyxJQUFMLENBQVVsQyxNQUFWLENBQTFDLENBQThEQSxNQUF2RixDQUVBO0FBQ0EsR0FBSXpHLFFBQVMsU0FBYixDQUNBQSxPQUFTQSxPQUFPaEYsT0FBUCxDQUFlLEtBQWYsQ0FBcUJ5TixjQUFyQixDQUFULENBQ0F6SSxPQUFTQSxPQUFPaEYsT0FBUCxDQUFlLEtBQWYsQ0FBcUJ1TixLQUFLakIsSUFBMUIsQ0FBVCxDQUNBdEgsT0FBU0EsT0FBT2hGLE9BQVAsQ0FBZSxLQUFmLENBQXFCTixLQUFLK0ssWUFBTCxDQUFrQmlELGtCQUFsQixDQUFzQ0gsS0FBS2IsR0FBM0MsQ0FBZ0RhLEtBQUtmLEdBQUwsQ0FBU04sRUFBekQsQ0FBNkRxQixLQUFLZixHQUFMLENBQVNMLEVBQXRFLENBQXJCLENBQVQsQ0FDQW5ILE9BQVNBLE9BQU9oRixPQUFQLENBQWUsWUFBZixDQUE0QixFQUE1QixDQUFULENBQTZDO0FBQzdDLE1BQU9nRixPQUNWLENBQ0oiLCJmaWxlIjoibGVnYWN5L3V0aWxpdGllcy9hYS11dGlsaXRpZXMtMi4xLmpzIiwic291cmNlUm9vdCI6Ii9hc3NldHMvanMvIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4qICBVSS1SRUZBQ1RPUkVEXG4qICAgIEZST00gLS0+IC4vbGVnYWN5LXdlYi9zcmMvbWFpbi9qcy9hcHBzL2NvbW1vbi9qcy9qcXVlcnkvYWFjb20vdXRpbGl0aWVzL2FhVXRpbGl0aWVzLTIuMS5qc1xuKiAgICBUTyAgIC0tPiAuL3dlYmFwcHMvc2hhcmVkLXdlYi9zcmMvbWFpbi9hc3NldHMvanMvbGVnYWN5L3V0aWxpdGllcy9hYS11dGlsaXRpZXMtMi4xLmpzXG4qKi9cblxuLyogZ2xvYmFsIGNsb3NlUGFnZVNsaWRlOnRydWUgKi9cblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbj8gTUVUQURBVEE6XG4gICAgRmlsZW5hbWU6IGFhVXRpbGl0aWVzLTIuMS5qc1xuICAgIExvY2F0aW9uOiAvY29udGVudC9qcy9qcXVlcnkvbWlzYy9cbiAgICBMaWNlbnNlOiBDb3B5cmlnaHQgMjAxMywgQUEuY29tXG4gICAgQ3JlYXRlZCBvbjogMDYvMDEvMTNcbiAgICBWZXJzaW9uOiAyLjEuMFxuICAgIFVYOiBEYXZpZCBQZXJleiwgT3NjYXIgUGVyZXouIChUbyBiZSBtb2RpZmllZCBvbmx5IGJ5IFVYKVxuICAgIERlc2NyaXB0aW9uOiBDcmVhdGlvbiBvZiBvbmUgYmFzZWxpbmUgZmlsZSB3aXRoIHV0aWxpdHkgZnVuY3Rpb25zLlxuICAgIFZlcnNpb24gRmVhdHVyZXM6XG4gICAgICAgICsgVXBkYXRlZCBRdWlja2ZsaXAgZnVuY3Rpb25hbGl0eVxuICAgICAgICArIEFkZGVkIG9uIG9wZW4vY2xvc2UgY2FsbGJhY2tzXG4gICAgICAgICsgQWRkZWQgcG9zaXRpb24gb3B0aW9uXG4gICAgICAgICsgQWRkZWQgbWFyZ2luL3BhZGRpbmcgc3VwcG9ydCBmb3IgcmVicmFuZCBkaWFsb2dzXG4gICAgICAgICsgQWRkZWQgYnVzeSBzdGF0ZSBmb3IgYWpheFxuICAgICAgICArIEFkZGVkIGFkYXB0aXZlIHN1cHBvcnRcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG52YXIgYWN0aXZlRGlhbG9nID0gJyc7XG52YXIgZGlhbG9nQXJyYXkgPSB7fTtcbnZhciBkaWFsb2dMaW5rT2JqO1xuXG5mdW5jdGlvbiBhYV9VdGlsaXRpZXMgKCkge1xuICAgIHRoaXMuYWFEaWFsb2cgPSBmdW5jdGlvbihuYW1lLGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBhYV9VdGlsaXRpZXNfRGlhbG9nKG5hbWUsYXR0cmlidXRlcyk7XG4gICAgfTtcbiAgICB0aGlzLmFhRm9ybWF0ID0gbmV3IGFhX1V0aWxpdGllc19Gb3JtYXQoKTtcbn1cblxuZnVuY3Rpb24gYWFfVXRpbGl0aWVzX0RpYWxvZyhkaWFsb2csIHByb3BzKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy9maW5kIERpYWxvZ1xuICAgIHZhciBkaWFsb2dPYmogPSAnJyxcbiAgICAgICAgZGlhbG9nTmFtZSA9ICcnO1xuICAgIGlmIChkaWFsb2cgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAodHlwZW9mKGRpYWxvZykgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlmIChkaWFsb2cuYXR0cignaWQnKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZGlhbG9nT2JqID0gJyMnICsgZGlhbG9nLmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICAgICAgZGlhbG9nTmFtZT0gZGlhbG9nLmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mKGRpYWxvZykgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGlmIChkaWFsb2cuaW5kZXhPZignIycpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZGlhbG9nT2JqID0gZGlhbG9nO1xuICAgICAgICAgICAgICAgIGRpYWxvZ05hbWU9IGRpYWxvZy5yZXBsYWNlKC8jLywnJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpYWxvZ09iaiA9ICcjJyArIGRpYWxvZyArICdEaWFsb2cnO1xuICAgICAgICAgICAgICAgIGRpYWxvZ05hbWU9IGRpYWxvZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgZGlhbG9nT2JqVGl0bGUgPSAnIycgKyBkaWFsb2dOYW1lICsgJ1RpdGxlJztcbiAgICB2YXIgZGlhbG9nTGluayAgICAgPSAnLmFhLWRpYWxvZy0nICsgZGlhbG9nTmFtZTtcbiAgICB2YXIgd3JhcHBlckNsYXNzICAgPSAnYWEtZGlhbG9nLWNvbnRlbnQtd3JhcHBlcic7XG4gICAgdmFyIGhpZGVDbG9zZUluQXBwID0gZmFsc2U7XG4gICAgc2VsZi52ZXJzaW9uID0gMi4xO1xuICAgIHNlbGYualF1ZXJ5VUlWZXJzaW9uID0galF1ZXJ5Lm1hcChqUXVlcnkuZm4uanF1ZXJ5LnNwbGl0KFwiLlwiKSwgZnVuY3Rpb24oaSkge1xuICAgICAgICByZXR1cm4gKFwiMFwiICsgaSkuc2xpY2UoLTIpO1xuICAgIH0pLmpvaW4oXCIuXCIpO1xuXG4gICAgLy9Jbml0IERpYWxvZyAoUHVibGljKVxuICAgIHNlbGYuaW5pdERpYWxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy9EaWFsb2cgUHJvcGVydGllc1xuICAgICAgICBwcm9wcyAgICAgICAgICAgID0gKHByb3BzICE9PSB1bmRlZmluZWQpID8gcHJvcHMgOiB7fTtcbiAgICAgICAgcHJvcHMuaGlkZSAgICAgICA9IChwcm9wcy5oaWRlICE9PSB1bmRlZmluZWQpID8gcHJvcHMuaGlkZSA6IG51bGw7XG4gICAgICAgIHByb3BzLndpZHRoICAgICAgPSAocHJvcHMud2lkdGggIT09IHVuZGVmaW5lZCkgPyBwcm9wcy53aWR0aCA6IDg4MjtcbiAgICAgICAgcHJvcHMud2lkdGggICAgICA9IChwcm9wcy53aWR0aD09J3NtYWxsJykgPyA1ODIgOiAoKHByb3BzLndpZHRoPT0nbWVkaXVtJykgPyA4NDAgOiAoKHByb3BzLndpZHRoPT0nbGFyZ2UnKSA/IDkyNiA6IHByb3BzLndpZHRoKSk7XG4gICAgICAgIHByb3BzLmhlaWdodCAgICAgPSAocHJvcHMuaGVpZ2h0ICE9PSB1bmRlZmluZWQpID8gcHJvcHMuaGVpZ2h0IDogJ2F1dG8nO1xuICAgICAgICBwcm9wcy5tYXhIZWlnaHQgID0gKHByb3BzLm1heEhlaWdodCAhPT0gdW5kZWZpbmVkKSA/IHByb3BzLm1heEhlaWdodCA6IDYwMDtcbiAgICAgICAgcHJvcHMubWluSGVpZ2h0ICA9IChwcm9wcy5taW5IZWlnaHQgIT09IHVuZGVmaW5lZCkgPyBwcm9wcy5taW5IZWlnaHQgOiAxNTA7XG4gICAgICAgIHByb3BzLm1vZGFsICAgICAgPSAocHJvcHMubW9kYWwgIT09IHVuZGVmaW5lZCkgPyBwcm9wcy5tb2RhbCA6IHRydWU7XG4gICAgICAgIHByb3BzLm92ZXJsYXkgICAgPSAocHJvcHMub3ZlcmxheSAhPT0gdW5kZWZpbmVkKSA/IHByb3BzLm92ZXJsYXkgOiB0cnVlO1xuICAgICAgICBwcm9wcy5jc3NDbGFzcyAgID0gKHByb3BzLmNzc0NsYXNzICE9PSB1bmRlZmluZWQpID8gcHJvcHMuY3NzQ2xhc3MgOiAnJztcbiAgICAgICAgaWYgKHByb3BzLnNob3dDbG9zZSAhPT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgIHByb3BzLnNob3dDbG9zZSA9IHByb3BzLnNob3dDbG9zZTtcbiAgICAgICAgfSBlbHNle1xuICAgICAgICAgICAgaWYgKGlzTW9iaWxlQXBwKCkpe1xuICAgICAgICAgICAgICAgIHByb3BzLnNob3dDbG9zZT0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2V7XG4gICAgICAgICAgICAgICAgcHJvcHMuc2hvd0Nsb3NlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwcm9wcy5zaG93VGl0bGUgID0gKHByb3BzLnNob3dUaXRsZSAhPT0gdW5kZWZpbmVkKSA/IHByb3BzLnNob3dUaXRsZSA6IHRydWU7XG4gICAgICAgIHByb3BzLnNob3dCdXN5ICAgPSAocHJvcHMuc2hvd0J1c3kgIT09IHVuZGVmaW5lZCkgPyBwcm9wcy5zaG93QnVzeSA6IGZhbHNlO1xuICAgICAgICBwcm9wcy5xdWlja2ZsaXAgID0gKHByb3BzLnF1aWNrZmxpcCAhPT0gdW5kZWZpbmVkKSA/IHByb3BzLnF1aWNrZmxpcCA6IGZhbHNlO1xuICAgICAgICBwcm9wcy5idXR0b25zICAgID0gKHByb3BzLmJ1dHRvbnMgIT09IHVuZGVmaW5lZCkgPyBwcm9wcy5idXR0b25zIDogW107XG4gICAgICAgIHByb3BzLnRvZ2dsZVNjcm9sbCA9IChwcm9wcy50b2dnbGVTY3JvbGwgIT09IHVuZGVmaW5lZCkgPyBwcm9wcy50b2dnbGVTY3JvbGwgOiBmYWxzZTtcbiAgICAgICAgcHJvcHMuekluZGV4ICAgICAgICA9IChwcm9wcy56SW5kZXggIT09IHVuZGVmaW5lZCkgPyBwcm9wcy56SW5kZXggOiAxMDAwO1xuICAgICAgICBwcm9wcy5jbG9zZU9uRXNjYXBlID0gKHByb3BzLmNsb3NlT25Fc2NhcGUgIT09IHVuZGVmaW5lZCkgPyBwcm9wcy5jbG9zZU9uRXNjYXBlIDogdHJ1ZTtcbiAgICAgICAgcHJvcHMuc3VibWl0T25FbnRlciA9IChwcm9wcy5zdWJtaXRPbkVudGVyICE9PSB1bmRlZmluZWQpID8gcHJvcHMuc3VibWl0T25FbnRlciA6IGZhbHNlO1xuICAgICAgICBwcm9wcy50aXRsZSA9IChwcm9wcy50aXRsZSAhPT0gdW5kZWZpbmVkKSA/IHByb3BzLnRpdGxlIDogalF1ZXJ5KGRpYWxvZ09ialRpdGxlKS5wcm9wKCd2YWx1ZScpIHx8IGpRdWVyeShkaWFsb2dPYmpUaXRsZSkuaHRtbCgpO1xuICAgICAgICBwcm9wcy5wb3NpdGlvbiAgICAgID0gKHByb3BzLnBvc2l0aW9uICE9PSB1bmRlZmluZWQpID8gcHJvcHMucG9zaXRpb24gOiAnY2VudGVyJztcbiAgICAgICAgcHJvcHMuYWRhcHRpdmUgICAgICA9IChwcm9wcy5hZGFwdGl2ZSAhPT0gdW5kZWZpbmVkKSA/IHByb3BzLmFkYXB0aXZlIDogdHJ1ZTtcbiAgICAgICAgcHJvcHMub25PcGVuICAgICAgICAgPSAocHJvcHMub25PcGVuICE9PSB1bmRlZmluZWQpID8gIHByb3BzLm9uT3BlbiA6IGZ1bmN0aW9uKCl7fTtcbiAgICAgICAgcHJvcHMub25DbG9zZSAgICAgICAgPSAocHJvcHMub25DbG9zZSAhPT0gdW5kZWZpbmVkKSA/ICBwcm9wcy5vbkNsb3NlIDogZnVuY3Rpb24oKXt9O1xuICAgICAgICBwcm9wcy5vbkJlZm9yZU9wZW4gICA9IChwcm9wcy5vbkJlZm9yZU9wZW4gIT09IHVuZGVmaW5lZCkgPyAgcHJvcHMub25CZWZvcmVPcGVuIDogZnVuY3Rpb24oKXt9O1xuICAgICAgICBwcm9wcy5vbkJlZm9yZUNsb3NlICA9IChwcm9wcy5vbkJlZm9yZUNsb3NlICE9PSB1bmRlZmluZWQpID8gIHByb3BzLm9uQmVmb3JlQ2xvc2UgOiBmdW5jdGlvbigpe307XG4gICAgICAgIHByb3BzLmJ0blBhbmVDb250ZW50ID0gKHByb3BzLmJ0blBhbmVDb250ZW50ICE9PSB1bmRlZmluZWQpID8gIHByb3BzLmJ0blBhbmVDb250ZW50IDogalF1ZXJ5KGRpYWxvZ09iaikuZmluZCgnIycgKyBkaWFsb2dOYW1lICsgJ0J0blBhbmVDb250ZW50JykuaHRtbCgpO1xuICAgICAgICBwcm9wcy50aXRsZVBhbmVDb250ZW50ID0gKHByb3BzLnRpdGxlUGFuZUNvbnRlbnQgIT09IHVuZGVmaW5lZCkgPyAgcHJvcHMudGl0bGVQYW5lQ29udGVudCA6IGpRdWVyeShkaWFsb2dPYmopLmZpbmQoJyMnICsgZGlhbG9nTmFtZSArICdUaXRsZVBhbmVDb250ZW50JykuaHRtbCgpO1xuICAgICAgICBwcm9wcy5yZXNpemFibGUgPSAocHJvcHMucmVzaXphYmxlICE9PSB1bmRlZmluZWQpID8gcHJvcHMucmVzaXphYmxlIDogdHJ1ZTtcbiAgICAgICAgcHJvcHMuYWFQb3NpdGlvbiA9IGpRdWVyeS5leHRlbmQoe3ZlcnRpY2FsOiBudWxsLCBob3Jpem9udGFsOiBudWxsLCBvZjogbnVsbH0sIHByb3BzLmFhUG9zaXRpb24pO1xuICAgICAgICBwcm9wcy5zaG93RnVsbFNjcmVlbiA9IChwcm9wcy5zaG93RnVsbFNjcmVlbiAhPT11bmRlZmluZWQpID8gKHByb3BzLnNob3dGdWxsU2NyZWVuICYmIGlzX3Bob25lKCkpIHx8IChwcm9wcy5zaG93RnVsbFNjcmVlbiAmJiBpc01vYmlsZUFwcCgpKSA6IGZhbHNlO1xuICAgICAgICAvL0luIGFhY29tIG1vYmlsZSBhcHAgWCB3aWxsIGJlIHNob3duIG9uIHRoZSBuYXYgYmFyIHdoZW4gZGlhbG9ncyBhcmUgb3BlbmVkLiBGb3Igc29tZSBkaWFsb2dzIGxpa2Ugc2Vzc2lvbiB0aW1lb3V0XG4gICAgICAgIC8vV2UgZG9uJ3Qgd2FudCB0aGF0IFggc28gd2UgbmVlZCB0byBzZW5kIHRoaXMgZmxhZyB0byB0aGUgY29tcG9uZW50IHRvIHN0b3Agc2VuZGluZyBtZXNzYWdlIHRvIHRoZSBhcHAgZm9yIHNob3dpbmcgdGhlIFguXG4gICAgICAgIGhpZGVDbG9zZUluQXBwID0gKHByb3BzLmhpZGVDbG9zZUluQXBwICE9PSB1bmRlZmluZWQpID8gcHJvcHMuaGlkZUNsb3NlSW5BcHAgOiBmYWxzZTtcbiAgICAgICAgLy9PdmVycmlkZXMgZGlhbG9nIHZhbHVlcyBpZiBzaG93RnVsbFNjcmVlbiBoYXMgYmVlbiBzZXRcbiAgICAgICAgaWYgKHByb3BzLnNob3dGdWxsU2NyZWVuKSB7XG4gICAgICAgICAgICB2YXIgJG1haW5TZWN0aW9uID0galF1ZXJ5KCcjbWFpbicpO1xuICAgICAgICAgICAgcHJvcHMubWluSGVpZ2h0PSBqUXVlcnkod2luZG93KS5oZWlnaHQoKTtcbiAgICAgICAgICAgIHByb3BzLmNzc0NsYXNzID0gJ2Z1bGwtc2NyZWVuLWRpYWxvZyc7XG4gICAgICAgICAgICBwcm9wcy5oZWlnaHQ9ICdhdXRvJztcbiAgICAgICAgICAgIHByb3BzLm9uT3BlbiA9ZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAkbWFpblNlY3Rpb24uaGlkZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHByb3BzLm9uQmVmb3JlT3BlbiA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaWYoalF1ZXJ5KCcjbmF2aWdhdGlvbicpLmhhc0NsYXNzKCdwYWdlc2xpZGUnKSl7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlUGFnZVNsaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHByb3BzLm9uQmVmb3JlQ2xvc2UgPWZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgJG1haW5TZWN0aW9uLnNob3coKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQb3NpdGlvbiBvZiBkaWFsb2dcblxuICAgICAgICBkaWFsb2dBcnJheVtkaWFsb2dPYmpdID0gcHJvcHM7IC8vYWRkIERpYWxvZ1xuXG4gICAgICAgIC8vTG9jYWwgVmFyaWFibGVzXG4gICAgICAgIHZhciByZXNpemFibGUgICAgICA9IGZhbHNlO1xuICAgICAgICB2YXIgZHJhZ2dhYmxlICAgICAgPSAocHJvcHMubW9kYWwpID8gZmFsc2UgOiB0cnVlO1xuICAgICAgICBqUXVlcnkoZGlhbG9nT2JqKS5hZGRDbGFzcygnYWEtZGlhbG9nLWNvbnRlbnQtcGFkJyk7XG4gICAgICAgIGlmKGpRdWVyeShkaWFsb2dPYmopLmZpbmQoJy4nK3dyYXBwZXJDbGFzcykubGVuZ3RoID09PSAwKXtcbiAgICAgICAgICAgIGpRdWVyeShkaWFsb2dPYmopLmh0bWwoJzxkaXYgY2xhc3M9XCInK3dyYXBwZXJDbGFzcysnXCI+JytqUXVlcnkoZGlhbG9nT2JqKS5odG1sKCkrJzwvZGl2PicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IHF1aWNrZmxpcCBiZWZvcmUgZGlhbG9nLiBWZXJ5IGltcG9ydGFudFxuICAgICAgICBpZihwcm9wcy5xdWlja2ZsaXApIHtcbiAgICAgICAgICAgIGpRdWVyeShkaWFsb2dPYmogKycgLnF1aWNrRmxpcC13cmFwcGVyJykuY3NzKHsnd2lkdGgnOnByb3BzLndpZHRoLTYwLCAnaGVpZ2h0JzonYXV0byd9KTtcblxuICAgICAgICAgICAgLy9xdWlja2ZsaXAgc2V0dGluZ3MgaWYgdGhlcmUgYXJlIGZsaXAgcGFubmVsc1xuICAgICAgICAgICAgalF1ZXJ5KGRpYWxvZ09iaiArJyAucXVpY2tGbGlwLXdyYXBwZXInKS5xdWlja0ZsaXAoe25vUmVzaXplOiB0cnVlfSk7XG5cbiAgICAgICAgICAgIGpRdWVyeSgnLnVpLWRpYWxvZyAucXVpY2tGbGlwLWZpcnN0UGFuZWwnKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vcXVpY2tmbGlwcGVyIG92ZXJpZGVzIHRoZSBxdWlja0ZsaXBDdGEgYXV0b21hdGljIG9uY2xpY2sgZXZlbnQgKCBvcHRpb25zLCBwYW5lbCAjKVxuICAgICAgICAgICAgICAgIHNldEZsaXBQYW5lbCgwLHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBqUXVlcnkoJy51aS1kaWFsb2cgLnF1aWNrRmxpcC1zZWNvbmRQYW5lbCcpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2V0RmxpcFBhbmVsKDEsdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGpRdWVyeSgnLnVpLWRpYWxvZyAucXVpY2tGbGlwLXRoaXJkUGFuZWwnKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHNldEZsaXBQYW5lbCgyLHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9KcXVlcnkgRGlhbG9nXG4gICAgICAgIGpRdWVyeShkaWFsb2dPYmopLmRpYWxvZyh7XG4gICAgICAgICAgICBhdXRvT3BlbjogZmFsc2UsXG4gICAgICAgICAgICBtb2RhbDogcHJvcHMubW9kYWwsXG4gICAgICAgICAgICBkcmFnZ2FibGU6IGRyYWdnYWJsZSxcbiAgICAgICAgICAgIHJlc2l6YWJsZTogcmVzaXphYmxlLFxuICAgICAgICAgICAgYmdpZnJhbWU6IHRydWUsXG4gICAgICAgICAgICB0aXRsZTogcHJvcHMudGl0bGUsXG4gICAgICAgICAgICB3aWR0aDogcHJvcHMud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHByb3BzLmhlaWdodCxcbiAgICAgICAgICAgIG1pbkhlaWdodDogcHJvcHMubWluSGVpZ2h0LFxuICAgICAgICAgICAgekluZGV4OiBwcm9wcy56SW5kZXgsXG4gICAgICAgICAgICBjbG9zZU9uRXNjYXBlOiBwcm9wcy5jbG9zZU9uRXNjYXBlLFxuICAgICAgICAgICAgb3BlbjogcHJvcHMub25PcGVuLFxuICAgICAgICAgICAgY2xvc2U6IHByb3BzLm9uQ2xvc2UsXG4gICAgICAgICAgICBjbG9zZVRleHQ6ICcnLFxuICAgICAgICAgICAgYmVmb3JlQ2xvc2U6IHByb3BzLm9uQmVmb3JlQ2xvc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9hZGQgYnV0dG9ucyBpZiB0aGV5IGV4aXN0XG4gICAgICAgIGlmKHByb3BzLmJ1dHRvbnMubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICB2YXIgYnRuc0FycmF5ID0gW107XG5cbiAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8cHJvcHMuYnV0dG9ucy5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgICAgICB2YXIgYnRuID0gcHJvcHMuYnV0dG9uc1tpXTtcblxuICAgICAgICAgICAgICAgIGJ0bi5uYW1lICAgICAgICA9IChidG4ubmFtZSAhPT0gdW5kZWZpbmVkKSA/ICBidG4ubmFtZSA6IFwiT0tcIjtcbiAgICAgICAgICAgICAgICBidG4uY2FsbGJhY2sgICAgPSAoYnRuLmNhbGxiYWNrICE9PSB1bmRlZmluZWQpID8gIGJ0bi5jYWxsYmFjayA6IGZ1bmN0aW9uKCl7fTtcbiAgICAgICAgICAgICAgICBidG4uY3NzQ2xhc3MgICAgPSAoYnRuLmNzc0NsYXNzICE9PSB1bmRlZmluZWQpID8gIGJ0bi5jc3NDbGFzcyA6IFwiYWEtYnRuLXByaW1hcnlcIjtcbiAgICAgICAgICAgICAgICBidG4uY2xvc2VEaWFsb2cgPSAoYnRuLmNsb3NlRGlhbG9nICE9PSB1bmRlZmluZWQpID8gIGJ0bi5jbG9zZURpYWxvZyA6IHRydWU7XG4gICAgICAgICAgICAgICAgYnRuLmhpZGVPbnBhbmVsID0gKGJ0bi5oaWRlT25wYW5lbCAhPT0gdW5kZWZpbmVkKSA/IFwiLFwiK2J0bi5oaWRlT25wYW5lbCtcIixcIiA6IFwiXCI7XG4gICAgICAgICAgICAgICAgYnRuLmlkID0gKGJ0bi5pZCAhPT0gdW5kZWZpbmVkKSA/IGJ0bi5pZCA6IGRpYWxvZ05hbWUgKyBcIkRpYWxvZ0J1dHRvblwiICsgaTtcblxuICAgICAgICAgICAgICAgIGlmKGJ0bi5jbG9zZURpYWxvZyl7XG4gICAgICAgICAgICAgICAgICAgIGJ0bi5jYWxsYmFjayA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWNoZWRfZnVuY3Rpb24gPSBidG4uY2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNhY2hlZF9mdW5jdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSh0aGlzKS5kaWFsb2coJ2Nsb3NlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ0bnNBcnJheVtpXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogYnRuLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJhYS1idG4gXCIgKyBidG4uY3NzQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgIFwiaWRcIjogYnRuLmlkLFxuICAgICAgICAgICAgICAgICAgICBjbGljazogYnRuLmNhbGxiYWNrXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgalF1ZXJ5KGRpYWxvZ09iaikuZGlhbG9nKCdvcHRpb24nLCAnYnV0dG9ucycsIGJ0bnNBcnJheSApO1xuXG4gICAgICAgICAgICBpZihwcm9wcy5idG5QYW5lQ29udGVudCAhPT0gdW5kZWZpbmVkICYmIHByb3BzLmJ0blBhbmVDb250ZW50Lmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgalF1ZXJ5KGRpYWxvZ09iaikucGFyZW50cygnLnVpLWRpYWxvZycpLmZpbmQoJy51aS1kaWFsb2ctYnV0dG9ucGFuZScpLnByZXBlbmQocHJvcHMuYnRuUGFuZUNvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5pbml0VGl0bGVCYXIoZGlhbG9nT2JqLHByb3BzKTtcblxuICAgICAgICBpZihwcm9wcy50b2dnbGVTY3JvbGwpIHtcbiAgICAgICAgICAgIGpRdWVyeShkaWFsb2dPYmopLmJpbmQoXCJkaWFsb2djbG9zZVwiLGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGpRdWVyeShcImJvZHlcIikuY3NzKFwib3ZlcmZsb3dcIixcImF1dG9cIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBqUXVlcnkoZGlhbG9nT2JqKS5iaW5kKFwiZGlhbG9nY2xvc2VcIixfY2xvc2VEaWFsb2cpO1xuICAgICAgICBqUXVlcnkoZGlhbG9nT2JqKS5iaW5kKFwiZGlhbG9nb3BlblwiLCBfb3BlbkRpYWxvZyk7XG4gICAgICAgIC8vIE1vYmlsZSBBcHAgd2lsbCB0cmlnZ2VyIHRoaXMgZXZlbnQgdG8gdGVsbCBhYWNvbSB0byBjbG9zZSB0aGUgZGlhbG9nXG4gICAgICAgIGpRdWVyeShkb2N1bWVudCkuYmluZChcImJyaWRnZS53ZWIuY2xvc2VEaWFsb2dcIiwgc2VsZi5jbG9zZURpYWxvZyk7XG5cbiAgICAgICAgaWYocHJvcHMuc3VibWl0T25FbnRlcikge1xuICAgICAgICAgICAgalF1ZXJ5KGRpYWxvZ09iaiArICcgZm9ybSBpbnB1dCcpLm9uKFwia2V5ZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleUNvZGUgPSBlLmtleUNvZGUgfHwgZS53aGljaDtcbiAgICAgICAgICAgICAgICBpZiAoa2V5Q29kZSA9PSAxMykgeyAvL2VudGVyIGtleVxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykucGFyZW50cygnZm9ybTpmaXJzdCcpLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9PcGVuIEV2ZW50XG4gICAgICAgIGpRdWVyeShkb2N1bWVudCkub24oXCJjbGlja1wiLCBkaWFsb2dMaW5rLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYub3BlbkRpYWxvZyh0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHNlbGYuaW5pdFRpdGxlQmFyID0gZnVuY3Rpb24oZGlhbG9nT2JqLHByb3BzKSB7XG4gICAgICAgIHZhciAkdGl0bGVCYXIgPSBqUXVlcnkoZGlhbG9nT2JqKS5wYXJlbnRzKFwiLnVpLWRpYWxvZzpmaXJzdFwiKS5maW5kKCcudWktZGlhbG9nLXRpdGxlYmFyJyk7XG5cbiAgICAgICAgdmFyICRkaWFsb2dUaXRsZSA9ICR0aXRsZUJhci5maW5kKCcudWktZGlhbG9nLXRpdGxlJyk7XG4gICAgICAgICRkaWFsb2dUaXRsZS5hcHBlbmRUbygkZGlhbG9nVGl0bGUucGFyZW50KCkpO1xuICAgICAgICAkZGlhbG9nVGl0bGUucmVwbGFjZVdpdGgoJzxoMiB0YWJpbmRleD1cIjBcIiBpZD1cIicrJGRpYWxvZ1RpdGxlLmF0dHIoJ2lkJykrJ1wiIGNsYXNzPVwiJyskZGlhbG9nVGl0bGUuYXR0cignY2xhc3MnKSsnXCI+JyArICRkaWFsb2dUaXRsZS5odG1sKCkgKyc8L2gyPicpO1xuICAgICAgICAkZGlhbG9nVGl0bGUuY3NzKCdtYXJnaW4nLCAnMnB4Jyk7XG5cbiAgICAgICAgc2VsZi5pbml0Q2xvc2VJY29uKCR0aXRsZUJhcik7XG5cbiAgICAgICAgaWYocHJvcHMuc2hvd1RpdGxlICYmIChwcm9wcy50aXRsZVBhbmVDb250ZW50ICE9PSB1bmRlZmluZWQpICYmIChwcm9wcy50aXRsZVBhbmVDb250ZW50Lmxlbmd0aCA+IDApICl7XG4gICAgICAgICAgICAkdGl0bGVCYXIuYXBwZW5kKHByb3BzLnRpdGxlUGFuZUNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHNlbGYuaW5pdENsb3NlSWNvbiA9IGZ1bmN0aW9uKCR0aXRsZUJhcikge1xuICAgICAgICB2YXIgY2xvc2VUZXh0ID0gKHR5cGVvZihBQWNvbSkgIT09ICd1bmRlZmluZWQnKSA/IEFBY29tLnByb3RvdHlwZS5nZXRQcm9wZXJ0eSgnZGlhbG9nLmNsb3NlVGV4dCcpIDogJ0Nsb3NlIHdpbmRvdyc7XG4gICAgICAgIHZhciAkY2xvc2VUYWcgPSAkdGl0bGVCYXIuZmluZCgnLnVpLWRpYWxvZy10aXRsZWJhci1jbG9zZScpO1xuICAgICAgICB2YXIgJGNsb3NlSWNvbkhpZGRlblRleHQgPSAkY2xvc2VUYWcuZmluZCgnLnVpLWJ1dHRvbi10ZXh0Jyk7XG4gICAgICAgIHZhciAkY2xvc2VJY29uVGFnID0gJGNsb3NlVGFnLmZpbmQoJy51aS1pY29uJyk7XG4gICAgICAgICRjbG9zZUljb25IaWRkZW5UZXh0LnRleHQoY2xvc2VUZXh0KTtcbiAgICAgICAgJGNsb3NlSWNvblRhZy50ZXh0KCcnKTtcbiAgICAgICAgaWYgKCRjbG9zZUljb25IaWRkZW5UZXh0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgJGNsb3NlVGFnLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJ1aS1idXR0b24tdGV4dCBoaWRkZW4tYWNjZXNzaWJsZVwiPicgKyBjbG9zZVRleHQgKyAnPC9zcGFuPicpO1xuICAgICAgICB9XG4gICAgICAgICRjbG9zZVRhZy5hdHRyKCdpZCcsZGlhbG9nTmFtZStcIkRpYWxvZ0Nsb3NlXCIpO1xuICAgIH07XG5cbiAgICAvL09wZW4gRGlhbG9nIChQdWJsaWMpXG4gICAgc2VsZi5vcGVuRGlhbG9nID0gZnVuY3Rpb24gKGNsaWNrT2JqKSB7XG4gICAgICAgIGlmIChkaWFsb2dPYmoubGVuZ3RoIDw9IDApIHJldHVybiBmYWxzZTtcblxuICAgICAgICAvL0Rpc3BsYXkgb25seSBvbmUgZGlhbG9nIHBlciBwYWdlLlxuICAgICAgICBpZiAoYWN0aXZlRGlhbG9nICE9PSAnJyAmJiBhY3RpdmVEaWFsb2cgIT0gZGlhbG9nT2JqKSB7XG4gICAgICAgICAgICBpZiAoalF1ZXJ5KGFjdGl2ZURpYWxvZykuZGlhbG9nKCAnaXNPcGVuJyApKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5KGFjdGl2ZURpYWxvZykuZGlhbG9nKCdjbG9zZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9PcGVuIERpYWxvZ1xuICAgICAgICBhY3RpdmVEaWFsb2cgPSBkaWFsb2dPYmo7XG4gICAgICAgIGlmIChqUXVlcnkoZGlhbG9nT2JqKS5kaWFsb2coJ2lzT3BlbicpKSB7XG4gICAgICAgICAgICBqUXVlcnkoZGlhbG9nT2JqKS5kaWFsb2coJ2Nsb3NlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZGlhbG9nTGlua09iaiA9IGNsaWNrT2JqO1xuICAgICAgICB2YXIgX3Bvc2l0aW9uID0gKHByb3BzLmFkYXB0aXZlICYmIGlzX3Bob25lKCkpID8gJ2Fic29sdXRlJyA6ICdmaXhlZCc7XG4gICAgICAgIGpRdWVyeShkaWFsb2dPYmopLnBhcmVudChcIi51aS1kaWFsb2c6Zmlyc3RcIikuYWRkQ2xhc3MocHJvcHMuY3NzQ2xhc3MpO1xuICAgICAgICBqUXVlcnkoZGlhbG9nT2JqKS5wYXJlbnQoKS5jc3MoJ3Bvc2l0aW9uJyxfcG9zaXRpb24pO1xuICAgICAgICBqUXVlcnkoZGlhbG9nT2JqKS5jc3MoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJyk7XG4gICAgICAgIGpRdWVyeShkaWFsb2dPYmopLmRpYWxvZygnb3B0aW9uJywgJ3Bvc2l0aW9uJywgcHJvcHMucG9zaXRpb24pO1xuICAgICAgICBwcm9wcy5vbkJlZm9yZU9wZW4oY2xpY2tPYmopO1xuICAgICAgICBqUXVlcnkoZGlhbG9nT2JqKS5kaWFsb2coJ29wZW4nKTtcbiAgICAgICAgc2VsZi5yZXNpemVEaWFsb2coKTtcblxuICAgICAgICB2YXIgJHdyYXBwZXIgPSBqUXVlcnkoYWN0aXZlRGlhbG9nKycgLicrd3JhcHBlckNsYXNzKTtcbiAgICAgICAgaWYgKCR3cmFwcGVyLmZpbmQoJzppbnB1dCxhLFt0YWJpbmRleD0wXScpLmZpbHRlcignOnZpc2libGUnKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICR3cmFwcGVyLmF0dHIoJ3RhYmluZGV4JywnMCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYocHJvcHMucXVpY2tmbGlwICYmIGNsaWNrT2JqICE9PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgaWYoalF1ZXJ5KGNsaWNrT2JqKS5oYXNDbGFzcygncXVpY2tGbGlwLXNlY29uZFBhbmVsJykpIHtcbiAgICAgICAgICAgICAgICBzZXRGbGlwUGFuZWwoMSxmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKGpRdWVyeShjbGlja09iaikuaGFzQ2xhc3MoJ3F1aWNrRmxpcC10aGlyZFBhbmVsJykpIHtcbiAgICAgICAgICAgICAgICBzZXRGbGlwUGFuZWwoMixmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0RmxpcFBhbmVsKDAsZmFsc2UpOyAgLy9zZXQgdGhlIGZpcnN0IHBhbmVsIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCFwcm9wcy5vdmVybGF5KXtcbiAgICAgICAgICAgIGpRdWVyeSgnLnVpLXdpZGdldC1vdmVybGF5JykuY3NzKCdiYWNrZ3JvdW5kJywnbm9uZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wcy5hZGFwdGl2ZSAmJiBpc19waG9uZSgpKSB7XG4gICAgICAgICAgICBqUXVlcnkoZGlhbG9nT2JqKS5wYXJlbnQoXCIudWktZGlhbG9nOmZpcnN0XCIpLmNzcygndG9wJywgZ2V0UG9zaXRpb25Ub3AoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BzLnNob3dDbG9zZSAhPT0gbnVsbCAmJiAhcHJvcHMuc2hvd0Nsb3NlKSB7XG4gICAgICAgICAgICBqUXVlcnkoZGlhbG9nT2JqKS5wYXJlbnRzKFwiLnVpLWRpYWxvZzpmaXJzdFwiKS5maW5kKFwiLnVpLWRpYWxvZy10aXRsZWJhci1jbG9zZVwiKS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcHMuc2hvd1RpdGxlICE9PSBudWxsICYmICFwcm9wcy5zaG93VGl0bGUpIHtcbiAgICAgICAgICAgIGpRdWVyeShkaWFsb2dPYmopLnBhcmVudHMoXCIudWktZGlhbG9nOmZpcnN0XCIpLmZpbmQoXCIudWktZGlhbG9nLXRpdGxlYmFyXCIpLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wcy5zaG93QnVzeSAhPT0gbnVsbCAmJiBwcm9wcy5zaG93QnVzeSkge1xuICAgICAgICAgICAgc2VsZi5idXN5U3RhcnQoJ0xvYWRpbmcuLi4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUuYWFEaWFsb2cnLCBzZWxmLnJlc2l6ZURpYWxvZyk7XG5cbiAgICAgICAgLy8gU2Nyb2xsIHRvcCB0byB3aW5kb3csIGRvY3VtZW50LCBvciBkaWFsb2cgb2JqXG4gICAgICAgIC8vIERlZmF1bHQgaXMgZGlhbG9nLCBvdGhlciB1c2UgdGhlIG9wdGlvbiBlbGVtZW50XG4gICAgICAgIHZhciBlbGVtT2JqID0gcHJvcHMuYWFQb3NpdGlvbi5vZiA/IHByb3BzLmFhUG9zaXRpb24ub2YgOiBkaWFsb2dPYmo7XG4gICAgICAgIGpRdWVyeShlbGVtT2JqKS5zY3JvbGxUb3AoMCk7XG5cbiAgICAgICAgc2VsZi5zZXRGb2N1cygpO1xuICAgIH07XG5cbiAgIC8vIFNldCBmb2N1cyAoUHVibGljKVxuICAgc2VsZi5zZXRGb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICB2YXIgJGRpYWxvZyA9IGpRdWVyeShhY3RpdmVEaWFsb2cpLnBhcmVudHMoXCIudWktZGlhbG9nOmZpcnN0XCIpLFxuICAgICAgICAgICAkZGlhbG9nVGl0bGUgPSAkZGlhbG9nLmZpbmQoJy51aS1kaWFsb2ctdGl0bGUnKTtcblxuICAgICAgIGlmICgkZGlhbG9nVGl0bGUpIHtcbiAgICAgICAgICAgJGRpYWxvZ1RpdGxlLmZvY3VzKCk7XG4gICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgJGRpYWxvZy5mb2N1cygpO1xuICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy9DbG9zZSBEaWFsb2cgKFB1YmxpYylcbiAgICBzZWxmLmNsb3NlRGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZGlhbG9nT2JqLmxlbmd0aCA8PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChqUXVlcnkoZGlhbG9nT2JqKS5kaWFsb2coICdpc09wZW4nICkpIHtcbiAgICAgICAgICAgIGpRdWVyeShkaWFsb2dPYmopLmRpYWxvZygnY2xvc2UnKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvL0Nsb3NlIERpYWxvZyAoUHJpdmF0ZSlcbiAgICB2YXIgX2Nsb3NlRGlhbG9nID0gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgYWN0aXZlRGlhbG9nID0gJyc7XG4gICAgICAgIGlmIChzZWxmLmpRdWVyeVVJVmVyc2lvbiA8ICcwMS4xMCcgJiYgalF1ZXJ5KGRpYWxvZ0xpbmtPYmopLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBqUXVlcnkoZGlhbG9nTGlua09iaikuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICBkaWFsb2dMaW5rT2JqID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgfVxuICAgICAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZXYuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmKCFoaWRlQ2xvc2VJbkFwcCkge1xuICAgICAgICAgICAgalF1ZXJ5KGRvY3VtZW50KS50cmlnZ2VyKFwiYnJpZGdlLmFhY29tVG9OYXRpdmVBcHBcIiwge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZGlhbG9nQ2xvc2VkXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLy9PcGVuIERpYWxvZyAoUHJpdmF0ZSlcbiAgICB2YXIgX29wZW5EaWFsb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmKCFoaWRlQ2xvc2VJbkFwcCkge1xuICAgICAgICAgICAgalF1ZXJ5KGRvY3VtZW50KS50cmlnZ2VyKFwiYnJpZGdlLmFhY29tVG9OYXRpdmVBcHBcIiwge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZGlhbG9nT3BlbmVkXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuXG4gICAgc2VsZi5idXN5U3RhcnQgPSBmdW5jdGlvbihidXN5TXNnKSB7XG4gICAgICAgIGlmIChhY3RpdmVEaWFsb2cubGVuZ3RoIDw9IDApIHJldHVybiBmYWxzZTtcblxuICAgICAgICB2YXIgdWlQYXJlbnQgPSBqUXVlcnkoYWN0aXZlRGlhbG9nKS5wYXJlbnRzKCcudWktZGlhbG9nOmZpcnN0Jyk7XG4gICAgICAgIHZhciB1aUJ1c3kgICA9IHVpUGFyZW50LmZpbmQoJz4gLmFhLWJ1c3ktbW9kdWxlJyk7XG4gICAgICAgIHVpUGFyZW50LmFkZENsYXNzKCdhYS1idXN5Jyk7XG4gICAgICAgIGlmIChidXN5TXNnID09PSB1bmRlZmluZWQpIGJ1c3lNc2cgPSAnJztcbiAgICAgICAgaWYgKHVpQnVzeS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHVpUGFyZW50LmFwcGVuZCgnPGRpdiBjbGFzcz1cImFhLWJ1c3ktbW9kdWxlXCI+PGRpdiBjbGFzcz1cImFhLWJ1c3ktYmdcIj48L2Rpdj48ZGl2IGNsYXNzPVwiYWEtYnVzeS1pbWdcIj48aSBjbGFzcz1cInNwaW5uZXJcIj48L2k+PHNwYW4gY2xhc3M9XCJ0ZXh0XCI+PC9zcGFuPjwvZGl2PjwvZGl2PicpO1xuICAgICAgICAgICAgdWlCdXN5ICAgPSB1aVBhcmVudC5maW5kKCc+IC5hYS1idXN5LW1vZHVsZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1aUJ1c3kubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIHVpQnVzeS5maW5kKCdzcGFuJykuaHRtbChidXN5TXNnKTtcbiAgICAgICAgICAgIC8vdWlCdXN5LnNob3coKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBzZWxmLmJ1c3lTdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChhY3RpdmVEaWFsb2cubGVuZ3RoIDw9IDApIHJldHVybiBmYWxzZTtcblxuICAgICAgICB2YXIgdWlQYXJlbnQgPSBqUXVlcnkoYWN0aXZlRGlhbG9nKS5wYXJlbnRzKCcudWktZGlhbG9nOmZpcnN0Jyk7XG4gICAgICAgIHZhciB1aUJ1c3kgICA9IHVpUGFyZW50LmZpbmQoJz4gLmFhLWJ1c3ktbW9kdWxlJyk7XG4gICAgICAgIGlmICh1aUJ1c3kubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIHVpQnVzeS5hbmltYXRlKHtvcGFjaXR5OidoaWRlJ30sNTAwLGZ1bmN0aW9uKCl7IHVpQnVzeS5yZW1vdmUoKTsgdWlQYXJlbnQucmVtb3ZlQ2xhc3MoJ2FhLWJ1c3knKTsgfSk7XG4gICAgICAgICAgICBqUXVlcnkod2luZG93KS5yZXNpemUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvL1Jlc2l6ZSBkaWFsb2cgKFB1YmxpYylcbiAgICBzZWxmLnJlc2l6ZURpYWxvZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGFjdGl2ZURpYWxvZy5sZW5ndGggPD0gMCB8fCAhaXNSZXNpemVFbmFibGUoKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIC8valF1ZXJ5KFwiI0RpYWxvZ0RlYnVnXCIpLmFwcGVuZChcIjxicj48YnI+QWN0aXZlRGlhbG9nOiBcIithY3RpdmVEaWFsb2crXCI8YnI+T2JqRGlhbG9nOiBcIitkaWFsb2dPYmopO1xuXG4gICAgICAgIHZhciBhY3RpdmVEaWFsUHJvcHMgPSBkaWFsb2dBcnJheVthY3RpdmVEaWFsb2ddO1xuXG4gICAgICAgIHZhciBzZXR0aW5ncyA9IGpRdWVyeS5leHRlbmQoe1xuICAgICAgICAgICAgd2lkdGg6IGFjdGl2ZURpYWxQcm9wcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogYWN0aXZlRGlhbFByb3BzLmhlaWdodCxcbiAgICAgICAgICAgIG1heEhlaWdodDogKGFjdGl2ZURpYWxQcm9wcy5hZGFwdGl2ZSAmJiBpc19waG9uZSgpKSA/ICcnIDogYWN0aXZlRGlhbFByb3BzLm1heEhlaWdodFxuICAgICAgICB9LCBvcHRpb25zKTtcblxuICAgICAgICB2YXIgbmV3SGVpZ2h0ID0gc2V0dGluZ3MuaGVpZ2h0O1xuICAgICAgICB2YXIgbmV3V2lkdGggPSBzZXR0aW5ncy53aWR0aDtcbiAgICAgICAgdmFyIG1heEhlaWdodCA9IHNldHRpbmdzLm1heEhlaWdodDtcblxuICAgICAgICB2YXIgcGFkZGluZ1RvcCA9IHBhcnNlSW50KGpRdWVyeShhY3RpdmVEaWFsb2cpLnBhcmVudCgpLmNzcygncGFkZGluZy10b3AnKSk7XG4gICAgICAgIHZhciBwYWRkaW5nQm90dG9tID0gcGFyc2VJbnQoalF1ZXJ5KGFjdGl2ZURpYWxvZykucGFyZW50KCkuY3NzKCdwYWRkaW5nLWJvdHRvbScpKTtcbiAgICAgICAgdmFyIHBhZGRpbmdMZWZ0ID0gcGFyc2VJbnQoalF1ZXJ5KGFjdGl2ZURpYWxvZykuY3NzKCdwYWRkaW5nLWxlZnQnKSk7XG4gICAgICAgIHZhciBwYWRkaW5nUmlnaHQgPSBwYXJzZUludChqUXVlcnkoYWN0aXZlRGlhbG9nKS5jc3MoJ3BhZGRpbmctcmlnaHQnKSk7XG4gICAgICAgIHZhciBtYXJnaW5MZWZ0ID0gcGFyc2VJbnQoalF1ZXJ5KGFjdGl2ZURpYWxvZykuY3NzKCdtYXJnaW4tbGVmdCcpKTtcbiAgICAgICAgdmFyIG1hcmdpblJpZ2h0ID0gcGFyc2VJbnQoalF1ZXJ5KGFjdGl2ZURpYWxvZykuY3NzKCdtYXJnaW4tcmlnaHQnKSk7XG4gICAgICAgIHZhciB0aXRsZUJhciA9IGpRdWVyeShhY3RpdmVEaWFsb2cpLnBhcmVudHMoXCIudWktZGlhbG9nOmZpcnN0XCIpLmZpbmQoXCIudWktZGlhbG9nLXRpdGxlYmFyOnZpc2libGVcIik7XG4gICAgICAgIHZhciBidXR0b25CYXIgPSBqUXVlcnkoYWN0aXZlRGlhbG9nKS5wYXJlbnRzKFwiLnVpLWRpYWxvZzpmaXJzdFwiKS5maW5kKFwiLnVpLWRpYWxvZy1idXR0b25wYW5lOnZpc2libGVcIik7XG5cbiAgICAgICAgaWYobmV3SGVpZ2h0ICE9ICdhdXRvJyl7XG4gICAgICAgICAgICBpZiAodGl0bGVCYXIubGVuZ3RoID4gMCkgbmV3SGVpZ2h0IC09IHRpdGxlQmFyLm91dGVySGVpZ2h0KCk7ICAvL3RpdGxlYmFyXG4gICAgICAgICAgICBpZiAoYnV0dG9uQmFyLmxlbmd0aCA+IDApIG5ld0hlaWdodCAtPSBidXR0b25CYXIub3V0ZXJIZWlnaHQoKTsgIC8vYnV0dG9uc1xuICAgICAgICAgICAgbmV3SGVpZ2h0IC09IHBhZGRpbmdUb3ArcGFkZGluZ0JvdHRvbTsgIC8vcGFkZGluZ1xuICAgICAgICB9XG5cbiAgICAgICAgalF1ZXJ5KGFjdGl2ZURpYWxvZykuY3NzKCdoZWlnaHQnLCBuZXdIZWlnaHQpO1xuICAgICAgICBqUXVlcnkoYWN0aXZlRGlhbG9nKS5jc3MoJ21heC1oZWlnaHQnLCBtYXhIZWlnaHQpO1xuXG4gICAgICAgIGlmKGpRdWVyeSh3aW5kb3cpLmhlaWdodCgpIDw9IGpRdWVyeShhY3RpdmVEaWFsb2cpLnBhcmVudCgpLm91dGVySGVpZ2h0KCkpIHtcbiAgICAgICAgICAgIGlmICghKGFjdGl2ZURpYWxQcm9wcy5hZGFwdGl2ZSAmJiBpc19waG9uZSgpKSkgeyAvL3NldCBoZWlnaHQgZm9yIG5vbi1hZGFwdGl2ZSBkZXNpZ25zXG4gICAgICAgICAgICAgICAgdmFyIHRvdGFsSGVpZ2h0ID0galF1ZXJ5KHdpbmRvdykuaGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgaWYgKHRpdGxlQmFyLmxlbmd0aCA+IDApIHRvdGFsSGVpZ2h0IC09IHRpdGxlQmFyLm91dGVySGVpZ2h0KCk7ICAvL3RpdGxlYmFyXG4gICAgICAgICAgICAgICAgaWYgKGJ1dHRvbkJhci5sZW5ndGggPiAwKSB0b3RhbEhlaWdodCAtPSBidXR0b25CYXIub3V0ZXJIZWlnaHQoKTsgIC8vYnV0dG9uc1xuICAgICAgICAgICAgICAgIHRvdGFsSGVpZ2h0IC09IHBhZGRpbmdUb3ArcGFkZGluZ0JvdHRvbTtcblxuICAgICAgICAgICAgICAgIGpRdWVyeShhY3RpdmVEaWFsb2cpLmNzcygnaGVpZ2h0Jyx0b3RhbEhlaWdodCowLjgpO1xuICAgICAgICAgICAgICAgIGpRdWVyeShhY3RpdmVEaWFsb2cpLmNzcygnbWF4LWhlaWdodCcsdG90YWxIZWlnaHQqMC44KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGFjdGl2ZURpYWxQcm9wcy50b2dnbGVTY3JvbGwpIHtcbiAgICAgICAgICAgIHZhciBfb3ZlcmZsb3cgPSAoYWN0aXZlRGlhbFByb3BzLmFkYXB0aXZlICYmIGlzX3Bob25lKCkpID8gXCJhdXRvXCIgOiBcImhpZGRlblwiO1xuICAgICAgICAgICAgalF1ZXJ5KFwiYm9keVwiKS5jc3MoXCJvdmVyZmxvd1wiLF9vdmVyZmxvdyk7XG4gICAgICAgIH1cblxuICAgICAgICBqUXVlcnkoYWN0aXZlRGlhbG9nKS5jc3MoJ3dpZHRoJywnYXV0bycpO1xuICAgICAgICBqUXVlcnkoYWN0aXZlRGlhbG9nKS5jc3MoJ21heC13aWR0aCcsIGFjdGl2ZURpYWxQcm9wcy53aWR0aCk7XG4gICAgICAgIGpRdWVyeShhY3RpdmVEaWFsb2crJyAuJyt3cmFwcGVyQ2xhc3MpLmNzcyh7J3BhZGRpbmctcmlnaHQnOjAsICdwb3NpdGlvbic6J3JlbGF0aXZlJywgJ21hcmdpbic6JzJweCd9KTtcbiAgICAgICAgalF1ZXJ5KGFjdGl2ZURpYWxvZykucGFyZW50KCkuY3NzKCd3aWR0aCcsYWN0aXZlRGlhbFByb3BzLndpZHRoKTtcbiAgICAgICAgalF1ZXJ5KGFjdGl2ZURpYWxvZykucGFyZW50KCkuY3NzKCdtYXgtd2lkdGgnLGFjdGl2ZURpYWxQcm9wcy53aWR0aCk7XG5cbiAgICAgICAgaWYoalF1ZXJ5KHdpbmRvdykud2lkdGgoKSA8PSBqUXVlcnkoYWN0aXZlRGlhbG9nKS5wYXJlbnQoKS5vdXRlcldpZHRoKCkpIHtcbiAgICAgICAgICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9IDIwO1xuICAgICAgICAgICAgbmV3V2lkdGggLT0gcGFkZGluZ0xlZnQrcGFkZGluZ1JpZ2h0K21hcmdpbkxlZnQrbWFyZ2luUmlnaHQrc2Nyb2xsYmFyV2lkdGg7XG5cbiAgICAgICAgICAgIGpRdWVyeShhY3RpdmVEaWFsb2crJyAuJyt3cmFwcGVyQ2xhc3MpLmNzcyh7J3dpZHRoJzpuZXdXaWR0aCwncGFkZGluZy1yaWdodCc6cGFkZGluZ1JpZ2h0LCdwb3NpdGlvbic6J3JlbGF0aXZlJ30pO1xuICAgICAgICAgICAgalF1ZXJ5KGFjdGl2ZURpYWxvZykucGFyZW50KCkuY3NzKCd3aWR0aCcsalF1ZXJ5KHdpbmRvdykud2lkdGgoKSAqIDAuOTUpO1xuICAgICAgICAgICAgalF1ZXJ5KGFjdGl2ZURpYWxvZykucGFyZW50KCkuY3NzKCdtYXgtd2lkdGgnLGpRdWVyeSh3aW5kb3cpLndpZHRoKCkgKiAwLjk1KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGpRdWVyeShhY3RpdmVEaWFsb2crJyAuJyt3cmFwcGVyQ2xhc3MpLmNzcyh7J3dpZHRoJzonJ30pO1xuICAgICAgICB9XG5cbiAgICAgICAgalF1ZXJ5KGFjdGl2ZURpYWxvZykuZGlhbG9nKCdvcHRpb24nLCAncG9zaXRpb24nLCBhY3RpdmVEaWFsUHJvcHMucG9zaXRpb24pO1xuICAgICAgICBpZiAoYWN0aXZlRGlhbFByb3BzLmFkYXB0aXZlICYmIGlzX3Bob25lKCkpIHtcbiAgICAgICAgICAgIGpRdWVyeShhY3RpdmVEaWFsb2cpLnBhcmVudChcIi51aS1kaWFsb2c6Zmlyc3RcIikuY3NzKCd0b3AnLGpRdWVyeSh3aW5kb3cpLnNjcm9sbFRvcCgpKzEwKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvL1NldCBGbGlwUGFuZWwgKFByaXZhdGUpXG4gICAgdmFyIHNldEZsaXBQYW5lbCA9IGZ1bmN0aW9uKGluZGV4LGFuaW1hdGlvbikge1xuICAgICAgICBpZiAoYWN0aXZlRGlhbG9nLmxlbmd0aCA8PSAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgdmFyIGFjdGl2ZURpYWxQcm9wcyA9IGRpYWxvZ0FycmF5W2FjdGl2ZURpYWxvZ107XG4gICAgICAgIHZhciBwYW5lbEhlaWdodCA9IGFjdGl2ZURpYWxQcm9wcy5oZWlnaHQ7XG5cbiAgICAgICAgaWYoaW5kZXggPT09IDApICAgICBwYW5lbEhlaWdodCA9IGpRdWVyeShhY3RpdmVEaWFsb2cpLmhlaWdodCgpIC0galF1ZXJ5KGFjdGl2ZURpYWxvZyArJyAucXVpY2tGbGlwLXdyYXBwZXIgLmZpcnN0LWZsaXBQYW5lbCcpLmhlaWdodCgpO1xuICAgICAgICBlbHNlIGlmKGluZGV4ID09IDEpIHBhbmVsSGVpZ2h0ID0galF1ZXJ5KGFjdGl2ZURpYWxvZykuaGVpZ2h0KCkgLSBqUXVlcnkoYWN0aXZlRGlhbG9nICsnIC5xdWlja0ZsaXAtd3JhcHBlciAuc2Vjb25kLWZsaXBQYW5lbCcpLmhlaWdodCgpO1xuICAgICAgICBlbHNlIGlmKGluZGV4ID09IDIpIHBhbmVsSGVpZ2h0ID0galF1ZXJ5KGFjdGl2ZURpYWxvZykuaGVpZ2h0KCkgLSBqUXVlcnkoYWN0aXZlRGlhbG9nICsnIC5xdWlja0ZsaXAtd3JhcHBlciAudGhpcmQtZmxpcFBhbmVsJykuaGVpZ2h0KCk7XG5cbiAgICAgICAgdmFyIGZsaXBTcGVlZCA9IChhbmltYXRpb24pID8gMjAwIDogMDtcbiAgICAgICAgdmFyIGZsaXBXaWR0aCA9IChwYW5lbEhlaWdodCA+IDApID8gYWN0aXZlRGlhbFByb3BzLndpZHRoLTYwIDogYWN0aXZlRGlhbFByb3BzLndpZHRoLTc3O1xuICAgICAgICBqUXVlcnkoYWN0aXZlRGlhbG9nICsnIC5xdWlja0ZsaXAtd3JhcHBlcicpLmNzcygnd2lkdGgnLCBmbGlwV2lkdGgpLmNzcygnaGVpZ2h0JywgJ2F1dG8nKTtcbiAgICAgICAgalF1ZXJ5KGFjdGl2ZURpYWxvZyArJyAucXVpY2tGbGlwLXdyYXBwZXInKS5xdWlja0ZsaXBwZXIoIHtub1Jlc2l6ZTogdHJ1ZSwgY2xvc2VTcGVlZDogZmxpcFNwZWVkLCBvcGVuU3BlZWQ6IGZsaXBTcGVlZCwgcmVmcmVzaDp0cnVlLCBwYW5lbFdpZHRoOmZsaXBXaWR0aH0sIGluZGV4KTtcbiAgICAgICAgalF1ZXJ5KGFjdGl2ZURpYWxvZyArJyAucXVpY2tGbGlwLXdyYXBwZXIgLmZpcnN0LWZsaXBQYW5lbCcpLmNzcyh7J2hlaWdodCc6J2F1dG8nLCdwYWRkaW5nLWJvdHRvbSc6JzMwcHgnfSk7XG4gICAgICAgIGpRdWVyeShhY3RpdmVEaWFsb2cgKycgLnF1aWNrRmxpcC13cmFwcGVyIC5zZWNvbmQtZmxpcFBhbmVsJykuY3NzKHsnaGVpZ2h0JzonYXV0bycsJ3BhZGRpbmctYm90dG9tJzonMzBweCd9KTtcbiAgICAgICAgalF1ZXJ5KGFjdGl2ZURpYWxvZyArJyAucXVpY2tGbGlwLXdyYXBwZXIgLnRoaXJkLWZsaXBQYW5lbCcpLmNzcyh7J2hlaWdodCc6J2F1dG8nLCdwYWRkaW5nLWJvdHRvbSc6JzMwcHgnfSk7XG5cbiAgICAgICAgalF1ZXJ5KGFjdGl2ZURpYWxvZykuc2Nyb2xsVG9wKDApO1xuICAgICAgICBpZihhY3RpdmVEaWFsUHJvcHMuYnV0dG9ucy5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgIC8vSGlkZSBvciBzaG93IHRoZSBidXR0b24ocykgaWYgaXQgd2FzIHBhc3NlZCBpbiB0aGUgYnV0dG9ucyBhcnJheVxuICAgICAgICAgICAgZm9yKHZhciBpPTA7aTxhY3RpdmVEaWFsUHJvcHMuYnV0dG9ucy5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgICAgICBqUXVlcnkoYWN0aXZlRGlhbG9nKS5wYXJlbnRzKCcudWktZGlhbG9nJykuZmluZCgnLnVpLWRpYWxvZy1idXR0b25wYW5lIGJ1dHRvbicpLmVxKGkpLnNob3coKTtcbiAgICAgICAgICAgICAgICBpZiggYWN0aXZlRGlhbFByb3BzLmJ1dHRvbnNbaV0uaGlkZU9ucGFuZWwuaW5kZXhPZihcIixcIitpbmRleCtcIixcIikgPj0gMCl7XG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeShhY3RpdmVEaWFsb2cpLnBhcmVudHMoJy51aS1kaWFsb2cnKS5maW5kKCcudWktZGlhbG9nLWJ1dHRvbnBhbmUgYnV0dG9uJykuZXEoaSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBNb2JpbGUgRGV2aWNlIChQdWJsaWMpXG4gICAgdmFyIGlzX3Bob25lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vQWRhcHRpdmUgcGhvbmUgdmVyaWZpY2F0aW9uXG4gICAgICAgIHZhciByZXN1bHQgPSBqUXVlcnkoJ2h0bWwnKS5oYXNDbGFzcygnaXMtbW9iaWxlJyk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8vQ2hlY2sgTW9iaWxlIGFwcFxuICAgIHZhciBpc01vYmlsZUFwcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZih0eXBlb2YgJGRldmljZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgJGRldmljZS5tb2JpbGVBcHAgIT09IFwidW5kZWZpbmVkXCIgJiYgJGRldmljZS5tb2JpbGVBcHAgPT09IHRydWUgKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8vIERpc2FibGUgZGlhbG9nIHJlc2l6ZSBvbiBicm93c2VyIHdpbmRvdyByZXNpemUgKFByaXZhdGUpXG4gICAgdmFyIGlzUmVzaXplRW5hYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChwcm9wcyAmJiB0eXBlb2YgcHJvcHMucmVzaXphYmxlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgcmV0dXJuIHByb3BzLnJlc2l6YWJsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvLyBHZXQgdG9wIGNvb3JkaW5hdGUgZm9yIGRpc3BsYXlpbmcgZGlhbG9nIChQcml2YXRlKVxuICAgIHZhciBnZXRQb3NpdGlvblRvcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAocHJvcHMgJiYgcHJvcHMuYWFQb3NpdGlvbikge1xuICAgICAgICAgICAgc3dpdGNoIChwcm9wcy5hYVBvc2l0aW9uLnZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgY2FzZSAnbWlkZGxlJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpRdWVyeShkb2N1bWVudCkuaGVpZ2h0KCkgLyAyO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqUXVlcnkoZG9jdW1lbnQpLmhlaWdodCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGpRdWVyeSh3aW5kb3cpLnNjcm9sbFRvcCgpICsgMTA7XG4gICAgfTtcblxuICAgIC8vU2FmZSBFeGl0XG4gICAgaWYoZGlhbG9nT2JqLmxlbmd0aCA8PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgaWYoalF1ZXJ5KGRpYWxvZ09iaikubGVuZ3RoIDw9IDApIHJldHVybiBmYWxzZTtcblxuICAgIC8vU2V0dXAgRGlhbG9nIFByb3BlcnRpZXNcbiAgICBpZiAoZGlhbG9nQXJyYXlbZGlhbG9nT2JqXSAhPT0gdW5kZWZpbmVkICYmIHByb3BzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcHJvcHMgPSBkaWFsb2dBcnJheVtkaWFsb2dPYmpdO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuaW5pdERpYWxvZygpO1xuICAgIH1cblxufVxuXG5mdW5jdGlvbiBhYV9VdGlsaXRpZXNfRm9ybWF0KCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIC8qKlxuICAgICAqIEZVTkNUSU9OOiBmb3JtYXROdW1iZXIoKVxuICAgICAqIEZvcm1hdHMgbnVtYmVyIHdpdGggc3BlY2lmaWMgZGVjaW1hbHMgYW5kIHN5bWJvbHNcbiAgICAgKiBAcGFyYW0ge2ludH0gW25dXG4gICAgICogQHBhcmFtIHtpbnR9IFtkZWNpbWFsc10gICAgICAgICAgICBEZWNpbWFsIGRpZ2l0cyAgICAgICAgIERlZmF1bHQoJzInKVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZGVjaW1hbF9zZXBdICAgICAgVGhvdXNhbmRzIHNlcGFyYXRvciAgICBEZWZhdWx0KCcsJylcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3Rob3VzYW5kc19zZXBdICAgIERlY2ltYWwgc2VwYXJhdG9yICAgICAgRGVmYXVsdCgnLicpXG4gICAgICovXG4gICAgc2VsZi5mb3JtYXROdW1iZXIgPSBmdW5jdGlvbihuLCBkZWNpbWFscywgZGVjaW1hbF9zZXAsIHRob3VzYW5kc19zZXApXG4gICAge1xuICAgICAgICB2YXIgYyA9IGlzTmFOKGRlY2ltYWxzKSA/IDIgOiBNYXRoLmFicyhkZWNpbWFscyksXG4gICAgICAgIGQgPSBkZWNpbWFsX3NlcCB8fCAnLicsXG4gICAgICAgIHQgPSAodHlwZW9mIHRob3VzYW5kc19zZXAgPT09ICd1bmRlZmluZWQnKSA/ICcsJyA6IHRob3VzYW5kc19zZXAsXG4gICAgICAgIHNpZ24gPSAobiA8IDApID8gJy0nIDogJycsXG4gICAgICAgIGkgPSBwYXJzZUludChuID0gTWF0aC5hYnMobikudG9GaXhlZChjKSkgKyAnJyxcbiAgICAgICAgaiA9ICgoaiA9IGkubGVuZ3RoKSA+IDMpID8gaiAlIDMgOiAwO1xuICAgICAgICByZXR1cm4gc2lnbiArIChqID8gaS5zdWJzdHIoMCwgaikgKyB0IDogJycpICsgaS5zdWJzdHIoaikucmVwbGFjZSgvKFxcZHszfSkoPz1cXGQpL2csIFwiJDFcIiArIHQpICsgKGMgPyBkICsgTWF0aC5hYnMobiAtIGkpLnRvRml4ZWQoYykuc2xpY2UoMikgOiAnJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZVTkNUSU9OOiBmb3JtYXRGYXJlKClcbiAgICAgKiBDb252ZXJ0cyBudW1iZXIgaW50byBtb25leSBmb3JtYXRcbiAgICAgKiBAcGFyYW0ge2ludH0gW251bWJlcl1cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogICAgICsgY3VycmVuY3kgICAgICAgICAgICAgICAgICAgIEN1cnJlbmN5IENvZGUgKDMpLiAgICBEZWZhdWx0KCdVU0QnKVxuICAgICAqICAgICArIGxvY2FsZSAgICAgICAgICAgICAgICAgICAgICBMb2NhbGUgY29kZSAoMiBvciA1KS4gRGVmYXVsdCgnZW4nIG9yICdlbl9VUycpXG4gICAgICogICAgICsgZGVjaW1hbHMgICAgICAgICAgICAgICAgICAgIE51bWJlciBvZiBkZWNpbWFscyAgICBEZWZhdWx0KCcyJylcbiAgICAgKiAgICAgKyBkaXNwbGF5Q29kZSAgICAgICAgICAgICAgICAgRGlzcGxheSBGb3JtYXQgICAgICAgIERlZmF1bHQoJ2ZhbHNlJylcbiAgICAgKiAgICAgKyBkaXNwbGF5U3ltYm9sICAgICAgICAgICAgICAgRGlzcGxheSBGb3JtYXQgICAgICAgIERlZmF1bHQoJ3RydWUnKVxuICAgICAqICAgICArIGRpc3BsYXlDdXJyZW5jeVN0YW5kYXJkICAgICBBQS5jb20gU3RhbmRhcmQgICAgICAgRGVmYXVsdCgnZmFsc2UnKVxuICAgICAqICAgICArIGRpc3BsYXlSb3VuZFVwTnVtYmVyICAgICAgICBEaXNwbGF5IHdob2xlIG51bWJlciAgRGVmYXVsdCgnZmFsc2UnKVxuXG4gICAgICovXG4gICAgc2VsZi5mb3JtYXRGYXJlID0gZnVuY3Rpb24obnVtYmVyLG9wdGlvbnMpXG4gICAge1xuICAgICAgICAvL09wdGlvbnM6XG4gICAgICAgIG9wdGlvbnMgICAgICAgICAgICAgICA9IChvcHRpb25zICE9PSB1bmRlZmluZWQpID8gb3B0aW9ucyA6IHt9O1xuICAgICAgICBvcHRpb25zLmN1cnJlbmN5ICAgICAgPSAob3B0aW9ucy5jdXJyZW5jeSAhPT0gdW5kZWZpbmVkKSA/IG9wdGlvbnMuY3VycmVuY3kudG9VcHBlckNhc2UoKSA6IG51bGw7XG4gICAgICAgIG9wdGlvbnMubG9jYWxlICAgICAgICA9IChvcHRpb25zLmxvY2FsZSAhPT0gdW5kZWZpbmVkKSA/IG9wdGlvbnMubG9jYWxlIDogbnVsbDtcbiAgICAgICAgb3B0aW9ucy5kZWNpbWFscyAgICAgID0gKG9wdGlvbnMuZGVjaW1hbHMgIT09IHVuZGVmaW5lZCkgPyAoKCFpc05hTihvcHRpb25zLmRlY2ltYWxzKSkgPyBNYXRoLmFicyhvcHRpb25zLmRlY2ltYWxzKSA6IG51bGwpIDogbnVsbDtcbiAgICAgICAgb3B0aW9ucy5kaXNwbGF5Q29kZSAgID0gKG9wdGlvbnMuZGlzcGxheUNvZGUgIT09IHVuZGVmaW5lZCkgPyBvcHRpb25zLmRpc3BsYXlDb2RlIDogZmFsc2U7XG4gICAgICAgIG9wdGlvbnMuZGlzcGxheVN5bWJvbCA9IChvcHRpb25zLmRpc3BsYXlTeW1ib2wgIT09IHVuZGVmaW5lZCkgPyBvcHRpb25zLmRpc3BsYXlTeW1ib2wgOiB0cnVlO1xuICAgICAgICBvcHRpb25zLmRpc3BsYXlDdXJyZW5jeVN0YW5kYXJkID0gKG9wdGlvbnMuZGlzcGxheUN1cnJlbmN5U3RhbmRhcmQgIT09IHVuZGVmaW5lZCkgPyBvcHRpb25zLmRpc3BsYXlDdXJyZW5jeVN0YW5kYXJkIDogZmFsc2U7XG4gICAgICAgIG9wdGlvbnMuZGlzcGxheVJvdW5kVXBOdW1iZXIgPSAob3B0aW9ucy5kaXNwbGF5Um91bmRVcE51bWJlciAhPT0gdW5kZWZpbmVkKSA/IG9wdGlvbnMuZGlzcGxheVJvdW5kVXBOdW1iZXIgOiBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIC8vVmFyaWFibGVzOlxuICAgICAgICB2YXIgZm9ybWF0TGlrZSA9IHsgJ1VTJzoge2RzOlwiLlwiLCB0czpcIixcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJ0JSJzoge2RzOlwiLFwiLCB0czpcIi5cIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJ0ZSJzoge2RzOlwiLFwiLCB0czpcIiBcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICdDSCc6IHtkczpcIi5cIiwgdHM6XCInXCJ9IH07XG4gICAgICAgIHZhciBsb2NhbGVMaWtlID0geyAnVVMnOiBbICdhZScsJ2F1JywnY2EnLCdjbicsJ2VnJywnZ2InLCdoaycsJ2lsJywnaW4nLCdqcCcsJ3NrJywndGgnLCd0dycsJ3VzJyBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICdCUic6IFsgJ2F0JywnYnInLCdkZScsJ2RrJywnZXMnLCdncicsJ2l0JywnbmwnLCdwdCcsJ3RyJywndm4nIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJ0ZSJzogWyAnY3onLCdmaScsJ2ZyJywncnUnLCdzZScsJ3BsJyBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICdDSCc6IFsgJ2NoJyBdIH07XG4gICAgICAgIHZhciBjdXJyZW5jaWVzID0geyAnVVNEJzoge2NvZGU6ICdVU0QnLCBzeW06IFwiJFwiICAgICAgICAsIGZtdDogZm9ybWF0TGlrZS5VUywgZGVjOjIgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAnQ0FEJzoge2NvZGU6ICdDQUQnLCBzeW06IFwiJFwiICAgICAgICAsIGZtdDogZm9ybWF0TGlrZS5VUywgZGVjOjIgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAnTVhOJzoge2NvZGU6ICdNWE4nLCBzeW06IFwiJFwiICAgICAgICAsIGZtdDogZm9ybWF0TGlrZS5VUywgZGVjOjIgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAnR0JQJzoge2NvZGU6ICcnLCBzeW06IFwiJnBvdW5kO1wiLCBmbXQ6IGZvcm1hdExpa2UuVVMsIGRlYzoyIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJ0pQWSc6IHtjb2RlOiAnSlBZJywgc3ltOiBcIiZ5ZW47XCIgICAgLCBmbXQ6IGZvcm1hdExpa2UuVVMsIGRlYzoyIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJ0NPUCc6IHtjb2RlOiAnQ09QJywgc3ltOiBcIiRcIiAgICAgICAgLCBmbXQ6IGZvcm1hdExpa2UuQlIsIGRlYzoyIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJ1ZFRic6IHtjb2RlOiAnVkVGJywgc3ltOiBcIkJzLlwiICAgICAgICAsIGZtdDogZm9ybWF0TGlrZS5CUiwgZGVjOjIgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCAnQlJMJzoge2NvZGU6ICdCUkwnLCBzeW06IFwiUiRcIiAgICAgICAgLCBmbXQ6IGZvcm1hdExpa2UuQlIsIGRlYzoyIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgJ0VVUic6IHtjb2RlOiAnRVVSJywgc3ltOiBcIiZldXJvO1wiICAgICwgZm10OiBmb3JtYXRMaWtlLkJSLCBkZWM6MiB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICdDTFAnOiB7Y29kZTogJ0NMUCcsIHN5bTogXCIkXCIgICAgICAgICwgZm10OiBmb3JtYXRMaWtlLkJSLCBkZWM6MCB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsICdOQScgOiB7Y29kZTogJycgICAgICAsIHN5bTogXCIkXCIgICAgICAgICwgZm10OiBmb3JtYXRMaWtlLlVTLCBkZWM6MiB9IH07XG4gICAgICAgIFxuICAgICAgICBpZiAob3B0aW9ucy5sb2NhbGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBsb2NhbGVLZXkgPSAnJztcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBsb2NhbGVMaWtlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IGxvY2FsZUxpa2Vba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxlS2V5ICE9PSAnJykgYnJlYWs7XG4gICAgICAgICAgICAgICAgaWYgKCFsb2NhbGVMaWtlLmhhc093blByb3BlcnR5KGtleSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Yob2JqKSAhPSAnb2JqZWN0JyAmJiB0eXBlb2Yob2JqLmxlbmd0aCkgIT0gJ251bWJlcicpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHo9MDsgejxvYmoubGVuZ3RoOyB6KyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubG9jYWxlLnRvTG93ZXJDYXNlKCkgPT09IG9ialt6XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxlS2V5ID0ga2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY2llcy5OQS5mbXQgPSBmb3JtYXRMaWtlW2xvY2FsZUtleV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpc0dCUEN1cnJlbmN5ID0gKG9wdGlvbnMuY3VycmVuY3kgPT09IFwiR0JQXCIpO1xuICAgICAgICB2YXIgaXNVU0RDdXJyZW5jeSA9IChvcHRpb25zLmN1cnJlbmN5ID09PSBcIlVTRFwiKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuZGlzcGxheUN1cnJlbmN5U3RhbmRhcmQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNDb3VudHJ5VVMgPSAob3B0aW9ucy5sb2NhbGUgPT09IG51bGwpIHx8IChvcHRpb25zLmxvY2FsZS5zdWJzdHJpbmcoMywgNSkudG9VcHBlckNhc2UoKSA9PT0gXCJVU1wiKTtcbiAgICAgICAgICAgICAgICBvcHRpb25zLmRpc3BsYXlTeW1ib2wgPSAoaXNVU0RDdXJyZW5jeSAmJiBpc0NvdW50cnlVUykgfHwgaXNHQlBDdXJyZW5jeTsgXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5kaXNwbGF5Q29kZSA9ICFvcHRpb25zLmRpc3BsYXlTeW1ib2w7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vU2VsZWN0IEN1cnJlbmN5XG4gICAgICAgIHZhciBjdXJyO1xuICAgICAgICBpZiAob3B0aW9ucy5jdXJyZW5jeSAhPT0gbnVsbCkgICAgICAgICBjdXJyID0gY3VycmVuY2llc1tvcHRpb25zLmN1cnJlbmN5XTtcbiAgICAgICAgZWxzZSBpZiAob3B0aW9ucy5sb2NhbGUgIT09IG51bGwpICAgICBjdXJyID0gY3VycmVuY2llcy5OQTtcbiAgICAgICAgaWYgKGN1cnIgPT09IHVuZGVmaW5lZCkgICAgICAgICAgICAgICAgIGN1cnIgPSBjdXJyZW5jaWVzLlVTRDtcbiAgICAgICAgaWYgKG9wdGlvbnMuZGVjaW1hbHMgIT09IG51bGwpICAgICAgICBjdXJyLmRlYyA9IG9wdGlvbnMuZGVjaW1hbHM7XG4gICAgICAgIGlmIChvcHRpb25zLmRpc3BsYXlDb2RlICE9PSB0cnVlKSAgICBjdXJyLmNvZGUgPSBcIlwiO1xuICAgICAgICBpZiAob3B0aW9ucy5kaXNwbGF5U3ltYm9sICE9PSB0cnVlKSAgICBjdXJyLnN5bSA9IFwiXCI7XG5cbiAgICAgICAgdmFyIGN1cnJlbmN5U3ltYm9sID0gY3Vyci5zeW07XG4gICAgICAgIGlmIChvcHRpb25zLmRpc3BsYXlDdXJyZW5jeVN0YW5kYXJkID09PSB0cnVlICYmIGlzR0JQQ3VycmVuY3kpIHtcbiAgICAgICAgXHRjdXJyZW5jeVN5bWJvbCArPSBcIiBcIjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdmFyIG51bWJlcldpdGhSb3VuZGluZyA9IChvcHRpb25zLmRpc3BsYXlSb3VuZFVwTnVtYmVyID09PSB0cnVlKSA/IE1hdGguY2VpbChudW1iZXIpIDogbnVtYmVyO1xuXG4gICAgICAgIC8vT3V0cHV0XG4gICAgICAgIHZhciByZXN1bHQgPSAnJXMlbiAlYyc7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC8lcy9nLGN1cnJlbmN5U3ltYm9sKTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoLyVjL2csY3Vyci5jb2RlKTtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoLyVuL2csc2VsZi5mb3JtYXROdW1iZXIobnVtYmVyV2l0aFJvdW5kaW5nLCBjdXJyLmRlYywgY3Vyci5mbXQuZHMsIGN1cnIuZm10LnRzKSk7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpOyAgICAvLyBUcmltXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cbiJdfQ==
//# sourceMappingURL=aa-utilities-2.1.min.js.map
