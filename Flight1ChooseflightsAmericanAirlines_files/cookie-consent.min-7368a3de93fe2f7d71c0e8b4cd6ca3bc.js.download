'use strict';/**
*  UI-REFACTORED
*    FROM --> ./legacy-web/src/main/js/apps/common/js/cookieconsent.js
*    TO   --> ./webapps/shared-web/src/main/assets/js/common/cookie-consent.js
**/var cookieconsentModule=function($j){//var jQueryVersionArray = $j.fn.jquery.split('.');
var loaded=false;var jQueryUILoaded=false;var aaUtilLoaded=false;var modalLocale='';// set to production
var hostNameForConsentCookieServlet='www.aa.com';var aaUtil;var DEBUG=false;function debugLog(message){if(DEBUG){console.log(message)}};function hideModal(){if(typeof aaUtil!=='undefined'){aaUtil.aaDialog('cookieConsent').closeDialog()}};function getConsentUrl(){var consentUrl=getDomainUrl()+'/shared/cookieConsent';if(modalLocale.length>0){consentUrl=consentUrl+'?locale='+modalLocale}debugLog(modalLocale);debugLog('consentUrl: '+consentUrl);return consentUrl};function bindEvents(){// Initialize aa_Utilities object
aaUtil=new aa_Utilities;// Initialize accept button
var buttonText='I accept';if(typeof acceptCookieConsentText!=='undefined'){buttonText=acceptCookieConsentText}// Set buttons if needed
var btnArray=new Array;btnArray[0]={name:buttonText,id:'cookieConsentAccept',cssClass:'btn',closeDialog:true,callback:handleCookieConsentAccept};// Initialize and set the overlay
aaUtil.aaDialog('cookieConsent',{width:575,height:'auto',buttons:btnArray,toggleScroll:false,showClose:false,closeOnEscape:false});// handles older version of jQuery before delegate exists
try{if($j.isFunction($j('body').delegate)){$j('body').delegate('#cookieConsentPolicyLink','click',cookiePolicyClickHandler)}else{$j('#cookieConsentPolicyLink').on('click',cookiePolicyClickHandler)}}catch(err){hideModal()}};function processJSON(response){var jsonResponse;// check if jQuery.parseJSON is a function, else it is jQuery v 1.3.2
if($j.isFunction($j.parseJSON)){jsonResponse=response}else if($j.isFunction(JSON.parse)){jsonResponse=JSON.parse(response)}debugLog('jsonResponse.displayFlag: '+jsonResponse.displayFlag);// debugLog("jsonResponse.htmlText: " + jsonResponse.htmlText);
// display/hide modal
if(jsonResponse.displayFlag==='1'){// append it to body
$j('body').append(jsonResponse.htmlText);// bind events
bindEvents();showModal()}else{hideModal()}};function showModal(){aaUtil.aaDialog('cookieConsent').openDialog();$j('#cookieConsentDialog').parent().find('.ui-dialog-titlebar').css('marginBottom',15+'px')};function makeCorsRequest(method,value){debugLog('value: '+value);try{$j.ajax({type:method,cache:false,url:getConsentUrl(),contentType:'text/plain',xhrFields:{withCredentials:true},crossDomain:true,beforeSend:function beforeSend(xhr){// for older versions of jQuery
xhr.withCredentials=true;debugLog('beforeSend - value: '+value);xhr.setRequestHeader('consentcookieheader',value);xhr.setRequestHeader('X-Requested-With','XMLHttpRequest')},success:function success(xhr){if(method==='GET'){processJSON(xhr)}},error:function error(){debugLog('There is an error');hideModal()}})}catch(err){debugLog(err);hideModal()}};function processConsent(){debugLog('processConsent..');debugLog('$j.fn.jquery: '+$j.fn.jquery);debugLog('$j.ui.version: '+$j.ui.version);makeCorsRequest('GET')};function setConsent(value){makeCorsRequest('PUT',value?'1':'0')};// @TODO - SRL - verify this function is even necessary for getConsentUrl function
function getDomainUrl(){var domainUrl;try{var cProto=document.location.protocol=='https:'?'https://':'http://';if(location.port!=null&&location.port.length>0&&window.location.hostname.toLowerCase().indexOf('localhost')>-1){// for local env
domainUrl=cProto+window.location.hostname+':'+location.port}else{domainUrl=cProto+hostNameForConsentCookieServlet;// prod, international and lower environments
}debugLog('domainUrl: '+domainUrl)}catch(err){debugLog(err)}return domainUrl};function getAAUtils(){//var aaUtilitiesLocation;
if(typeof aa_Utilities==='undefined'&&!aaUtilLoaded){// determine which version we need to get
/*if(jQueryVersionArray.length > 2 && jQueryVersionArray[0] === '1' && jQueryVersionArray[1] > 4) {
                aaUtilitiesLocation = '/assets/js/legacy/utilities/aa-utilities-2.1.min.js';
            }else{
                aaUtilitiesLocation = '/assets/js/legacy/utilities/aa-utilities.min.js';
            }*/// get aa_Utilities
var aaUtilitiesUrl=getDomainUrl()+'/assets/js/legacy/utilities/aa-utilities-2.1.min.js';debugLog('aaUtilitiesUrl: '+aaUtilitiesUrl);loadScript(aaUtilitiesUrl,function(){aaUtilLoaded=true;debugLog('got aa_Utilities at: '+aaUtilitiesUrl);// start
processConsent()})}else{// start process
aaUtilLoaded=true;// start
processConsent()}};function checkPrerequisiteAndStartProcess(){if(typeof jQuery.ui==='undefined'&&!jQueryUILoaded){getjQueryUI()}else{// getAAUtils
jQueryUILoaded=true;getAAUtils()}};function loadScript(url,callback){$j.ajax({url:url,dataType:'script',success:callback,async:true})};function getjQueryUI(){/*var jQueryUILocation;

        // determine which version we need to get. Greater than 4, equal 4 or less than 4
        if(jQueryVersionArray.length > 2 && jQueryVersionArray[0] === '1' && jQueryVersionArray[1] > 4) {
            jQueryUILocation = '/js/libs/jquery/ui/1.10/jquery-ui.min.js';
        }else if(jQueryVersionArray.length > 2 && jQueryVersionArray[0] === '1' && jQueryVersionArray[1] === '4') {
            jQueryUILocation = '/apps/common/js/jquery/ui/1.8/jquery-ui-1.8.2.custom.min.js';
        }else{
            jQueryUILocation = '/apps/common/js/jquery/ui/jquery-ui-1.7.2.custom.min.js';
        }*/// get aa_Utilities
var jQueryUIUrl=getDomainUrl()+'/assets/js/vendor/jquery-ui.min.js';loadScript(jQueryUIUrl,function(){debugLog('got jQueryUI at: '+jQueryUIUrl);jQueryUILoaded=true;getAAUtils()})};function cookiePolicyClickHandler(){$j('#cookieConsentPolicy').toggleClass('is-hidden')};function handleCookieConsentAccept(){setConsent(true);hideModal()};function setModalLocale(locale){modalLocale=locale;debugLog('modal locale: '+locale)};function setConsentServletHost(hostName){try{if(typeof hostName!=='undefined'&&hostName.length>0&&window.location.hostname.toLowerCase().indexOf('www.aa.com')<0){hostNameForConsentCookieServlet=hostName}}catch(e){console.error(e)}debugLog('hostNameForConsentCookieServlet: '+hostName)};return{start:function start(){// check if this script has been loaded some where else before
if(loaded===false){loaded=true;try{//check prereq and start the process
checkPrerequisiteAndStartProcess()}catch(err){debugLog(err);hideModal()}}},setLocale:setModalLocale,setServiceHost:setConsentServletHost}}(jQuery);jQuery(document).ready(function(){cookieconsentModule.start()});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi9jb29raWUtY29uc2VudC5qcyJdLCJuYW1lcyI6WyJjb29raWVjb25zZW50TW9kdWxlIiwiJGoiLCJsb2FkZWQiLCJqUXVlcnlVSUxvYWRlZCIsImFhVXRpbExvYWRlZCIsIm1vZGFsTG9jYWxlIiwiaG9zdE5hbWVGb3JDb25zZW50Q29va2llU2VydmxldCIsImFhVXRpbCIsIkRFQlVHIiwiZGVidWdMb2ciLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsImhpZGVNb2RhbCIsImFhRGlhbG9nIiwiY2xvc2VEaWFsb2ciLCJnZXRDb25zZW50VXJsIiwiY29uc2VudFVybCIsImdldERvbWFpblVybCIsImxlbmd0aCIsImJpbmRFdmVudHMiLCJhYV9VdGlsaXRpZXMiLCJidXR0b25UZXh0IiwiYWNjZXB0Q29va2llQ29uc2VudFRleHQiLCJidG5BcnJheSIsIkFycmF5IiwibmFtZSIsImlkIiwiY3NzQ2xhc3MiLCJjYWxsYmFjayIsImhhbmRsZUNvb2tpZUNvbnNlbnRBY2NlcHQiLCJ3aWR0aCIsImhlaWdodCIsImJ1dHRvbnMiLCJ0b2dnbGVTY3JvbGwiLCJzaG93Q2xvc2UiLCJjbG9zZU9uRXNjYXBlIiwiaXNGdW5jdGlvbiIsImRlbGVnYXRlIiwiY29va2llUG9saWN5Q2xpY2tIYW5kbGVyIiwib24iLCJlcnIiLCJwcm9jZXNzSlNPTiIsInJlc3BvbnNlIiwianNvblJlc3BvbnNlIiwicGFyc2VKU09OIiwiSlNPTiIsInBhcnNlIiwiZGlzcGxheUZsYWciLCJhcHBlbmQiLCJodG1sVGV4dCIsInNob3dNb2RhbCIsIm9wZW5EaWFsb2ciLCJwYXJlbnQiLCJmaW5kIiwiY3NzIiwibWFrZUNvcnNSZXF1ZXN0IiwibWV0aG9kIiwidmFsdWUiLCJhamF4IiwidHlwZSIsImNhY2hlIiwidXJsIiwiY29udGVudFR5cGUiLCJ4aHJGaWVsZHMiLCJ3aXRoQ3JlZGVudGlhbHMiLCJjcm9zc0RvbWFpbiIsImJlZm9yZVNlbmQiLCJ4aHIiLCJzZXRSZXF1ZXN0SGVhZGVyIiwic3VjY2VzcyIsImVycm9yIiwicHJvY2Vzc0NvbnNlbnQiLCJmbiIsImpxdWVyeSIsInVpIiwidmVyc2lvbiIsInNldENvbnNlbnQiLCJkb21haW5VcmwiLCJjUHJvdG8iLCJkb2N1bWVudCIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJwb3J0Iiwid2luZG93IiwiaG9zdG5hbWUiLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJnZXRBQVV0aWxzIiwiYWFVdGlsaXRpZXNVcmwiLCJsb2FkU2NyaXB0IiwiY2hlY2tQcmVyZXF1aXNpdGVBbmRTdGFydFByb2Nlc3MiLCJqUXVlcnkiLCJnZXRqUXVlcnlVSSIsImRhdGFUeXBlIiwiYXN5bmMiLCJqUXVlcnlVSVVybCIsInRvZ2dsZUNsYXNzIiwic2V0TW9kYWxMb2NhbGUiLCJsb2NhbGUiLCJzZXRDb25zZW50U2VydmxldEhvc3QiLCJob3N0TmFtZSIsImUiLCJzdGFydCIsInNldExvY2FsZSIsInNldFNlcnZpY2VIb3N0IiwicmVhZHkiXSwibWFwcGluZ3MiOiJhQUFBOzs7O0dBTUEsR0FBSUEscUJBQXVCLFNBQVNDLEVBQVQsQ0FBYSxDQUNwQztBQUNBLEdBQUlDLFFBQVMsS0FBYixDQUNBLEdBQUlDLGdCQUFpQixLQUFyQixDQUNBLEdBQUlDLGNBQWUsS0FBbkIsQ0FDQSxHQUFJQyxhQUFjLEVBQWxCLENBQ0E7QUFDQSxHQUFJQyxpQ0FBa0MsWUFBdEMsQ0FDQSxHQUFJQyxPQUFKLENBQ0EsR0FBSUMsT0FBUSxLQUFaLENBRUEsUUFBU0MsU0FBVCxDQUFrQkMsT0FBbEIsQ0FBMkIsQ0FDdkIsR0FBR0YsS0FBSCxDQUFVLENBQ05HLFFBQVFDLEdBQVIsQ0FBWUYsT0FBWixDQUNILENBQ0osRUFFRCxRQUFTRyxVQUFULEVBQXFCLENBQ2pCLEdBQUcsTUFBT04sT0FBUCxHQUFrQixXQUFyQixDQUFrQyxDQUM5QkEsT0FBT08sUUFBUCxDQUFnQixlQUFoQixFQUFpQ0MsV0FBakMsRUFDSCxDQUNKLEVBRUQsUUFBU0MsY0FBVCxFQUF5QixDQUNy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ZmlsZSI6ImNvbW1vbi9jb29raWUtY29uc2VudC5qcyIsInNvdXJjZVJvb3QiOiIvYXNzZXRzL2pzLyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuKiAgVUktUkVGQUNUT1JFRFxuKiAgICBGUk9NIC0tPiAuL2xlZ2FjeS13ZWIvc3JjL21haW4vanMvYXBwcy9jb21tb24vanMvY29va2llY29uc2VudC5qc1xuKiAgICBUTyAgIC0tPiAuL3dlYmFwcHMvc2hhcmVkLXdlYi9zcmMvbWFpbi9hc3NldHMvanMvY29tbW9uL2Nvb2tpZS1jb25zZW50LmpzXG4qKi9cblxudmFyIGNvb2tpZWNvbnNlbnRNb2R1bGUgPSAoZnVuY3Rpb24oJGopIHtcbiAgICAvL3ZhciBqUXVlcnlWZXJzaW9uQXJyYXkgPSAkai5mbi5qcXVlcnkuc3BsaXQoJy4nKTtcbiAgICB2YXIgbG9hZGVkID0gZmFsc2U7XG4gICAgdmFyIGpRdWVyeVVJTG9hZGVkID0gZmFsc2U7XG4gICAgdmFyIGFhVXRpbExvYWRlZCA9IGZhbHNlO1xuICAgIHZhciBtb2RhbExvY2FsZSA9ICcnO1xuICAgIC8vIHNldCB0byBwcm9kdWN0aW9uXG4gICAgdmFyIGhvc3ROYW1lRm9yQ29uc2VudENvb2tpZVNlcnZsZXQgPSAnd3d3LmFhLmNvbSc7XG4gICAgdmFyIGFhVXRpbDtcbiAgICB2YXIgREVCVUcgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIGRlYnVnTG9nKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYoREVCVUcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGhpZGVNb2RhbCgpIHtcbiAgICAgICAgaWYodHlwZW9mIGFhVXRpbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGFhVXRpbC5hYURpYWxvZygnY29va2llQ29uc2VudCcpLmNsb3NlRGlhbG9nKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gZ2V0Q29uc2VudFVybCgpIHtcbiAgICAgICAgdmFyIGNvbnNlbnRVcmwgPSBnZXREb21haW5VcmwoKSArICcvc2hhcmVkL2Nvb2tpZUNvbnNlbnQnO1xuXG4gICAgICAgIGlmKG1vZGFsTG9jYWxlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnNlbnRVcmwgPSBjb25zZW50VXJsICsgJz9sb2NhbGU9JyArIG1vZGFsTG9jYWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVidWdMb2cobW9kYWxMb2NhbGUpO1xuICAgICAgICBkZWJ1Z0xvZygnY29uc2VudFVybDogJyArIGNvbnNlbnRVcmwpO1xuXG4gICAgICAgIHJldHVybiBjb25zZW50VXJsO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBiaW5kRXZlbnRzKCkge1xuICAgICAgICAvLyBJbml0aWFsaXplIGFhX1V0aWxpdGllcyBvYmplY3RcbiAgICAgICAgYWFVdGlsID0gbmV3IGFhX1V0aWxpdGllcygpO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgYWNjZXB0IGJ1dHRvblxuICAgICAgICB2YXIgYnV0dG9uVGV4dCA9ICdJIGFjY2VwdCc7XG5cbiAgICAgICAgaWYodHlwZW9mIGFjY2VwdENvb2tpZUNvbnNlbnRUZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgYnV0dG9uVGV4dCA9IGFjY2VwdENvb2tpZUNvbnNlbnRUZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IGJ1dHRvbnMgaWYgbmVlZGVkXG4gICAgICAgIHZhciBidG5BcnJheSA9IG5ldyBBcnJheSgpO1xuICAgICAgICBidG5BcnJheVswXSA9IHtcbiAgICAgICAgICAgIG5hbWU6IGJ1dHRvblRleHQsXG4gICAgICAgICAgICBpZDogJ2Nvb2tpZUNvbnNlbnRBY2NlcHQnLFxuICAgICAgICAgICAgY3NzQ2xhc3M6ICdidG4nLFxuICAgICAgICAgICAgY2xvc2VEaWFsb2c6IHRydWUsXG4gICAgICAgICAgICBjYWxsYmFjazogaGFuZGxlQ29va2llQ29uc2VudEFjY2VwdFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgYW5kIHNldCB0aGUgb3ZlcmxheVxuICAgICAgICBhYVV0aWwuYWFEaWFsb2coJ2Nvb2tpZUNvbnNlbnQnLCB7XG4gICAgICAgICAgICB3aWR0aDogNTc1LFxuICAgICAgICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICBidXR0b25zOiBidG5BcnJheSxcbiAgICAgICAgICAgIHRvZ2dsZVNjcm9sbDogZmFsc2UsXG4gICAgICAgICAgICBzaG93Q2xvc2U6IGZhbHNlLFxuICAgICAgICAgICAgY2xvc2VPbkVzY2FwZTogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaGFuZGxlcyBvbGRlciB2ZXJzaW9uIG9mIGpRdWVyeSBiZWZvcmUgZGVsZWdhdGUgZXhpc3RzXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZigkai5pc0Z1bmN0aW9uKCRqKCdib2R5JykuZGVsZWdhdGUpKSB7XG4gICAgICAgICAgICAgICAgJGooJ2JvZHknKS5kZWxlZ2F0ZSgnI2Nvb2tpZUNvbnNlbnRQb2xpY3lMaW5rJywgJ2NsaWNrJywgY29va2llUG9saWN5Q2xpY2tIYW5kbGVyKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICRqKCcjY29va2llQ29uc2VudFBvbGljeUxpbmsnKS5vbignY2xpY2snLCBjb29raWVQb2xpY3lDbGlja0hhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGhpZGVNb2RhbCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NKU09OKHJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBqc29uUmVzcG9uc2U7XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgalF1ZXJ5LnBhcnNlSlNPTiBpcyBhIGZ1bmN0aW9uLCBlbHNlIGl0IGlzIGpRdWVyeSB2IDEuMy4yXG4gICAgICAgIGlmKCRqLmlzRnVuY3Rpb24oJGoucGFyc2VKU09OKSkge1xuICAgICAgICAgICAganNvblJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgIH1lbHNlIGlmKCRqLmlzRnVuY3Rpb24oSlNPTi5wYXJzZSkpIHtcbiAgICAgICAgICAgIGpzb25SZXNwb25zZSA9IEpTT04ucGFyc2UocmVzcG9uc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVidWdMb2coJ2pzb25SZXNwb25zZS5kaXNwbGF5RmxhZzogJyArIGpzb25SZXNwb25zZS5kaXNwbGF5RmxhZyk7XG4gICAgICAgIC8vIGRlYnVnTG9nKFwianNvblJlc3BvbnNlLmh0bWxUZXh0OiBcIiArIGpzb25SZXNwb25zZS5odG1sVGV4dCk7XG5cbiAgICAgICAgLy8gZGlzcGxheS9oaWRlIG1vZGFsXG4gICAgICAgIGlmKGpzb25SZXNwb25zZS5kaXNwbGF5RmxhZyA9PT0gJzEnKSB7XG4gICAgICAgICAgICAvLyBhcHBlbmQgaXQgdG8gYm9keVxuICAgICAgICAgICAgJGooJ2JvZHknKS5hcHBlbmQoanNvblJlc3BvbnNlLmh0bWxUZXh0KTtcblxuICAgICAgICAgICAgLy8gYmluZCBldmVudHNcbiAgICAgICAgICAgIGJpbmRFdmVudHMoKTtcblxuICAgICAgICAgICAgc2hvd01vZGFsKCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgaGlkZU1vZGFsKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2hvd01vZGFsKCkge1xuICAgICAgICBhYVV0aWwuYWFEaWFsb2coJ2Nvb2tpZUNvbnNlbnQnKS5vcGVuRGlhbG9nKCk7XG4gICAgICAgICRqKCcjY29va2llQ29uc2VudERpYWxvZycpLnBhcmVudCgpLmZpbmQoJy51aS1kaWFsb2ctdGl0bGViYXInKS5jc3MoJ21hcmdpbkJvdHRvbScsIDE1ICsgJ3B4Jyk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIG1ha2VDb3JzUmVxdWVzdChtZXRob2QsIHZhbHVlKSB7XG4gICAgICAgIGRlYnVnTG9nKCd2YWx1ZTogJyArIHZhbHVlKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICRqLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICBjYWNoZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgdXJsOiBnZXRDb25zZW50VXJsKCksXG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU6ICd0ZXh0L3BsYWluJyxcbiAgICAgICAgICAgICAgICB4aHJGaWVsZHM6IHtcbiAgICAgICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjcm9zc0RvbWFpbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIG9sZGVyIHZlcnNpb25zIG9mIGpRdWVyeVxuICAgICAgICAgICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgZGVidWdMb2coJ2JlZm9yZVNlbmQgLSB2YWx1ZTogJyArIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ2NvbnNlbnRjb29raWVoZWFkZXInLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdYLVJlcXVlc3RlZC1XaXRoJywgJ1hNTEh0dHBSZXF1ZXN0Jyk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbih4aHIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYobWV0aG9kID09PSAnR0VUJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0pTT04oeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z0xvZygnVGhlcmUgaXMgYW4gZXJyb3InKTtcbiAgICAgICAgICAgICAgICAgICAgaGlkZU1vZGFsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1jYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBkZWJ1Z0xvZyhlcnIpO1xuICAgICAgICAgICAgaGlkZU1vZGFsKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0NvbnNlbnQoKSB7XG4gICAgICAgIGRlYnVnTG9nKCdwcm9jZXNzQ29uc2VudC4uJyk7XG4gICAgICAgIGRlYnVnTG9nKCckai5mbi5qcXVlcnk6ICcgKyAkai5mbi5qcXVlcnkpO1xuICAgICAgICBkZWJ1Z0xvZygnJGoudWkudmVyc2lvbjogJyArICRqLnVpLnZlcnNpb24pO1xuICAgICAgICBtYWtlQ29yc1JlcXVlc3QoJ0dFVCcpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBzZXRDb25zZW50KHZhbHVlKSB7XG4gICAgICAgIG1ha2VDb3JzUmVxdWVzdCgnUFVUJywgdmFsdWUgPyAnMScgOiAnMCcpO1xuICAgIH07XG5cbiAgICAvLyBAVE9ETyAtIFNSTCAtIHZlcmlmeSB0aGlzIGZ1bmN0aW9uIGlzIGV2ZW4gbmVjZXNzYXJ5IGZvciBnZXRDb25zZW50VXJsIGZ1bmN0aW9uXG4gICAgZnVuY3Rpb24gZ2V0RG9tYWluVXJsKCkge1xuICAgICAgICB2YXIgZG9tYWluVXJsO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgY1Byb3RvID0gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgPT0gJ2h0dHBzOicgPyAnaHR0cHM6Ly8nIDogJ2h0dHA6Ly8nO1xuXG4gICAgICAgICAgICBpZihsb2NhdGlvbi5wb3J0ICE9IG51bGwgJiYgbG9jYXRpb24ucG9ydC5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCkuaW5kZXhPZignbG9jYWxob3N0JykgPiAtMSkge1xuICAgICAgICAgICAgICAgIC8vIGZvciBsb2NhbCBlbnZcbiAgICAgICAgICAgICAgICBkb21haW5VcmwgPSBjUHJvdG8gKyB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgKyAnOicgKyBsb2NhdGlvbi5wb3J0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBkb21haW5VcmwgPSBjUHJvdG8gKyBob3N0TmFtZUZvckNvbnNlbnRDb29raWVTZXJ2bGV0OyAvLyBwcm9kLCBpbnRlcm5hdGlvbmFsIGFuZCBsb3dlciBlbnZpcm9ubWVudHNcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVidWdMb2coJ2RvbWFpblVybDogJyArIGRvbWFpblVybCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2hcbiAgICAgICAgICAgIChlcnIpIHtcbiAgICAgICAgICAgIGRlYnVnTG9nKGVycik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZG9tYWluVXJsO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRBQVV0aWxzKCkge1xuICAgICAgICAvL3ZhciBhYVV0aWxpdGllc0xvY2F0aW9uO1xuXG4gICAgICAgIGlmKHR5cGVvZiBhYV9VdGlsaXRpZXMgPT09ICd1bmRlZmluZWQnICYmICFhYVV0aWxMb2FkZWQpIHtcbiAgICAgICAgICAgIC8vIGRldGVybWluZSB3aGljaCB2ZXJzaW9uIHdlIG5lZWQgdG8gZ2V0XG4gICAgICAgICAgICAvKmlmKGpRdWVyeVZlcnNpb25BcnJheS5sZW5ndGggPiAyICYmIGpRdWVyeVZlcnNpb25BcnJheVswXSA9PT0gJzEnICYmIGpRdWVyeVZlcnNpb25BcnJheVsxXSA+IDQpIHtcbiAgICAgICAgICAgICAgICBhYVV0aWxpdGllc0xvY2F0aW9uID0gJy9hc3NldHMvanMvbGVnYWN5L3V0aWxpdGllcy9hYS11dGlsaXRpZXMtMi4xLm1pbi5qcyc7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBhYVV0aWxpdGllc0xvY2F0aW9uID0gJy9hc3NldHMvanMvbGVnYWN5L3V0aWxpdGllcy9hYS11dGlsaXRpZXMubWluLmpzJztcbiAgICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgICAvLyBnZXQgYWFfVXRpbGl0aWVzXG4gICAgICAgICAgICB2YXIgYWFVdGlsaXRpZXNVcmwgPSBnZXREb21haW5VcmwoKSArICcvYXNzZXRzL2pzL2xlZ2FjeS91dGlsaXRpZXMvYWEtdXRpbGl0aWVzLTIuMS5taW4uanMnO1xuICAgICAgICAgICAgZGVidWdMb2coJ2FhVXRpbGl0aWVzVXJsOiAnICsgYWFVdGlsaXRpZXNVcmwpO1xuXG4gICAgICAgICAgICBsb2FkU2NyaXB0KGFhVXRpbGl0aWVzVXJsLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBhYVV0aWxMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGRlYnVnTG9nKCdnb3QgYWFfVXRpbGl0aWVzIGF0OiAnICsgYWFVdGlsaXRpZXNVcmwpO1xuXG4gICAgICAgICAgICAgICAgLy8gc3RhcnRcbiAgICAgICAgICAgICAgICBwcm9jZXNzQ29uc2VudCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgLy8gc3RhcnQgcHJvY2Vzc1xuICAgICAgICAgICAgYWFVdGlsTG9hZGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gc3RhcnRcbiAgICAgICAgICAgIHByb2Nlc3NDb25zZW50KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY2hlY2tQcmVyZXF1aXNpdGVBbmRTdGFydFByb2Nlc3MoKSB7XG4gICAgICAgIGlmKHR5cGVvZiBqUXVlcnkudWkgPT09ICd1bmRlZmluZWQnICYmICFqUXVlcnlVSUxvYWRlZCkge1xuICAgICAgICAgICAgZ2V0alF1ZXJ5VUkoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAvLyBnZXRBQVV0aWxzXG4gICAgICAgICAgICBqUXVlcnlVSUxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICBnZXRBQVV0aWxzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gbG9hZFNjcmlwdCh1cmwsIGNhbGxiYWNrKSB7XG4gICAgICAgICRqLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ3NjcmlwdCcsXG4gICAgICAgICAgICBzdWNjZXNzOiBjYWxsYmFjayxcbiAgICAgICAgICAgIGFzeW5jOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBnZXRqUXVlcnlVSSgpIHtcbiAgICAgICAgLyp2YXIgalF1ZXJ5VUlMb2NhdGlvbjtcblxuICAgICAgICAvLyBkZXRlcm1pbmUgd2hpY2ggdmVyc2lvbiB3ZSBuZWVkIHRvIGdldC4gR3JlYXRlciB0aGFuIDQsIGVxdWFsIDQgb3IgbGVzcyB0aGFuIDRcbiAgICAgICAgaWYoalF1ZXJ5VmVyc2lvbkFycmF5Lmxlbmd0aCA+IDIgJiYgalF1ZXJ5VmVyc2lvbkFycmF5WzBdID09PSAnMScgJiYgalF1ZXJ5VmVyc2lvbkFycmF5WzFdID4gNCkge1xuICAgICAgICAgICAgalF1ZXJ5VUlMb2NhdGlvbiA9ICcvanMvbGlicy9qcXVlcnkvdWkvMS4xMC9qcXVlcnktdWkubWluLmpzJztcbiAgICAgICAgfWVsc2UgaWYoalF1ZXJ5VmVyc2lvbkFycmF5Lmxlbmd0aCA+IDIgJiYgalF1ZXJ5VmVyc2lvbkFycmF5WzBdID09PSAnMScgJiYgalF1ZXJ5VmVyc2lvbkFycmF5WzFdID09PSAnNCcpIHtcbiAgICAgICAgICAgIGpRdWVyeVVJTG9jYXRpb24gPSAnL2FwcHMvY29tbW9uL2pzL2pxdWVyeS91aS8xLjgvanF1ZXJ5LXVpLTEuOC4yLmN1c3RvbS5taW4uanMnO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGpRdWVyeVVJTG9jYXRpb24gPSAnL2FwcHMvY29tbW9uL2pzL2pxdWVyeS91aS9qcXVlcnktdWktMS43LjIuY3VzdG9tLm1pbi5qcyc7XG4gICAgICAgIH0qL1xuXG4gICAgICAgIC8vIGdldCBhYV9VdGlsaXRpZXNcbiAgICAgICAgdmFyIGpRdWVyeVVJVXJsID0gZ2V0RG9tYWluVXJsKCkgKyAnL2Fzc2V0cy9qcy92ZW5kb3IvanF1ZXJ5LXVpLm1pbi5qcyc7XG4gICAgICAgIGxvYWRTY3JpcHQoalF1ZXJ5VUlVcmwsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZGVidWdMb2coJ2dvdCBqUXVlcnlVSSBhdDogJyArIGpRdWVyeVVJVXJsKTtcbiAgICAgICAgICAgIGpRdWVyeVVJTG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGdldEFBVXRpbHMoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNvb2tpZVBvbGljeUNsaWNrSGFuZGxlcigpIHtcbiAgICAgICAgJGooJyNjb29raWVDb25zZW50UG9saWN5JykudG9nZ2xlQ2xhc3MoJ2lzLWhpZGRlbicpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVDb29raWVDb25zZW50QWNjZXB0KCkge1xuICAgICAgICBzZXRDb25zZW50KHRydWUpO1xuICAgICAgICBoaWRlTW9kYWwoKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2V0TW9kYWxMb2NhbGUobG9jYWxlKSB7XG4gICAgICAgIG1vZGFsTG9jYWxlID0gbG9jYWxlO1xuICAgICAgICBkZWJ1Z0xvZygnbW9kYWwgbG9jYWxlOiAnICsgbG9jYWxlKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc2V0Q29uc2VudFNlcnZsZXRIb3N0KGhvc3ROYW1lKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZih0eXBlb2YgaG9zdE5hbWUgIT09ICd1bmRlZmluZWQnICYmIGhvc3ROYW1lLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUudG9Mb3dlckNhc2UoKS5pbmRleE9mKCd3d3cuYWEuY29tJykgPCAwKSB7XG4gICAgICAgICAgICAgICAgaG9zdE5hbWVGb3JDb25zZW50Q29va2llU2VydmxldCA9IGhvc3ROYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9Y2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVidWdMb2coJ2hvc3ROYW1lRm9yQ29uc2VudENvb2tpZVNlcnZsZXQ6ICcgKyBob3N0TmFtZSk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoaXMgc2NyaXB0IGhhcyBiZWVuIGxvYWRlZCBzb21lIHdoZXJlIGVsc2UgYmVmb3JlXG4gICAgICAgICAgICBpZihsb2FkZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgbG9hZGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgcHJlcmVxIGFuZCBzdGFydCB0aGUgcHJvY2Vzc1xuICAgICAgICAgICAgICAgICAgICBjaGVja1ByZXJlcXVpc2l0ZUFuZFN0YXJ0UHJvY2VzcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnTG9nKGVycik7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVNb2RhbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzZXRMb2NhbGU6IHNldE1vZGFsTG9jYWxlLFxuICAgICAgICBzZXRTZXJ2aWNlSG9zdDogc2V0Q29uc2VudFNlcnZsZXRIb3N0XG4gICAgfTtcbn0pKGpRdWVyeSk7XG5cbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgY29va2llY29uc2VudE1vZHVsZS5zdGFydCgpO1xufSk7XG4iXX0=
//# sourceMappingURL=cookie-consent.min.js.map
