'use strict';/**
*  UI-REFACTORED
*    FROM --> ./legacy-web/src/main/js/js/aa/modules/ajax.js
*    TO   --> ./webapps/shared-web/src/main/assets/js/modules/ajax.js
**//* A module that houses several ajax js utilities */AAcom.modules.ajax=function(AAUI){AAUI.ajaxInProgress=false;AAUI.ajaxRequest=function(options){var defaults={url:'',type:'GET',data:'',dataType:'html',async:true,cache:false,timeout:30000,form:'',showBusy:true,showSpinner:false,updateContainer:'',busyContainer:undefined,busyMessage:'',parallelCall:false,onBeforeSend:function onBeforeSend(){},onError:undefined,onSuccess:function onSuccess(){},onComplete:function onComplete(){}},form=_getFormDetails(options),settings=$j.extend({},defaults,form,options);if((!AAUI.ajaxInProgress||settings.parallelCall)&&settings.url!==''){if(settings.dataType==='json'){settings.contentType='application/json';if(typeof settings.data!=='string'){settings.data=JSON.stringify(settings.data)}}settings=$j.extend(settings,{beforeSend:function beforeSend(){AAUI.ajaxInProgress=true;if(settings.showBusy){settings.busyContainer=settings.busyContainer||settings.updateContainer;$j(settings.busyContainer).aaBusy({message:settings.busyMessage}).start()}settings.onBeforeSend()},success:function success(response,statusText,xhr){AAUI.sessionTimeOutDialog.resetTimersToContinue();if(!_errorHandler(xhr,statusText,settings)){if(settings.dataType==='html'){$j(settings.updateContainer).empty().html(xhr.responseText)}settings.onSuccess(response,statusText,xhr)}},error:function error(xhr,statusText){AAUI.sessionTimeOutDialog.resetTimersToContinue();_errorHandler(xhr,statusText,settings)},complete:function complete(xhr,statusText){if(settings.showBusy&&!settings.showSpinner){$j(settings.busyContainer).aaBusy().stop()}AAUI.ajaxInProgress=false;settings.onComplete(xhr,statusText)}});$j.ajax(settings)}};var _getFormDetails=function _getFormDetails(options){var $form=$j(options.form),details;if($form.length>0){details={url:$form.attr('action'),type:$form.attr('method'),data:options.dataType==='json'?$form.serializeObject():$form.serialize()}}return details};var _errorHandler=function _errorHandler(xhr,statusText,settings){if(statusText!=='success'){if(settings.onError!==undefined){settings.onError(xhr,statusText)}else{var $htmlResponse=$j(xhr.responseText);if(statusText==='timeout'||xhr.responseText==='invalidState'||$htmlResponse.find('.js-invalidState').length>0){top.location.href='/error/invalid-state';return true}else if(statusText==='error'||xhr.responseText==='systemError'||$htmlResponse.find('.js-systemError').length>0){top.location.href='/error/system-trouble';return true}}}return false}};/*--------------------------------*\
    Format Form elements as JSON
\*--------------------------------*/if(!$j.isFunction($j.fn.serializeObject)){$j.fn.serializeObject=function(){var o={};var a=this.serializeArray();$j.each(a,function(){if(o[this.name]){if(!o[this.name].push){o[this.name]=[o[this.name]]}o[this.name].push(this.value||'')}else{o[this.name]=this.value||''}});return o}}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvYWpheC5qcyJdLCJuYW1lcyI6WyJBQWNvbSIsIm1vZHVsZXMiLCJhamF4IiwiQUFVSSIsImFqYXhJblByb2dyZXNzIiwiYWpheFJlcXVlc3QiLCJvcHRpb25zIiwiZGVmYXVsdHMiLCJ1cmwiLCJ0eXBlIiwiZGF0YSIsImRhdGFUeXBlIiwiYXN5bmMiLCJjYWNoZSIsInRpbWVvdXQiLCJmb3JtIiwic2hvd0J1c3kiLCJzaG93U3Bpbm5lciIsInVwZGF0ZUNvbnRhaW5lciIsImJ1c3lDb250YWluZXIiLCJ1bmRlZmluZWQiLCJidXN5TWVzc2FnZSIsInBhcmFsbGVsQ2FsbCIsIm9uQmVmb3JlU2VuZCIsIm9uRXJyb3IiLCJvblN1Y2Nlc3MiLCJvbkNvbXBsZXRlIiwiX2dldEZvcm1EZXRhaWxzIiwic2V0dGluZ3MiLCIkaiIsImV4dGVuZCIsImNvbnRlbnRUeXBlIiwiSlNPTiIsInN0cmluZ2lmeSIsImJlZm9yZVNlbmQiLCJhYUJ1c3kiLCJtZXNzYWdlIiwic3RhcnQiLCJzdWNjZXNzIiwicmVzcG9uc2UiLCJzdGF0dXNUZXh0IiwieGhyIiwic2Vzc2lvblRpbWVPdXREaWFsb2ciLCJyZXNldFRpbWVyc1RvQ29udGludWUiLCJfZXJyb3JIYW5kbGVyIiwiZW1wdHkiLCJodG1sIiwicmVzcG9uc2VUZXh0IiwiZXJyb3IiLCJjb21wbGV0ZSIsInN0b3AiLCIkZm9ybSIsImRldGFpbHMiLCJsZW5ndGgiLCJhdHRyIiwic2VyaWFsaXplT2JqZWN0Iiwic2VyaWFsaXplIiwiJGh0bWxSZXNwb25zZSIsImZpbmQiLCJ0b3AiLCJsb2NhdGlvbiIsImhyZWYiLCJpc0Z1bmN0aW9uIiwiZm4iLCJvIiwiYSIsInNlcmlhbGl6ZUFycmF5IiwiZWFjaCIsIm5hbWUiLCJwdXNoIiwidmFsdWUiXSwibWFwcGluZ3MiOiJhQUFBOzs7O0dBTUEsb0RBRUFBLE1BQU1DLE9BQU4sQ0FBY0MsSUFBZCxDQUFxQixTQUFTQyxJQUFULENBQWUsQ0FFaENBLEtBQUtDLGNB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VSxjQUFjQyxJQUFkLENBQW1CLGlCQUFuQixFQUFzQ0wsTUFBdEMsQ0FBK0MsQ0FBbkgsQ0FBc0gsQ0FDekhNLElBQUlDLFFBQUosQ0FBYUMsSUFBYixDQUFvQix1QkFBcEIsQ0FDQSxNQUFPLEtBQ1YsQ0FDSixDQUNKLENBQ0QsTUFBTyxNQUNWLENBQ0osQ0EvRkQsQ0FpR0E7O29DQUdBLEdBQUksQ0FBQ2hDLEdBQUdpQyxVQUFILENBQWNqQyxHQUFHa0MsRUFBSCxDQUFNUixlQUFwQixDQUFMLENBQTJDLENBQ3ZDMUIsR0FBR2tDLEVBQUgsQ0FBTVIsZUFBTixDQUF3QixVQUFXLENBQy9CLEdBQUlTLEdBQUksRUFBUixDQUNBLEdBQUlDLEdBQUksS0FBS0MsY0FBTCxFQUFSLENBQ0FyQyxHQUFHc0MsSUFBSCxDQUFRRixDQUFSLENBQVcsVUFBVyxDQUNsQixHQUFJRCxFQUFFLEtBQUtJLElBQVAsQ0FBSixDQUFrQixDQUNkLEdBQUksQ0FBQ0osRUFBRSxLQUFLSSxJQUFQLEVBQWFDLElBQWxCLENBQXdCLENBQ3BCTCxFQUFFLEtBQUtJLElBQVAsRUFBZSxDQUFDSixFQUFFLEtBQUtJLElBQVAsQ0FBRCxDQUNsQixDQUNESixFQUFFLEtBQUtJLElBQVAsRUFBYUMsSUFBYixDQUFrQixLQUFLQyxLQUFMLEVBQWMsRUFBaEMsQ0FDSCxDQUxELElBS08sQ0FDSE4sRUFBRSxLQUFLSSxJQUFQLEVBQWUsS0FBS0UsS0FBTCxFQUFjLEVBQ2hDLENBQ0osQ0FURCxFQVVBLE1BQU9OLEVBQ1YsQ0FDSiIsImZpbGUiOiJtb2R1bGVzL2FqYXguanMiLCJzb3VyY2VSb290IjoiL2Fzc2V0cy9qcy8iLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiogIFVJLVJFRkFDVE9SRURcbiogICAgRlJPTSAtLT4gLi9sZWdhY3ktd2ViL3NyYy9tYWluL2pzL2pzL2FhL21vZHVsZXMvYWpheC5qc1xuKiAgICBUTyAgIC0tPiAuL3dlYmFwcHMvc2hhcmVkLXdlYi9zcmMvbWFpbi9hc3NldHMvanMvbW9kdWxlcy9hamF4LmpzXG4qKi9cblxuLyogQSBtb2R1bGUgdGhhdCBob3VzZXMgc2V2ZXJhbCBhamF4IGpzIHV0aWxpdGllcyAqL1xuXG5BQWNvbS5tb2R1bGVzLmFqYXggPSBmdW5jdGlvbihBQVVJKSB7XG4gICAgXG4gICAgQUFVSS5hamF4SW5Qcm9ncmVzcyA9IGZhbHNlO1xuICAgIEFBVUkuYWpheFJlcXVlc3QgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICB1cmw6ICcnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGRhdGE6ICcnLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnaHRtbCcsXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDMwMDAwLFxuICAgICAgICAgICAgICAgIGZvcm06ICcnLFxuICAgICAgICAgICAgICAgIHNob3dCdXN5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTcGlubmVyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB1cGRhdGVDb250YWluZXI6ICcnLFxuICAgICAgICAgICAgICAgIGJ1c3lDb250YWluZXI6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBidXN5TWVzc2FnZTogJycsXG4gICAgICAgICAgICAgICAgcGFyYWxsZWxDYWxsOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvbkJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge30sXG4gICAgICAgICAgICAgICAgb25FcnJvcjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24oKSB7fSxcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHt9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9ybSA9IF9nZXRGb3JtRGV0YWlscyhvcHRpb25zKSxcbiAgICAgICAgICAgIHNldHRpbmdzID0gJGouZXh0ZW5kKHt9LCBkZWZhdWx0cywgZm9ybSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBcbiAgICAgICAgaWYgKCghQUFVSS5hamF4SW5Qcm9ncmVzcyB8fCBzZXR0aW5ncy5wYXJhbGxlbENhbGwpICYmIHNldHRpbmdzLnVybCAhPT0gJycpIHtcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5kYXRhVHlwZSA9PT0gJ2pzb24nKSB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuY29udGVudFR5cGUgPSBcImFwcGxpY2F0aW9uL2pzb25cIjtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHNldHRpbmdzLmRhdGEpICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmRhdGEgPSBKU09OLnN0cmluZ2lmeShzZXR0aW5ncy5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXR0aW5ncyA9ICRqLmV4dGVuZChzZXR0aW5ncywge1xuICAgICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBBQVVJLmFqYXhJblByb2dyZXNzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnNob3dCdXN5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5idXN5Q29udGFpbmVyID0gc2V0dGluZ3MuYnVzeUNvbnRhaW5lciB8fCBzZXR0aW5ncy51cGRhdGVDb250YWluZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaihzZXR0aW5ncy5idXN5Q29udGFpbmVyKS5hYUJ1c3koe21lc3NhZ2U6c2V0dGluZ3MuYnVzeU1lc3NhZ2V9KS5zdGFydCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uQmVmb3JlU2VuZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UsIHN0YXR1c1RleHQsIHhocikge1xuICAgICAgICAgICAgICAgIFx0QUFVSS5zZXNzaW9uVGltZU91dERpYWxvZy5yZXNldFRpbWVyc1RvQ29udGludWUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfZXJyb3JIYW5kbGVyKHhociwgc3RhdHVzVGV4dCwgc2V0dGluZ3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MuZGF0YVR5cGUgPT09ICdodG1sJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRqKHNldHRpbmdzLnVwZGF0ZUNvbnRhaW5lcikuZW1wdHkoKS5odG1sKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25TdWNjZXNzKHJlc3BvbnNlLCBzdGF0dXNUZXh0LCB4aHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBzdGF0dXNUZXh0KSB7XG4gICAgICAgICAgICAgICAgXHRBQVVJLnNlc3Npb25UaW1lT3V0RGlhbG9nLnJlc2V0VGltZXJzVG9Db250aW51ZSgpO1xuICAgICAgICAgICAgICAgIFx0X2Vycm9ySGFuZGxlcih4aHIsIHN0YXR1c1RleHQsIHNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbih4aHIsc3RhdHVzVGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3Muc2hvd0J1c3kgJiYgIXNldHRpbmdzLnNob3dTcGlubmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkaihzZXR0aW5ncy5idXN5Q29udGFpbmVyKS5hYUJ1c3koKS5zdG9wKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIEFBVUkuYWpheEluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25Db21wbGV0ZSh4aHIsc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkai5hamF4KHNldHRpbmdzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIF9nZXRGb3JtRGV0YWlscyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyICRmb3JtID0gJGoob3B0aW9ucy5mb3JtKSwgZGV0YWlscztcbiAgICAgICAgaWYgKCRmb3JtLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGRldGFpbHMgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiAkZm9ybS5hdHRyKCdhY3Rpb24nKSxcbiAgICAgICAgICAgICAgICB0eXBlOiAkZm9ybS5hdHRyKCdtZXRob2QnKSxcbiAgICAgICAgICAgICAgICBkYXRhOiAob3B0aW9ucy5kYXRhVHlwZSA9PT0gJ2pzb24nKSA/ICRmb3JtLnNlcmlhbGl6ZU9iamVjdCgpIDogJGZvcm0uc2VyaWFsaXplKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRldGFpbHM7XG4gICAgfTtcbiAgICB2YXIgX2Vycm9ySGFuZGxlciA9IGZ1bmN0aW9uKHhociwgc3RhdHVzVGV4dCwgc2V0dGluZ3MpIHtcbiAgICAgICAgaWYgKHN0YXR1c1RleHQgIT09ICdzdWNjZXNzJykge1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzLm9uRXJyb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzLm9uRXJyb3IoeGhyLCBzdGF0dXNUZXh0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyICRodG1sUmVzcG9uc2UgPSAkaih4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzVGV4dCA9PT0gJ3RpbWVvdXQnIHx8IHhoci5yZXNwb25zZVRleHQgPT09ICdpbnZhbGlkU3RhdGUnIHx8ICRodG1sUmVzcG9uc2UuZmluZCgnLmpzLWludmFsaWRTdGF0ZScpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdG9wLmxvY2F0aW9uLmhyZWYgPSBcIi9lcnJvci9pbnZhbGlkLXN0YXRlXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzVGV4dCA9PT0gJ2Vycm9yJyB8fCB4aHIucmVzcG9uc2VUZXh0ID09PSAnc3lzdGVtRXJyb3InIHx8ICRodG1sUmVzcG9uc2UuZmluZCgnLmpzLXN5c3RlbUVycm9yJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0b3AubG9jYXRpb24uaHJlZiA9IFwiL2Vycm9yL3N5c3RlbS10cm91YmxlXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn07XG5cbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qXFxcbiAgICBGb3JtYXQgRm9ybSBlbGVtZW50cyBhcyBKU09OXG5cXCotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pZiAoISRqLmlzRnVuY3Rpb24oJGouZm4uc2VyaWFsaXplT2JqZWN0KSkge1xuICAgICRqLmZuLnNlcmlhbGl6ZU9iamVjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbyA9IHt9O1xuICAgICAgICB2YXIgYSA9IHRoaXMuc2VyaWFsaXplQXJyYXkoKTtcbiAgICAgICAgJGouZWFjaChhLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChvW3RoaXMubmFtZV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoIW9bdGhpcy5uYW1lXS5wdXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIG9bdGhpcy5uYW1lXSA9IFtvW3RoaXMubmFtZV1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlIHx8ICcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb1t0aGlzLm5hbWVdID0gdGhpcy52YWx1ZSB8fCAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvO1xuICAgIH07XG59XG4iXX0=
//# sourceMappingURL=ajax.min.js.map
