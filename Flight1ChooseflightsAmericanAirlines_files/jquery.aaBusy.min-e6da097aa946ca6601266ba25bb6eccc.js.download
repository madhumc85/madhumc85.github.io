"use strict";/**
*  UI-REFACTORED
*    FROM --> ./legacy-web/src/main/js/js/aa/plugins/jquery/aaBusy.js
*    TO   --> ./webapps/shared-web/src/main/assets/js/plugins/jquery.aaBusy.js
**//*------------------------------------*\
	aaBusy
\*------------------------------------*/(function($){$.fn.aaBusy=function(options){var self={},defaults={message:"",showlogo:true,position:undefined,form:""};self.settings=$.extend({},defaults,options);self.source=this;self.start=function(){var message,$this=$(self.source).filter(":first"),$module=$this.find("> .aa-busy-module"),$form=$(self.settings.form),condition=$this.length>0&&$module.length===0,$obj;if($device.mobileApp){$obj=$("<div class=\"aa-busy-module\"><div class=\"aa-busy-bg\"></div><div class=\"aa-busy-img\"><div><img alt=\"American Airlines\" src=\"/content/images/chrome/rebrand/icon_aa_spinner.png\"></div><p><span class=\"aa-busy-text\"></span></p><span class=\"aa-busy-spinner-app\" aria-hidden=\"true\"></span></div></div>")}else{$obj=$("<div class=\"aa-busy-module\"><div class=\"aa-busy-bg\"></div><div class=\"aa-busy-img\"><div><img alt=\"American Airlines\" class=\"aa-busy-logo\" src=\"/content/images/chrome/rebrand/aa-flight-icon.png\"></div><p><span class=\"aa-busy-text\"></span></p><span class=\"aa-busy-spinner\" aria-hidden=\"true\"></span></div></div>")}if(condition){$this.addClass("aa-busy");$this.addClass("is-busy");//set message
message=$this.attr("data-busy-message")||self.settings.message;if(message!==""){$obj.find(".aa-busy-text").html(message)}else{$obj.find(".aa-busy-text").remove()}//set logo
if(!self.settings.showlogo){$obj.find(".aa-busy-logo").remove()}//add module
$this.append($obj);//set position
var a=$this.find(".aa-busy-module").outerHeight(),b=$this.find(".aa-busy-img").outerHeight(),calc=(a-b)/(2*a)*100,pos=$this.data("busy-position")||self.settings.position||calc+"%";$this.find(".aa-busy-img").css("top",pos);$this.find(".aa-busy-text").attr("tabindex",-1).focus();//delay form submit: helps preloading images and on safari
if($form.length>0){setTimeout(function(){$form.submit()},500);$(window).on("unload",function(){});//disables bfcache for safari
}}return condition};self.stop=function(){var $this=$(self.source).filter(":first"),$module=$this.find("> .aa-busy-module"),condition=$this.length>0&&$module.length>0;if(condition){$module.animate({opacity:"hide"},500,function(){$module.remove();$this.removeClass("aa-busy");$this.removeClass("is-busy");if($("*:focus").length===0&&$this.hasClass("ui-dialog")){$this.find("h2").focus()}})}return condition};return self}})(jQuery);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBsdWdpbnMvanF1ZXJ5LmFhQnVzeS5qcyJdLCJuYW1lcyI6WyIkIiwiZm4iLCJhYUJ1c3kiLCJvcHRpb25zIiwic2VsZiIsImRlZmF1bHRzIiwibWVzc2FnZSIsInNob3dsb2dvIiwicG9zaXRpb24iLCJ1bmRlZmluZWQiLCJmb3JtIiwic2V0dGluZ3MiLCJleHRlbmQiLCJzb3VyY2UiLCJzdGFydCIsIiR0aGlzIiwiZmlsdGVyIiwiJG1vZHVsZSIsImZpbmQiLCIkZm9ybSIsImNvbmRpdGlvbiIsImxlbmd0aCIsIiRvYmoiLCIkZGV2aWNlIiwibW9iaWxlQXBwIiwiYWRkQ2xhc3MiLCJhdHRyIiwiaHRtbCIsInJlbW92ZSIsImFwcGVuZCIsImEiLCJvdXRlckhlaWdodCIsImIiLCJjYWxjIiwicG9zIiwiZGF0YSIsImNzcyIsImZvY3VzIiwic2V0VGltZW91dCIsInN1Ym1pdCIsIndpbmRvdyIsIm9uIiwic3RvcCIsImFuaW1hdGUiLCJvcGFjaXR5IiwicmVtb3ZlQ2xhc3MiLCJoYXNDbGFzcyIsImpRdWVyeSJdLCJtYXBwaW5ncyI6ImFBQUE7Ozs7R0FNQTs7d0NBR0EsQ0FBQyxTQUFTQSxDQUFULENBQVksQ0FDVEEsRUFBRUMsRUFBRixDQUFLQyxNQUFMLENBQWMsU0FBVUMsT0FBVixDQUFtQixDQUM3QixHQUFJQyxNQUFPLEVBQVgsQ0FDSUMsU0FBVyxDQUNQQyxRQUFTLEVBREYsQ0FFUEMsU0FBVSxJQUZILENBR1BDLFNBQVVDLFNBSEgsQ0FJUEMsS0FBTSxFQUpDLENBRGYsQ0FPQU4sS0FBS08sUUFBTCxDQUFnQlgsRUFBRVksTUFBRixDQUFTLEVBQVQsQ0FBYVAsUUFBYixDQUF1QkYsT0FBdkIsQ0FBaEIsQ0FDQUMsS0FBS1MsTUFBTCxDQUFjLElBQWQsQ0FDQVQsS0FBS1UsS0FBTCxDQUFhLFVBQVcsQ0FDcEIsR0FBSVIsUUFBSixDQUNJUyxNQUFRZixFQUFFSSxLQUFLUyxNQUFQLEVBQWVHLE1BQWYsQ0FBc0IsUUFBdEIsQ0FEWixDQUVJQyxR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UUgsQ0FDRCxNQUFPakIsVUFDVixDQWZELENBZ0JBLE1BQU9oQixLQUNWLENBQ0osQ0ExRUQsRUEwRUcyQyxNQTFFSCIsImZpbGUiOiJwbHVnaW5zL2pxdWVyeS5hYUJ1c3kuanMiLCJzb3VyY2VSb290IjoiL2Fzc2V0cy9qcy8iLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiogIFVJLVJFRkFDVE9SRURcbiogICAgRlJPTSAtLT4gLi9sZWdhY3ktd2ViL3NyYy9tYWluL2pzL2pzL2FhL3BsdWdpbnMvanF1ZXJ5L2FhQnVzeS5qc1xuKiAgICBUTyAgIC0tPiAuL3dlYmFwcHMvc2hhcmVkLXdlYi9zcmMvbWFpbi9hc3NldHMvanMvcGx1Z2lucy9qcXVlcnkuYWFCdXN5LmpzXG4qKi9cblxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qXFxcblx0YWFCdXN5XG5cXCotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuKGZ1bmN0aW9uKCQpIHtcbiAgICAkLmZuLmFhQnVzeSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIHZhciBzZWxmID0ge30sXG4gICAgICAgICAgICBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlwiLFxuICAgICAgICAgICAgICAgIHNob3dsb2dvOiB0cnVlLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgZm9ybTogXCJcIlxuICAgICAgICAgICAgfTtcbiAgICAgICAgc2VsZi5zZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgIHNlbGYuc291cmNlID0gdGhpcztcbiAgICAgICAgc2VsZi5zdGFydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgJHRoaXMgPSAkKHNlbGYuc291cmNlKS5maWx0ZXIoJzpmaXJzdCcpLFxuICAgICAgICAgICAgICAgICRtb2R1bGUgPSAkdGhpcy5maW5kKCc+IC5hYS1idXN5LW1vZHVsZScpLFxuICAgICAgICAgICAgICAgICRmb3JtID0gJChzZWxmLnNldHRpbmdzLmZvcm0pLFxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbiA9ICgkdGhpcy5sZW5ndGggPiAwICYmICRtb2R1bGUubGVuZ3RoID09PSAwKSxcbiAgICAgICAgICAgICAgICAkb2JqO1xuICAgICAgICAgICAgICAgIGlmICgkZGV2aWNlLm1vYmlsZUFwcCl7XG4gICAgICAgICAgICAgICAgICAgICRvYmogPSAkKCc8ZGl2IGNsYXNzPVwiYWEtYnVzeS1tb2R1bGVcIj48ZGl2IGNsYXNzPVwiYWEtYnVzeS1iZ1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJhYS1idXN5LWltZ1wiPjxkaXY+PGltZyBhbHQ9XCJBbWVyaWNhbiBBaXJsaW5lc1wiIHNyYz1cIi9jb250ZW50L2ltYWdlcy9jaHJvbWUvcmVicmFuZC9pY29uX2FhX3NwaW5uZXIucG5nXCI+PC9kaXY+PHA+PHNwYW4gY2xhc3M9XCJhYS1idXN5LXRleHRcIj48L3NwYW4+PC9wPjxzcGFuIGNsYXNzPVwiYWEtYnVzeS1zcGlubmVyLWFwcFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvc3Bhbj48L2Rpdj48L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgJG9iaiA9ICQoJzxkaXYgY2xhc3M9XCJhYS1idXN5LW1vZHVsZVwiPjxkaXYgY2xhc3M9XCJhYS1idXN5LWJnXCI+PC9kaXY+PGRpdiBjbGFzcz1cImFhLWJ1c3ktaW1nXCI+PGRpdj48aW1nIGFsdD1cIkFtZXJpY2FuIEFpcmxpbmVzXCIgY2xhc3M9XCJhYS1idXN5LWxvZ29cIiBzcmM9XCIvY29udGVudC9pbWFnZXMvY2hyb21lL3JlYnJhbmQvYWEtZmxpZ2h0LWljb24ucG5nXCI+PC9kaXY+PHA+PHNwYW4gY2xhc3M9XCJhYS1idXN5LXRleHRcIj48L3NwYW4+PC9wPjxzcGFuIGNsYXNzPVwiYWEtYnVzeS1zcGlubmVyXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPjwvZGl2PjwvZGl2PicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygnYWEtYnVzeScpO1xuICAgICAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCdpcy1idXN5Jyk7XG4gICAgICAgICAgICAgICAgLy9zZXQgbWVzc2FnZVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAkdGhpcy5hdHRyKCdkYXRhLWJ1c3ktbWVzc2FnZScpIHx8IHNlbGYuc2V0dGluZ3MubWVzc2FnZTtcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgJG9iai5maW5kKCcuYWEtYnVzeS10ZXh0JykuaHRtbChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkb2JqLmZpbmQoJy5hYS1idXN5LXRleHQnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9zZXQgbG9nb1xuICAgICAgICAgICAgICAgIGlmICghc2VsZi5zZXR0aW5ncy5zaG93bG9nbykge1xuICAgICAgICAgICAgICAgICAgICAkb2JqLmZpbmQoJy5hYS1idXN5LWxvZ28nKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9hZGQgbW9kdWxlXG4gICAgICAgICAgICAgICAgJHRoaXMuYXBwZW5kKCRvYmopO1xuICAgICAgICAgICAgICAgIC8vc2V0IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgdmFyIGEgPSAkdGhpcy5maW5kKCcuYWEtYnVzeS1tb2R1bGUnKS5vdXRlckhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICBiID0gJHRoaXMuZmluZCgnLmFhLWJ1c3ktaW1nJykub3V0ZXJIZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgY2FsYyA9ICgoYS1iKS8oMiphKSkqMTAwLFxuICAgICAgICAgICAgICAgICAgICBwb3MgPSAkdGhpcy5kYXRhKCdidXN5LXBvc2l0aW9uJykgfHwgc2VsZi5zZXR0aW5ncy5wb3NpdGlvbiB8fCBjYWxjKyclJztcbiAgICAgICAgICAgICAgICAkdGhpcy5maW5kKCcuYWEtYnVzeS1pbWcnKS5jc3MoJ3RvcCcscG9zKTtcbiAgICAgICAgICAgICAgICAkdGhpcy5maW5kKCcuYWEtYnVzeS10ZXh0JykuYXR0cigndGFiaW5kZXgnLC0xKS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIC8vZGVsYXkgZm9ybSBzdWJtaXQ6IGhlbHBzIHByZWxvYWRpbmcgaW1hZ2VzIGFuZCBvbiBzYWZhcmlcbiAgICAgICAgICAgICAgICBpZiAoJGZvcm0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRmb3JtLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgICAgICB9LDUwMCk7XG4gICAgICAgICAgICAgICAgICAgICQod2luZG93KS5vbigndW5sb2FkJywgZnVuY3Rpb24oKSB7fSk7IC8vZGlzYWJsZXMgYmZjYWNoZSBmb3Igc2FmYXJpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbmRpdGlvbjtcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHNlbGYuc291cmNlKS5maWx0ZXIoJzpmaXJzdCcpLFxuICAgICAgICAgICAgICAgICRtb2R1bGUgPSAkdGhpcy5maW5kKCc+IC5hYS1idXN5LW1vZHVsZScpLFxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbiA9ICgkdGhpcy5sZW5ndGggPiAwICYmICRtb2R1bGUubGVuZ3RoID4gMCk7XG4gICAgICAgICAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgJG1vZHVsZS5hbmltYXRlKHtvcGFjaXR5OiAnaGlkZSd9LCA1MDAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkbW9kdWxlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcygnYWEtYnVzeScpO1xuICAgICAgICAgICAgICAgICAgICAkdGhpcy5yZW1vdmVDbGFzcygnaXMtYnVzeScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJCgnKjpmb2N1cycpLmxlbmd0aCA9PT0gMCAmJiAkdGhpcy5oYXNDbGFzcygndWktZGlhbG9nJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLmZpbmQoJ2gyJykuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbmRpdGlvbjtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfTtcbn0pKGpRdWVyeSk7XG4iXX0=
//# sourceMappingURL=jquery.aaBusy.min.js.map
